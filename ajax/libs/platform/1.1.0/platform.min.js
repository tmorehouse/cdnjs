/*!
 * Platform.js v1.1.0 <http://mths.be/platform>
 * Copyright 2010-2014 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <http://mths.be/mit>
 */
(function(){var d={"function":true,object:true};var o=(d[typeof window]&&window)||this;var n=o;var b=d[typeof exports]&&exports;var v=d[typeof module]&&module&&!module.nodeType&&module;var k=b&&v&&typeof global=="object"&&global;if(k&&(k.global===k||k.window===k||k.self===k)){o=k}var l=Math.pow(2,53)-1;var h=/Opera/;var c=this;var i=Object.prototype;var f=i.hasOwnProperty;var p=i.toString;function e(w){w=String(w);return w.charAt(0).toUpperCase()+w.slice(1)}function a(x,z){var w=-1,y=x?x.length:0;if(typeof y=="number"&&y>-1&&y<=l){while(++w<y){z(x[w],w,x)}}else{t(x,z)}}function s(w){w=r(w);return/^(?:webOS|i(?:OS|P))/.test(w)?w:e(w)}function t(w,y){for(var x in w){if(f.call(w,x)){y(w[x],x,w)}}}function u(w){return w==null?e(w):p.call(w).slice(8,-1)}function m(w,y){var x=w!=null?typeof w[y]:"number";return !/^(?:boolean|number|string|undefined)$/.test(x)&&(x=="object"?!!w[y]:true)}function q(w){return String(w).replace(/([ -])(?!$)/g,"$1?")}function g(y,x){var w=null;a(y,function(A,z){w=x(w,A,z,y)});return w}function r(w){return String(w).replace(/^ +| +$/g,"")}function j(ab){var ah=o;var B=ab&&typeof ab=="object"&&u(ab)!="String";if(B){ah=ab;ab=null}var O=ah.navigator||{};var S=O.userAgent||"";ab||(ab=S);var ac=B||c==n;var I=B?!!O.likeChrome:/\bChrome\b/.test(ab)&&!/internal|\n/i.test(p.toString());var A="Object",ai=B?A:"ScriptBridgingProxyObject",y=B?A:"Environment",C=(B&&ah.java)?"JavaPackage":u(ah.java),P=B?A:"RuntimeObject";var Z=/Java/.test(C)&&ah.java;var K=Z&&u(ah.environment)==y;var ad=Z?"a":"\u03b1";var T=Z?"b":"\u03b2";var E=ah.document||{};var U=ah.operamini||ah.opera;var z=h.test(z=(B&&U)?U["[[Class]]"]:u(U))?z:(U=null);var ag;var H=ab;var N=[];var J=null;var W=ab==S;var ae=W&&U&&typeof U.version=="function"&&U.version();var R=F([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]);var L=aa(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]);var V=D([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]);var x=Y({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}});var Q=G(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function F(aj){return g(aj,function(ak,al){return ak||RegExp("\\b"+(al.pattern||q(al))+"\\b","i").exec(ab)&&(al.label||al)})}function Y(aj){return g(aj,function(ak,am,al){return ak||(am[V]||am[0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(V)]||RegExp("\\b"+q(al)+"(?:\\b|\\w*\\d)","i").exec(ab))&&al})}function aa(aj){return g(aj,function(ak,al){return ak||RegExp("\\b"+(al.pattern||q(al))+"\\b","i").exec(ab)&&(al.label||al)})}function G(aj){return g(aj,function(ak,am){var al=am.pattern||q(am);if(!ak&&(ak=RegExp("\\b"+al+"(?:/[\\d.]+|[ \\w.]*)","i").exec(ab))){ag={"6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};if(/^Win/i.test(ak)&&(ag=ag[0,/[\d.]+$/.exec(ak)])){ak="Windows "+ag}ak=s(String(ak).replace(RegExp(al,"i"),am.label||am).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/Mac (OS X)/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])}return ak})}function D(aj){return g(aj,function(ak,am){var al=am.pattern||q(am);if(!ak&&(ak=RegExp("\\b"+al+" *\\d+[.\\w_]*","i").exec(ab)||RegExp("\\b"+al+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(ab))){if((ak=String((am.label&&!RegExp(al,"i").test(am.label))?am.label:ak).split("/"))[1]&&!/[\d.]+/.test(ak[0])){ak[0]+=" "+ak[1]}am=am.label||am;ak=s(ak[0].replace(RegExp(al,"i"),am).replace(RegExp("; *(?:"+am+"[_-])?","i")," ").replace(RegExp("("+am+")[-_.]?(\\w)","i"),"$1 $2"))}return ak})}function M(aj){return g(aj,function(ak,al){return ak||(RegExp(al+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(ab)||0)[1]||null})}function X(){return this.description||""}R&&(R=[R]);if(x&&!V){V=D([x])}if((ag=/Google TV/.exec(V))){V=ag[0]}if(/\bSimulator\b/i.test(ab)){V=(V?V+" ":"")+"Simulator"}if(/^iP/.test(V)){L||(L="Safari");Q="iOS"+((ag=/ OS ([\d_]+)/i.exec(ab))?" "+ag[1].replace(/_/g,"."):"")}else{if(L=="Konqueror"&&!/buntu/i.test(Q)){Q="Kubuntu"}else{if(x&&x!="Google"&&((/Chrome/.test(L)&&!/Mobile Safari/.test(ab))||/Vita/.test(V))){L="Android Browser";Q=/Android/.test(Q)?Q:"Android"}else{if(!L||(ag=!/\bMinefield\b|\(Android;/i.test(ab)&&/Firefox|Safari/.exec(L))){if(L&&!V&&/[\/,]|^[^(]+?\)/.test(ab.slice(ab.indexOf(ag+"/")+8))){L=null}if((ag=V||x||Q)&&(V||x||/Android|Symbian OS|Tablet OS|webOS/.test(Q))){L=/[a-z]+(?: Hat)?/i.exec(/Android/.test(Q)?Q:ag)+" Browser"}}}}}if((ag=/\((Mobile|Tablet).*?Firefox/i.exec(ab))&&ag[1]){Q="Firefox OS";if(!V){V=ag[1]}}if(!ae){ae=M(["(?:Cloud9|CriOS|CrMo|Iron|Opera ?Mini|OPR|Raven|Silk(?!/[\\d.]+$))","Version",q(L),"(?:Firefox|Minefield|NetFront)"])}if(R=="iCab"&&parseFloat(ae)>3){R=["WebKit"]}else{if((ag=/Opera/.test(L)&&(/OPR/.test(ab)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(ab)&&"WebKit"||!R&&/\bMSIE\b/i.test(ab)&&(Q=="Mac OS"?"Tasman":"Trident"))){R=[ag]}else{if(/PlayStation(?! Vita)/i.test(L)&&R=="WebKit"){R=["NetFront"]}}}if(!L&&R=="Trident"){L="IE";ae=(/\brv:([\d.]+)/.exec(ab)||0)[1]}if(W){if(m(ah,"global")){if(Z){ag=Z.lang.System;H=ag.getProperty("os.arch");Q=Q||ag.getProperty("os.name")+" "+ag.getProperty("os.version")}if(m(ah,"exports")){if(ac&&m(ah,"system")&&(ag=[ah.system])[0]){Q||(Q=ag[0].os||null);try{ag[1]=(ag[1]=ah.require)&&ag[1]("ringo/engine").version;ae=ag[1].join(".");L="RingoJS"}catch(af){if(ag[0].global.system==ah.system){L="Narwhal"}}}else{if(typeof ah.process=="object"&&(ag=ah.process)){L="Node.js";H=ag.arch;Q=ag.platform;ae=/[\d.]+/.exec(ag.version)[0]}else{if(K){L="Rhino"}}}}else{if(K){L="Rhino"}}}else{if(u((ag=ah.runtime))==ai){L="Adobe AIR";Q=ag.flash.system.Capabilities.os}else{if(u((ag=ah.phantom))==P){L="PhantomJS";ae=(ag=ag.version||null)&&(ag.major+"."+ag.minor+"."+ag.patch)}else{if(typeof E.documentMode=="number"&&(ag=/\bTrident\/(\d+)/i.exec(ab))){ae=[ae,E.documentMode];if((ag=+ag[1]+4)!=ae[1]){N.push("IE "+ae[1]+" mode");R&&(R[1]="");ae[1]=ag}ae=L=="IE"?String(ae[1].toFixed(1)):ae[0]}}}}Q=Q&&s(Q)}if(ae&&(ag=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(ae)||/(?:alpha|beta)(?: ?\d)?/i.exec(ab+";"+(W&&O.appMinorVersion))||/\bMinefield\b/i.test(ab)&&"a")){J=/b/i.test(ag)?"beta":"alpha";ae=ae.replace(RegExp(ag+"\\+?$"),"")+(J=="beta"?T:ad)+(/\d+\+?/.exec(ag)||"")}if(L=="Fennec"||L=="Firefox"&&/Android|Firefox OS/.test(Q)){L="Firefox Mobile"}else{if(L=="Maxthon"&&ae){ae=ae.replace(/\.[\d.]+/,".x")}else{if(L=="Silk"){if(!/Mobi/i.test(ab)){Q="Android";N.unshift("desktop mode")}if(/Accelerated *= *true/i.test(ab)){N.unshift("accelerated")}}else{if(L=="IE"&&(ag=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(ab)||0)[1])){L+=" Mobile";Q="Windows Phone OS "+ag+".x";N.unshift("desktop mode")}else{if(/Xbox/i.test(V)){Q=null;if(V=="Xbox 360"&&/IEMobile/.test(ab)){N.unshift("mobile mode")}}else{if((L=="Chrome"||L=="IE"||L&&!V&&!/Browser|Mobi/.test(L))&&(Q=="Windows CE"||/Mobi/i.test(ab))){L+=" Mobile"}else{if(L=="IE"&&W&&ah.external===null){N.unshift("platform preview")}else{if((/BlackBerry/.test(V)||/BB10/.test(ab))&&(ag=(RegExp(V.replace(/ +/g," *")+"/([.\\d]+)","i").exec(ab)||0)[1]||ae)){ag=[ag,/BB10/.test(ab)];Q=(ag[1]?(V=null,x="BlackBerry"):"Device Software")+" "+ag[0];ae=null}else{if(this!=t&&(V!="Wii"&&((W&&U)||(/Opera/.test(L)&&/\b(?:MSIE|Firefox)\b/i.test(ab))||(L=="Firefox"&&/OS X (?:\d+\.){2,}/.test(Q))||(L=="IE"&&((Q&&!/^Win/.test(Q)&&ae>5.5)||/Windows XP/.test(Q)&&ae>8||ae==8&&!/Trident/.test(ab)))))&&!h.test((ag=j.call(t,ab.replace(h,"")+";")))&&ag.name){ag="ing as "+ag.name+((ag=ag.version)?" "+ag:"");if(h.test(L)){if(/IE/.test(ag)&&Q=="Mac OS"){Q=null}ag="identify"+ag}else{ag="mask"+ag;if(z){L=s(z.replace(/([a-z])([A-Z])/g,"$1 $2"))}else{L="Opera"}if(/IE/.test(ag)){Q=null}if(!W){ae=null}}R=["Presto"];N.push(ag)}}}}}}}}}if((ag=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(ab)||0)[1])){ag=[parseFloat(ag.replace(/\.(\d)$/,".0$1")),ag];if(L=="Safari"&&ag[1].slice(-1)=="+"){L="WebKit Nightly";J="alpha";ae=ag[1].slice(0,-1)}else{if(ae==ag[1]||ae==(ag[2]=(/\bSafari\/([\d.]+\+?)/i.exec(ab)||0)[1])){ae=null}}ag[1]=(/\bChrome\/([\d.]+)/i.exec(ab)||0)[1];if(ag[0]==537.36&&ag[2]==537.36&&parseFloat(ag[1])>=28){R=["Blink"]}if(!W||(!I&&!ag[1])){R&&(R[1]="like Safari");ag=(ag=ag[0],ag<400?1:ag<500?2:ag<526?3:ag<533?4:ag<534?"4+":ag<535?5:ag<537?6:ag<538?7:"7")}else{R&&(R[1]="like Chrome");ag=ag[1]||(ag=ag[0],ag<530?1:ag<532?2:ag<532.05?3:ag<533?4:ag<534.03?5:ag<534.07?6:ag<534.1?7:ag<534.13?8:ag<534.16?9:ag<534.24?10:ag<534.3?11:ag<535.01?12:ag<535.02?"13+":ag<535.07?15:ag<535.11?16:ag<535.19?17:ag<536.05?18:ag<536.1?19:ag<537.01?20:ag<537.11?"21+":ag<537.13?23:ag<537.18?24:ag<537.24?25:ag<537.36?26:R!="Blink"?"27":"28")}R&&(R[1]+=" "+(ag+=typeof ag=="number"?".x":/[.+]/.test(ag)?"":"+"));if(L=="Safari"&&(!ae||parseInt(ae)>45)){ae=ag}}if(L=="Opera"&&(ag=/(?:zbov|zvav)$/.exec(Q))){L+=" ";N.unshift("desktop mode");if(ag=="zvav"){L+="Mini";ae=null}else{L+="Mobile"}}else{if(L=="Safari"&&/Chrome/.exec(R&&R[1])){N.unshift("desktop mode");L="Chrome Mobile";ae=null;if(/OS X/.test(Q)){x="Apple";Q="iOS 4.3+"}else{Q=null}}}if(ae&&ae.indexOf((ag=/[\d.]+$/.exec(Q)))==0&&ab.indexOf("/"+ag+"-")>-1){Q=r(Q.replace(ag,""))}if(R&&!/Avant|Nook/.test(L)&&(/Browser|Lunascape|Maxthon/.test(L)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(L)&&R[1])){(ag=R[R.length-1])&&N.push(ag)}if(N.length){N=["("+N.join("; ")+")"]}if(x&&V&&V.indexOf(x)<0){N.push("on "+x)}if(V){N.push((/^on /.test(N[N.length-1])?"":"on ")+V)}if(Q){ag=/ ([\d.+]+)$/.exec(Q);Q={architecture:32,family:ag?Q.replace(ag[0],""):Q,version:ag?ag[1]:null,toString:function(){var aj=this.version;return this.family+(aj?" "+aj:"")+(this.architecture==64?" 64-bit":"")}}}if((ag=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(H))&&!/\bi686\b/i.test(H)){if(Q){Q.architecture=64;Q.family=Q.family.replace(RegExp(" *"+ag),"")}if(L&&(/WOW64/i.test(ab)||(W&&/\w(?:86|32)$/.test(O.cpuClass||O.platform)))){N.unshift("32-bit")}}ab||(ab=null);var w={};w.description=ab;w.layout=R&&R[0];w.manufacturer=x;w.name=L;w.prerelease=J;w.product=V;w.ua=ab;w.version=L&&ae;w.os=Q||{architecture:null,family:null,version:null,toString:function(){return"null"}};w.parse=j;w.toString=X;if(w.version){N.unshift(ae)}if(w.name){N.unshift(L)}if(Q&&L&&!(Q==String(Q).split(" ")[0]&&(Q==L.split(" ")[0]||V))){N.push(V?"("+Q+")":"on "+Q)}if(N.length){w.description=N.join(" ")}return w}if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return j()})}else{if(b&&v){t(j(),function(x,w){b[w]=x})}else{o.platform=j()}}}.call(this));