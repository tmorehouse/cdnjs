(function(){var e,t=function(){},n=this,r=n.m,o=Array.prototype,i=Object.prototype,a=(Function.prototype,o.push,o.slice),s=o.splice,u=(o.concat,o.indexOf),c=i.toString,l=i.hasOwnProperty,p=String.prototype.trim,f=Array.isArray,d=Object.keys,h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;""!=="﻿ ".trim()&&(p=function(){return null==this?"":(this+"").replace(h,"")}),e=function(){},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.m=e):n.m=e,e.VERSION="0.3.5",e.apply=function(e,t,n){var r=n&&n.length;if(!n||!r)return e.call(t);switch(r){case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);case 4:return e.call(t,n[0],n[1],n[2],n[3]);case 5:return e.call(t,n[0],n[1],n[2],n[3],n[4]);default:return e.apply(t,n)}};var m={};e.classExtend=function(t,n,r){var o,i,a,s=this;return i=t&&e.has(t,"constructor")?t.constructor:s,o=r?function(e,t){return this instanceof o?e===m?i.apply(this,t):i.apply(this,arguments):new o(m,arguments)}:function(){return i.apply(this,arguments)},a=function(){this.constructor=o},a.prototype=s.prototype,o.prototype=new a,t&&e.extend(o.prototype,t),e.extend(o,s,n),o.__super__=s.prototype,o},e.clone=function(t){var n,r,o;if(t===!0&&e.has(arguments,1)&&(n=t,t=arguments[1]),!e.isObjectLike(t))return t;switch(e.type(t)){case"array":return n?e.extend(n,[],t):a.call(t);case"number":case"string":case"date":case"boolean":return new(r=t.constructor)(t);case"regexp":return r=t.constructor,o=new r(t),o.lastIndex=t.lastIndex,o;default:return n?e.extend(n,{},t):e.extend({},t)}},e.each=function(t,n){var r,o,i=e.each.breaker;if(e.isArrayLike(t))for(o=t.length,r=0;o>r&&n.call(t[r],r,t[r])!==i;r++);else for(r in t)if(n.call(t[r],r,t[r])===i)break;return t},e.each.breaker=!1,e.err=function(e,t){throw e+" ERROR: "+t},e.extend=function(t){var n,r,o,i,a,s,u,c=1,l=arguments.length,p=!1;for(t===!0&&(p=t,t=arguments[c]||{},c++),u=typeof t,"object"!==u&&"function"!==u&&(t={});l>c;c++)if(null!=(n=arguments[c]))for(r in n)o=t[r],i=n[r],t!==i&&(p&&i&&("object"===(a=e.type(i))||"array"===a)?(s="array"===a?o&&e.isArray(o)?o:[]:o&&e.isObject(o)?o:{},t[r]=e.extend(p,s,i)):void 0!==i&&(t[r]=i));return t},e.has=function(e,t){return null!=e&&l.call(e,t)},e.keys=function(t,n){if(!e.isObjectLike(t))return[];if(!n&&d)return d(t);var r,o=[];for(r in t)n?o.push(r):e.has(t,r)&&o.push(r);return o},e.log=function(e,t){console.log(e+" LOG: "+t)},e.noConflict=function(){return r&&(n.m=r),this},e.now=Date.now||function(){return+new Date},e.proxy=function(t,n){var r,o,i=e.type(n);if("string"===i){if(!t)return null;n=t[n]}else if("function"!==i)return null;return null!=t?arguments.length>2?(r=a.call(arguments,2),o=function(){return n.apply(t,r.concat(a.call(arguments)))}):o=function(){return n.apply(t,arguments)}:arguments.length>2?(r=a.call(arguments,2),o=function(){return n.apply(this,r.concat(a.call(arguments)))}):o=function(){return n.apply(this,arguments)},o};var g={};e.uniqueId=function(e){return e=e?e+"":"",g[e]||(g[e]=0),e+ ++g[e]},e.isArguments=function(e){return"[object Arguments]"===c.call(e)},e.isArguments(arguments)||(e.isArguments=function(t){return e.has(t,"callee")}),e.isArray=f||function(t){return"array"===e.type(t)},e.isArrayLike=function(t){if(!t||e.isFunction(t)||e.isWindow(t)||e.isString(t))return!1;var n=t.length;return e.isArray(t)||0===n||"number"==typeof n&&n>0&&n-1 in t},e.isBoolean=function(t){return t===!0||t===!1||"boolean"===e.type(t)},e.isDate=function(t){return"date"===e.type(t)},e.isElement=function(e){return!(!e||1!==e.nodeType)},e.isEmpty=function(t){if(null==t)return!0;if(e.isArray(t)||e.isString(t)||e.isArguments(t))return 0===t.length;for(var n in t)if(e.has(t,n))return!1;return!0};var v=function(t,n,r,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;var i=c.call(t);if(i!=c.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return t=+t,n=+n,t!==t?n!==n:0===t?1/t===1/n:t===n;case"[object Date]":case"[object Boolean]":return+t===+n}var a="[object Array]"===i;if(!a){if("object"!=typeof t||"object"!=typeof n)return!1;var s=t.constructor,u=n.constructor;if(!(s===u||e.isPlainObject(t)&&e.isPlainObject(n)))return!1}for(var l=r.length;l--;)if(r[l]===t)return o[l]===n;if(r.push(t),o.push(n),a){if(l=t.length,l!==n.length)return!1;for(;l--;)if(!v(t[l],n[l],r,o))return!1}else{var p,f=e.keys(t);if(l=f.length,e.keys(n).length!==l)return!1;for(;l--;)if(p=f[l],!e.has(n,p)||!v(t[p],n[p],r,o))return!1}return r.pop(),o.pop(),!0};e.isEqual=function(e,t){return v(e,t,[],[])},e.isError=function(t){return"error"===e.type(t)},e.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},e.isFunction=function(t){return"function"===e.type(t)},"function"!=typeof/./&&"object"!=typeof Int8Array&&(e.isFunction=function(e){return"function"==typeof e||!1}),e.isNaN=function(t){return t!==+t&&e.isNumber(t)},e.isNull=function(e){return null===e},e.isNumber=function(t){return"number"===e.type(t)},e.isObject=function(t){return"object"===e.type(t)},e.isObjectLike=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},e.isPlainObject=function(t){var n;return e.isObject(t)?(n=t.constructor)?n instanceof n:!e.has(t,"constructor"):!1},e.isRegExp=function(t){return"regexp"===e.type(t)},e.isString=function(t){return"string"===e.type(t)},e.isUndefined=function(e){return void 0===e};var y="[object Window]",b="function Window() { [native code] }",w=n.toString;e.isWindow=function(t){var n;if(null==t||t!==t.window)return!1;try{return w.call(t)===y}catch(r){return n=t.constructor,n&&n.toString&&!e.has(t,"constructor")?n.toString()===b:!1}};var _={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};e.type=function(e){if(null==e)return e+"";var t=typeof e;return"object"===t||"function"===t?_[c.call(e)]||"object":t},e.events={};var x=/\S+/g,k=/^[^.]+/g,j=/\.[^.]+/g,E=function(e,t){var n,r,o;for(e.length>t.length?(n=t,r=e):(n=e,r=t),o=n.length;o--;)if(-1!==u.call(r,n[o]))return!0;return!1},A=function(e,t,n,r,o){var i,a,s,u=[];if(!e.__m__)return!1;if(i=e.__m__.events,s=i?i.length:0,!s)return!1;for(;s--;)a=i[s],t&&a.type!==t||r&&a.handler!==r||!(!n||0===n.length||a.namespaces&&E(a.namespaces,n))||o&&a.context!==o||u.push(s);return 0===u.length?!1:u};t("getListeners",A),e.events.off=function(e,t,n){if(!this.__m__)return this;if(!this.__m__.events)return this;var r,o,i,a,s,u=0,c=[];for(e=(e||"").match(x)||[""],i=e.length;i--;)if(r=(e[i].match(k)||c)[0],o=e[i].match(j),a=A(this,r,o,t,n))for(s=a.length,u=0;s--;)this.__m__.events.splice(a[s]-u,1),++u;return this},e.events.on=function(e,t,n){if(!e)return this;if(!t)return this;this.__m__||(this.__m__={}),this.__m__.events||(this.__m__.events=[]);var r,o,i;for(e=(e||"").match(x)||[""],i=e.length;i--;)r=e[i].match(k),r&&(r=r[0],o=e[i].match(j)||void 0,this.__m__.events.push({type:r,namespaces:o,handler:t,context:n}));return this},e.events.trigger=function(t){if(!this.__m__)return this;if(!this.__m__.events)return this;var n,r,o,i,s,u,c=a.call(arguments,1),l=(c[0],c[1],c[2],[]);for(t=(t||"").match(x)||[""],o=t.length;o--;)if(n=(t[o].match(k)||l)[0],r=t[o].match(j),i=A(this,n,r))for(s=i.length;s--;)u=this.__m__.events[i[s]],e.apply(u.handler,null!=u.context?u.context:this,c);return this},e.Model=function(t){this.attributes={},this.set(t),this.cid=e.uniqueId("c"),this.initialize&&this.initialize.apply(this,arguments)},e.Model.fromPath=function(t,n,r,o){if(n=e.isString(n)?n.split("."):n,!n||!n.length)return t;for(var i=0,a=n.length-1;t&&a>i;)t=t[n[i]],i++;switch(r){case"has":return e.has(t,n[i]);case"set":t&&(t[n[i]]=o);break;case"unset":t&&delete t[n[i]]}return t?t[n[i]]:void 0},e.Model.extend=e.classExtend,e.Model.prototype={constructor:e.Model},e.extend(e.Model.prototype,e.events),e.Model.prototype.clear=function(){var e,t={};for(e in this.attributes)t[e]=void 0;return this.set(t,!0)},e.Model.prototype.clone=function(){return new this.constructor(this.attributes)},e.Model.prototype.get=function(t){return e.Model.fromPath(this.attributes,t)},e.Model.prototype.has=function(t){return e.Model.fromPath(this.attributes,t,"has")},e.Model.prototype.set=function(t,n,r){var o,i,s,u,c,l,p,f,d,h,m;if(null==t)return this;if("object"==typeof t?(p=t,r=n):(p={})[t]=n,this.validate&&!this.validate(p))return!1;f=[],h=this.attributes;for(s in p)if(u=e.isString(s)?s.split("."):s,n=p[s],o=this.get(u),m=null,d=null,r?this.has(u)&&(m="delete"):r||this.has(u)?e.isEqual(o,n)||(m="update"):m="add",m){switch(c=a.call(u),i=c.pop(),l=e.Model.fromPath(h,c),m){case"add":e.isArray(l)&&!e.isNaN(i-0)?d=this._splice(c.toString(),i,0,n):e.Model.fromPath(h,u,"set",n);break;case"update":e.Model.fromPath(h,u,"set",n);break;case"delete":e.Model.fromPath(h,u,"unset")}d=d||{model:this,path:s,name:i,object:l,oldValue:o,newValue:r?void 0:n,type:m},f.push(d)}return f.length&&this.trigger("change",f),this};var S=function(t,n){var r,o,i,u,c,l,p;for(o=e.Model.fromPath(this.attributes,t),n-=0;n&&!e.has(o,n-1);)n--;return i=o.length,l=s.apply(o,a.call(arguments,1)),p=l.length,(p||i!==o.length)&&(u=a.call(arguments,3),c=u.length,r={model:this,path:t,added:u,addedCount:c,index:n,object:o,removed:l,removedCount:p,type:"splice"}),r};e.Model.prototype.splice=function(){var e=[S.apply(this,arguments)];return e[0]?(this.trigger("change",e),e[0].removed):void 0},e.Model.prototype.unset=function(e){return"object"==typeof e?this.set(e,!0):this.set(e,void 0,!0)},function(e){if("undefined"!=typeof document){e.view={};var t=[],n=function(e){if(!o(e.el)){var n=e.mapIndex=t.length;t[n]=e,e.el.setAttribute("data-m",n)}},r=function(n){t[n.mapIndex]=null,n.el.removeAttribute("data-m"),e.each(n,function(e){n[e]=void 0})},o=function(e){if(e===window)return t[0];var n=e.getAttribute?t[e.getAttribute("data-m")]:void 0;return n&&n.el===e?n:void 0};!function(e){var n=function(){},r=new n;r.el=e,t[0]=r}(window);var i="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),s=[],c=[];e.view.appendTo=function(e,t){var n=u.call(c,t);return-1!==n&&s[n].constructor===e.constructor?(s[n].props=e.props,void s[n].update()):(s.push(e),c.push(t),e.setEl(),C(e),void t.appendChild(e.el))};var l=function(e){return this.el=e||document.createElement(this.tagName),n(this),this.setEl=null,this.el};e.view.createClass=function(t,n){t||e.err("m.view.createClass","Please provide a tag name");var r=function(e){this.props=e};return r.prototype=e.extend({},n,{constructor:r,tagName:t,setEl:l,selfClosingTag:-1!==u.call(i,t),_init:!1,dom:!1}),function(e){return new r(e)}},e.view.select=function(e){if(e){var t,n;return(n=o(e))?n:(t=function(){},n=new t,l.call(n,e),n)}};var f={},d=/^on/,h=["Webkit","Moz","ms"],m=function(t){var n,r=t.newAttrs,o=t.prevAttrs,i=t.el;o=o||f,r=r||f;for(n in o)n in r?e.isEqual(o[n],r[n])||g(t,i,n,o[n],r[n]):g(t,i,n,o[n]);for(n in r)n in o||g(t,i,n,o[n],r[n])},g=function(t,n,r,o,i){var a,s,u;switch(r){case"style":y(n,o,i);break;case"className":a=p.call(i),a!=n.className&&(n.className=a);break;case"classes":a=p.call(i.join(" ")),a!=n.className&&(n.className=a);break;case"id":s=p.call(i),n.id!=i&&(n.id=i);break;case"value":n.value=i;break;default:if(d.test(r)){u=p.call(r.replace(d,"")),o&&e.events.off.call(t,u,o),i&&e.events.on.call(t,u,i);break}"data-m"!=r&&(i?n.setAttribute(r,i+""):n.removeAttribute(r)),r in n&&(n[r]=i)}},v=function(e,t){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,o=h.length;o--;)if(e=h[o]+n,e in t)return e;return r},y=function(t,n,r){var o;n=n||f,r=r||f;for(o in n)o in r?e.isEqual(n[o],r[o])||(t.style[v(o,t.style)]=r[o]):t.style[v(o,t.style)]=null;for(o in r)o in n||(t.style[v(o,t.style)]=r[o])},b=function(t,n){return t===n?!0:e.isString(t)&&e.isString(n)?!0:t.key==n.key&&t.constructor===n.constructor},w=function(t,n,o,i,a,s){if(null!==n){var u,c,l,p,f=t.el,d=f.childNodes,h=i+s-1;switch(o){case _:u=t.prevDom[i],c=t.newDom[a],e.isString(u)?u!=c&&(d[h].nodeValue=c):(t.newDom[a]=u,u.dom!==!0?e.isEqual(u.props,c.props)||(u.props=c.props,C(u)):(u.props=c.props,C(u)));break;case k:e.isString(n)?l=document.createTextNode(n):(l=n.setEl(),C(n)),p=d[h],p?f.insertBefore(l,p):f.appendChild(l);break;case x:e.isString(n)?f.removeChild(d[h]):(f.removeChild(n.el),r(n))}}},_=0,x=-1,k=1,j=function(e,t,n){return{x:e,y:t,k:n}},E=function(e,t,n){var r,o,i,a,s,u,c,l,p,f,d,h,m,g,v,y,E,A,S,P,N,D=!1,M=t?t.length:0,T=n?n.length:0,C=0,O=0;if(0!==M||0!==T)if(0!==M)if(0!==T){for(T>=M?(r=t,o=n):(r=n,o=t,D=!0),i=r.length,a=o.length,c=function(e,t,n){var c,l,p;for(t>n?(c=s[e-1],p=t):(c=s[e+1],p=n),l=p-e;i>l&&a>p&&b(r[l],o[p]);)++l,++p;return u[s[e]=u.length]=j(l,p,c),p},l=a-i,d=[],s=[],u=[],p=l+1,f=l-1,C=-i+1;a+1>=C;++C)d[C]=s[C]=-1;h=-1;do{for(++h,v=-h;f>=v;++v)d[v]=c(v,d[v-1]+1,d[v+1]);for(v=l+h;v>=p;--v)d[v]=c(v,d[v-1]+1,d[v+1]);d[l]=c(l,d[f]+1,d[p])}while(d[l]!==a);for(m=s[l],g=[];-1!==m;)g[g.length]=j(u[m].x,u[m].y,null),m=u[m].k;for(C=g.length,y=E=1,A=S=0;C--;)for(;A<g[C].x||S<g[C].y;)P=g[C].y-g[C].x,N=S-A,P>N?(D?w(e,o[S],x,S,A,O--):w(e,o[S],k,A,S,O++),++E,++S):P!==N?(D?w(e,r[A],k,S,A,O++):w(e,r[A],x,A,S,O--),++y,++A):(D?w(e,r[A],_,S,A,O):w(e,r[A],_,A,S,O),++y,++E,++A,++S)}else for(;M>C;C++)w(e,t[C],x,C,0,-C);else for(;T>C;C++)w(e,n[C],k,0,C,C)};e.view.dom={},e.each("a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup command data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr".split(" "),function(t,n){var r=function(e){this.props=e};r.prototype={constructor:r,tagName:n,setEl:l,selfClosingTag:-1!==u.call(i,n),dom:!0,render:function(){return this.props}},e.view.dom[n]=function(){return new r(a.call(arguments))}});var S=function(t,n){t&&t.type?(this.originalEvent=t,this.type=t.type):this.type=t,this.type in D&&(this.type=D[this.type]),n&&e.extend(this,n),this.timeStamp=t&&t.timeStamp||e.now()};S.prototype={constructor:S,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var P=/^key/,N=/^(?:mouse|pointer|contextmenu)|click/,D={mousemove:"pointermove",touchmove:"pointermove",mousedown:"pointerdown",touchstart:"pointerdown",mouseup:"pointerup",touchend:"pointerup",mouseover:"pointerover",touchenter:"pointerover",mouseout:"pointerout",touchleave:"pointerout",mousewheel:"wheel"},M={fixHooks:{},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},pointerHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||document,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.target=document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=N.test(o)?this.pointerHooks:P.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new S(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=i.srcElement||document),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,i):e}},T=function(e){function t(){return n=s?e.target:n.parentNode?n.parentNode:n===document?window:null}e=M.fix(e);for(var n,r,i,a,s=!0;!e.isPropagationStopped&&t();)if(s&&(s=!1),r=o(n),r&&(e.bubbles||e.stopPropagation(),eventIndexes=A(r,e.type)))for(a=eventIndexes.length;a--&&!e.isImmediatePropagationStopped;)e.currentTarget=n,e.handlerObj=i=r.__m__.events[eventIndexes[a]],e.data=i.data,e.result=i.handler.call(r,e)};!function(e){var t,n=/^on/;for(t in e)t.match(n)&&e.addEventListener(t.replace(n,""),T)}(window);var C=function(t){t.dom||t._init||(t.model=new e.Model,t.update=function(){t._init&&C(t)},t.initialize&&t.initialize(),t.model.on("change",t.update),t._init=!0);var n=t.render?t.render():[];t.newAttrs=n[0],t.selfClosingTag||(n[0]=null,t.newDom=n,E(t,t.prevDom,t.newDom),t.prevDom=t.newDom),m(t),t.prevAttrs=t.newAttrs,delete t.newDom,delete t.newAttrs}}}(e),function(e){if("undefined"!=typeof document){e.ui={};{e.view.dom.a,e.view.dom.b,e.view.dom.br,e.view.dom.button,e.view.dom.div,e.view.dom.em,e.view.dom.form,e.view.dom.h1,e.view.dom.h2,e.view.dom.h3,e.view.dom.h4,e.view.dom.h5,e.view.dom.h6,e.view.dom.i,e.view.dom.img,e.view.dom.input,e.view.dom.li,e.view.dom.small,e.view.dom.span,e.view.dom.strong,e.view.dom.style,e.view.dom.table,e.view.dom.tbody,e.view.dom.td,e.view.dom.textarea,e.view.dom.tfoot,e.view.dom.th,e.view.dom.thead,e.view.dom.tr,e.view.dom.u,e.view.dom.ul}}}(e),"undefined"!=typeof DEV&&(e.DEV=DEV),"function"==typeof define&&define.amd&&define(function(){return e})}).call(this);