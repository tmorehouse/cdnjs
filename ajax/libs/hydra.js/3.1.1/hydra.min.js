(function(){var w,o,l,g,j,s,y,c,r,z,E,G,C,n,A,B;function k(){var H=+new Date()+"",I=Math.floor(Math.random()*(999999-1+1))+1;return H+"_"+I}function m(H){var J,I;if(Object.keys){J=Object.keys(H).length}else{J=0;for(I in H){if(x(H,I)){J++}}}return J}if(typeof Object.create!=="function"){Object.create=function(H){function I(){}I.prototype=H;return new I()}}A=typeof exports==="object"&&typeof module==="object"&&typeof module.exports==="object"&&typeof require==="function";o="undefined";B=Object.prototype;w=this;j=null;y=false;l={};c="3.1.1";z=y;s=y;function v(H){return B.toString.call(H)}function b(H){return v(H)==="[object Function]"}function q(H){return v(H)==="[object Array]"}function a(H){z=H}function t(H){s=H}function u(I,H){return[].slice.call(I,H||0)}function x(H,I){return H.hasOwnProperty(I)}function F(N,J,I,M,L){var K,H;K=l[J];if(L&&N.isModuleStarted(J,I)){N.stop(J,I)}if(typeof K!==o){H=p(J);K.instances[I]=H;H.__instance_id__=I;if(typeof M!==o){H.init(M)}else{H.init()}}return H}function d(I,H){var J;for(J in H){if(x(H,J)){I[J]=H[J]}}return I}function f(I,K,J,H){I[K]=(function(M,L){return function(){var O=u(arguments,0);try{return L.apply(this,O)}catch(N){E.log(J,M,N);return false}}}(K,H))}n={global:{}};function i(I,J){var H=[],K;if(typeof I!=="undefined"){for(K in I){if(x(I,K)&&K===J){H=I[K]}}}return H}C={subscribers:function(H,I){return i(n[H],I)},_getChannelEvents:function(H,I){if(typeof n[H]==="undefined"){n[H]={}}if(typeof n[H][I]==="undefined"){n[H][I]=[]}return n[H][I]},_addSubscribers:function(I,H,J){var K;for(K in I){if(x(I,K)){this.subscribeTo(H,K,I[K],J)}}},unsubscribeFrom:function(J,N,L){var H=this._getChannelEvents(J,N),M,I,K=H.length;for(I=0;I<K;I++){M=H[I];if(M.subscriber===L){H.splice(I,1)}}},subscribeTo:function(J,L,I,K){var H=this._getChannelEvents(J,L);H.push({subscriber:K,handler:I})},subscribe:function(J){var H,I=J.events;if(!J||typeof I==="undefined"){return false}for(H in I){if(x(I,H)){if(typeof n[H]==="undefined"){n[H]={}}this._addSubscribers(I[H],H,J)}}return true},_removeSubscribers:function(J,K){var L,H=0,I=0;if(typeof J!==o){L=J.length;for(;H<L;H++){if(J[H].subscriber===K){I++;J.splice(H,1)}}}return I},_removeSubscribersPerEvent:function(K,I,L){var O,N,J,M,H=0;for(O in K){if(x(K,O)){N=O.split(":");J=I;M=O;if(N[0]==="global"){J=N[0];M=N[1]}H+=this._removeSubscribers(n[J][M],L)}}return H},unsubscribe:function(K){var H=0,I,J=K.events;if(!K||typeof J==="undefined"){return false}for(I in J){if(x(J,I)){if(typeof n[I]==="undefined"){n[I]={}}H=this._removeSubscribersPerEvent(J[I],I,K)}}return H>0},_avoidBlockUI:function(J,N,I,M){var L,H=J.concat();setTimeout(function K(){var O=+new Date();do{L=H.shift();L.handler.call(L.subscriber,N);if(z){E.log(I,M,L)}}while(H.length>0&&(+new Date()-O<50));if(H.length>0){setTimeout(K,25)}},25)},publish:function(J,M,N){var I=this.subscribers(J,M),L=I.length,H,K;if(L===0){return false}if(s){this._avoidBlockUI(I,N,J,M)}else{for(H=0;H<L;H++){K=I[H];K.handler.call(K.subscriber,N);if(z){E.log(J,M,K)}}}return true},reset:function(){n={global:{}}}};function h(I,K){var J,H;J=l[I].creator(K);J.__module_id__=I;H=J.init||function(){};J.__action__=K;J.events=J.events||{};J.init=function(){var L=u(arguments,0).concat(g);K.subscribe(J);H.apply(this,L)};J.handleAction=function(M){var L=this.events[M.type];if(typeof L===o){return}L.call(this,M)};J.onDestroy=J.onDestroy||function(){};J.destroy=function(){this.onDestroy();K.unsubscribe(J)};return J}function p(I){var H,J;if(typeof l[I]===o){throw new Error("The module "+I+" is not registered!")}H=h(I,C);if(!z){for(J in H){if(x(H,J)&&b(H[J])){f(H,J,I,H[J])}}}return H}E=w.console||{log:function(){}};G=function(){};G.prototype={type:"Module",getInstance:p,register:function(I,H){l[I]={creator:H,instances:{}};return l[I]},_setSuper:function(H,I){H.__super__={};H.__super__.__instance__=I;H.__super__.__call__=function(K,L){var J=this;while(x(J,K)===y){J=J.__instance__.__super__}J[K].apply(H,L)}},_callInSuper:function(H){return function(){var I=u(arguments,0);H.apply(this,I)}},_mergeModuleExtended:function(I,H){var J;for(J in H){if(x(H,J)){if(typeof I.__super__!==o&&b(I[J])){I.__super__[J]=(this._callInSuper(I[J]))}I[J]=H[J]}}},_mergeModuleBase:function(H,J){var I;for(I in J){if(x(J,I)){if(I!=="__super__"){H[I]=J[I]}}}},_merge:function(J,H){var I={};this._setSuper(I,J);this._mergeModuleBase(I,J);this._mergeModuleExtended(I,H);return I},extend:function(N,J,L){var I,M,Q,K,O,H,P;P=this;I=l[N];M=N;Q=function(){};if(typeof J==="string"){M=J;Q=L}else{Q=J}if(typeof I===o){return}O=Q(C);K=I.creator(C);l[M]={creator:function(R){H=P._merge(K,O);H.__action__=R;return H},instances:{}}},setInstance:function(J,I,H){var K=l[J];if(!K){throw new Error("The module "+J+" is not registered!")}K.instances[I]=H;return K},setVars:function(H){if(typeof g!==o){g=d(g,H)}else{g=H}},getVars:function(){return d({},g)},_multiModuleStart:function(L,Q,I,K){var J,N,P,H,M,O;if(q(Q)){J=Q.slice(0)}if(q(I)){N=I.slice(0)}if(q(K)){P=K.slice(0)}for(H=0,M=L.length;H<M;H++){O=L[H];Q=J&&J[H]||k();I=N&&N[H]||I;K=P&&P[H]||K;F(this,O,Q,I,K)}},_singleModuleStart:function(I,H,K,J){if(typeof H!=="string"){K=H;J=K;H=k()}F(this,I,H,K,J)},start:function(J,H,L,K){var I=q(J);if(I){this._multiModuleStart(J.slice(0),H,L,K)}else{this._singleModuleStart(J,H,L,K)}},isModuleStarted:function(J,H){var I=false;if(typeof H===o){I=(typeof l[J]!==o&&m(l[J].instances)>0)}else{I=(typeof l[J]!==o&&typeof l[J].instances[H]!==o)}return I},startAll:function(){var H,I;for(H in l){if(x(l,H)){I=l[H];if(typeof I!==o){this.start(H,k())}}}},_multiModuleStop:function(J){var I,K=J.instances,H;for(I in K){if(x(K,I)){H=K[I];if(typeof J!==o&&typeof H!==o){H.destroy()}}}},_singleModuleStop:function(K,J,H){var I=K.instances[H];if(typeof K!==o&&typeof I!==o){I.destroy()}},stop:function(I,H){var J;J=l[I];if(typeof J===o){return false}if(typeof H!==o){this._singleModuleStop(J,I,H)}else{this._multiModuleStop(J)}return true},_stopOneByOne:function(J,I){var H;for(H in J){if(x(J,H)){this.stop(I,H)}}},stopAll:function(){var H;for(H in l){if(x(l,H)&&typeof l[H]!==o){this._stopOneByOne(l[H].instances,H)}}},_delete:function(H){if(typeof l[H]!==o){delete l[H]}},remove:function(H){var I=l[H];if(typeof I===o){return null}if(typeof I!==o){try{return I}finally{this._delete(H)}}return null}};function e(){return E}function D(H){E=H}r=function(){};r.version=c;r.bus=C;r.errorHandler=e;r.setErrorHandler=D;r.module=new G();r.setUnblockUI=t;r.setDebug=a;r.getDebug=function(){return z};r.extend=function(I,H){if(typeof this[I]===o){this[I]=H}else{this[I]=d(this[I],H)}};r.noConflict=function(I,H,J){if(typeof this[I]!==o){H[J]=this[I];return true}return false};w.Hydra=r;if(A){module.exports=r}else{if(typeof define!=="undefined"){define(function(){return r})}}}.call(this));