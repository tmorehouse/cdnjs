/*
 nanoGALLERY v4.4.1
 Plugin for jQuery by Christophe Brisbois
 Demo: http://nanogallery.brisbois.fr
 Sources: https://github.com/Kris-B/nanoGALLERY

 External components:
  - jQuery (http://www.jquery.com)
  - jQuery Color plugin - is embedded
  - Transit (http://ricostacruz.com/jquery.transit) - optional
  - imagesloaded (https://github.com/desandro/imagesloaded) - optional
  - fancybox (http://fancyapps.com) - optional
  - http://closure-compiler.appspot.com/home - used to minimize the code
*/
(function(p){jQuery.fn.nanoGallery=function(W){var Q=p.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",maxItemsPerLine:0,paginationMaxItemsPerPage:0,paginationMaxLinesPerPage:0,maxWidth:0,viewer:"internal",viewerDisplayLogo:!1,imageTransition:"default",
imageTitle:"",viewerToolbar:{position:"bottom",style:"innerImage"},thumbnailWidth:230,thumbnailHeight:154,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1},thumbnailDisplayInterval:30,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,
fnThumbnailDisplayEffect:null,touchAnimation:!0,useTags:!1,preset:"none",locationHash:!1,slideshowDelay:3E3,photoSorting:"",albumSorting:"",lazyBuild:"display",lazyBuildTreshold:150,i18n:{paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",
thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},W);return this.each(function(){(new nanoGALLERY).Initiate(this,Q)})}})(jQuery);
function nanoGALLERY(){var p,W,Q,ca,Y;function Ja(){for(var e=Math.max(window.screen.width,window.screen.height),b=0,b=0;b<a.length;b++)switch(a[b].name){case "imageScale150":case "imageScale150Outside":X=Math.max(X,1.5);break;case "scale120":X=Math.max(X,1.2)}b="auto"==c.thumbnailHeight?c.thumbnailWidth*X:"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?c.thumbnailHeight*X:Math.max(c.thumbnailWidth,c.thumbnailHeight)*X;switch(c.kind){case "":x(J.breadcrumbHome,"","","","","album","","0",
"-1");0<c.itemsBaseURL.length&&(c.itemsBaseURL+="/");void 0!==c.items&&null!==c.items?(H(),da(!1)||z(0,!1)):(e=jQuery(ma).children("a"),0<e.length?(d(e),da(!1)||z(0,!1)):T("error: no image to process."));break;case "getsimple":return;case "flickr":c.flickrSizeB&&(C.thumbAvailableSizes.push(1024),C.thumbAvailableSizesStr.push("b"));for(f=0;f<C.thumbAvailableSizes.length&&!(C.thumbSize=C.thumbAvailableSizesStr[f],b<C.thumbAvailableSizes[f]);f++);for(f=0;f<C.photoAvailableSizes.length&&!(C.photoSize=
C.photoAvailableSizesStr[f],e<=C.photoAvailableSizes[f]);f++);x(J.breadcrumbHome,"","","","","album","",0<c.photoset.length?c.photoset:"0","-1");m(0,!0,-1,!1);break;case "smugmug":for(f=0;f<K.photoAvailableSizes.length&&!(K.thumbSize=f,b<=K.photoAvailableSizes[f]);f++);for(f=0;f<K.photoAvailableSizes.length&&!(K.photoSize=f,e<=K.photoAvailableSizes[f]);f++);x(J.breadcrumbHome,"","","","","album","","0","-1");t(0,!0,-1,!1);break;default:for(var f=0;f<L.thumbAvailableSizes.length;f++)if(L.thumbSize=
L.thumbAvailableSizes[f],b<L.thumbAvailableSizes[f]){0<=L.thumbAvailableSizesCropped.indexOf(" "+L.thumbAvailableSizes[f]+"")&&(L.thumbSizeHack=!1);break}0<c.album.length?(b=c.album.indexOf("&authkey="),0<=b?(e=c.album.substring(0,b),b=c.album.substring(b),-1==b.indexOf("Gv1sRg")&&(b="&authkey=Gv1sRg"+b.substring(9)),x(J.breadcrumbHome,"","","","","album","",e,"-1").customVars.authkey=b):x(J.breadcrumbHome,"","","","","album","",c.album,"-1")):x(J.breadcrumbHome,"","","","","album","","0","-1");w(0,
!0,-1,!1)}jQuery(document).keyup(function(e){if(ha)switch(e.keyCode){case 27:Aa(!0);break;case 32:case 13:Za();break;case 38:case 39:case 33:na();break;case 40:case 37:case 34:oa()}});jQuery(window).bind("hashchange",function(e){c.locationHash&&da(!0)})}function $a(){if("undefined"!==typeof Hammer){var e=0;Hammer(G[0],{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}).on("drag release",
function(a){switch(a.type){case "drag":e=a.gesture.deltaX;25>Math.abs(e)?G.css({left:0}):G.css({left:e});break;case "release":a.stopPropagation(),25>Math.abs(e)&&G.css({left:0}),-25>e&&qb(),25<e&&rb(),e=0}})}}function u(){"fancybox"==c.viewer&&"undefined"===typeof jQuery.fancybox&&(c.viewer="internal",U("Fancybox could not be found. Fallback to internal viewer. Please check the file includes of the page."));""!=c.blackList&&(Ka=c.blackList.toUpperCase().split("|"));""!=c.whiteList&&(La=c.whiteList.toUpperCase().split("|"));
""!=c.albumList&&(Ma=c.albumList.toUpperCase().split("|"));if("picasa"==c.kind||"flickr"==c.kind||"smugmug"==c.kind)c.displayBreadcrumb=!0;void 0!==c.photoset?0<c.photoset.length&&(c.displayBreadcrumb=!1):c.photoset="";void 0!==c.album?0<c.album.length&&(c.displayBreadcrumb=!1):c.album="";void 0!==c.gallery?0<c.gallery.length&&(c.displayBreadcrumb=!1):c.gallery="";0<c.maxWidth&&(jQuery(ma).css("maxWidth",+c.maxWidth),jQuery(ma).css("margin-left","auto"),jQuery(ma).css("margin-right","auto"));"number"==
ea(c.slideshowDelay)&&2E3<=c.slideshowDelay?ab=c.slideshowDelay:U('Parameter "slideshowDelay" must be an integer >= 2000 ms.');"number"==ea(c.thumbnailDisplayInterval)&&0<=c.thumbnailDisplayInterval?bb=c.thumbnailDisplayInterval:U('Parameter "thumbnailDisplayInterval" must be an integer.');"number"==ea(c.thumbnailLazyLoadTreshold)&&0<=c.thumbnailLazyLoadTreshold?cb=c.thumbnailLazyLoadTreshold:U('Parameter "thumbnailLazyLoadTreshold" must be an integer.');"number"==ea(c.paginationMaxItemsPerPage)&&
0<=c.paginationMaxItemsPerPage?M=c.paginationMaxItemsPerPage:U('Parameter "paginationMaxItemsPerPage" must be an integer.');"number"==ea(c.paginationMaxLinesPerPage)&&0<=c.paginationMaxLinesPerPage?I=c.paginationMaxLinesPerPage:U('Parameter "paginationMaxLinesPerPage" must be an integer.');0<M&&0<I&&(M=0);if("auto"==c.thumbnailHeight||"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth)if(0<c.paginationMaxItemsPerPage&&U('Parameters "paginationMaxItemsPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),
0<c.paginationMaxLinesPerPage&&U('Parameters "paginationMaxLinesPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),I=M=0,"undefined"==typeof imagesLoaded&&(U('Parameter "thumbnailWidth/thumbnailHeight" on "auto" requires the jQuery plugin "imagesLoaded".'),"auto"==c.thumbnailHeight&&(c.thumbnailHeight=100),"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth))c.thumbnailWidth=100;switch(ea(c.thumbnailHoverEffect)){case "string":for(var e=c.thumbnailHoverEffect.split(","),
b=0;b<e.length;b++)a.push({name:e[b],duration:200,durationBack:200,easing:"swing",easingBack:"swing"});break;case "object":void 0!=c.thumbnailHoverEffect.name&&a.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},c.thumbnailHoverEffect));break;case "array":for(b=0;b<c.thumbnailHoverEffect.length;b++)void 0!=c.thumbnailHoverEffect[b].name&&a.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},c.thumbnailHoverEffect[b]));break;case "null":break;
default:T('incorrect parameter for "thumbnailHoverEffect".')}for(b=0;b<a.length;b++)switch(a[b].name){case "slideUp":case "slideDown":case "slideLeft":case "slideRight":case "imageSlideUp":case "imageSlideDown":case "imageSlideLeft":case "imageSlideRight":case "labelAppear":case "labelAppear75":case "labelSlideDown":case "labelSlideUp":case "labelSlideUpTop":case "labelOpacity50":case "borderLighter":case "borderDarker":case "imageInvisible":case "imageOpacity50":case "descriptionSlideUp":case "labelSplitVert":case "labelSplit4":case "labelAppearSplitVert":case "labelAppearSplit4":case "imageSplitVert":case "imageSplit4":break;
case "imageScale150":case "imageScale150Outside":case "scale120":case "overScale":case "overScaleOutside":case "scaleLabelOverImage":case "imageFlipHorizontal":case "imageFlipVertical":case "rotateCornerBR":case "rotateCornerBL":case "imageRotateCornerBR":case "imageRotateCornerBL":fa||U('Parameter "'+a[b].name+'" for "thumbnailHoverEffect" requires the additional jQuery plugin "Transit".');break;default:T('Unknow parameter "'+a[b].name+'" for "thumbnailHoverEffect".')}}function D(){ga=(navigator.language||
navigator.userLanguage).toUpperCase();"undefined"===ga&&(ga="");var e=-("_"+ga).length;"object"==ea(c.i18n)&&Object.keys(c.i18n).forEach(function(a){var f=a.substr(e);f=="_"+ga?J[a.substr(0,a.length-f.length)]=c.i18n[a]:J[a]=c.i18n[a]})}function da(e){if(!c.locationHash)return!1;var a=null,f=null,a="#nanogallery/"+ia+"/",n=location.hash;if(n!=pa&&(""==n&&-1!=db&&(pa="",z(0,!1,-1,!1)),0==n.indexOf(a))){var r=n.substring(a.length),d=r.indexOf("/"),Na=n=-1,sb=g.length;if(0<d)for(a=r.substring(0,d),f=
r.substring(d+1),r=0;r<sb;r++){if("image"==g[r].kind&&g[r].GetID()==f){Na=r;break}}else a=r;for(r=0;r<sb;r++)if("album"==g[r].kind&&g[r].GetID()==a){n=r;break}null!==f?(e||(Oa=n),""==c.kind?ra(Na):-1==Na?z(n,!1,f,e):ra(Na)):z(n,!1,-1,e);return!0}}function Pa(){g=[];var e=x("dummy","//:0","//:0","","","image","","1","0"),a=tb(e,0,0,!1);eb=a.outerWidth(!0)-a.width()+a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width();sa=a.outerWidth(!0)-a.width();ka=a.find(".imgContainer").outerWidth(!0)-
a.find(".imgContainer").width();Qa=a.outerHeight(!0)-a.height()+a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height();a.outerHeight(!0);a.height();Ra=a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height();"auto"!=c.thumbnailWidth&&"autoUpScale"!=c.thumbnailWidth&&(Ba=a.find(".imgContainer").outerWidth(!0));"auto"!=c.thumbnailHeight&&(ta=a.find(".imgContainer").outerHeight(!0));O=a.outerWidth(!0);a.outerHeight(!0);fb="album"==e.kind?a.find(".labelFolderTitle").outerHeight(!0):
a.find(".labelImageTitle").outerHeight(!0);ub();p=a.css("border-color");if(""==p||null==p||void 0==p)p="#000";W=a.find(".labelImage").css("opacity");e=jQuery.Color(a.find(".labelImage"),"backgroundColor");Q=e.red();ca=e.green();Y=e.blue();g=[]}function ua(e,a){var c="";return""!=ga&&void 0!==e[a+"_"+ga]&&0<e[a+"_"+ga].length?c=e[a+"_"+ga]:c=e[a]}function Z(e){if("%filename"==c.imageTitle)return e.split("/").pop().replace("_"," ");if("%filenameNoExt"==c.imageTitle)return e.split("/").pop().split(".").shift().replace("_",
" ")}function H(){var e=!1;jQuery.each(c.items,function(a,b){var f="",f=ua(b,"title");void 0===f&&(f="");var n="",n=void 0!==b.srct&&0<b.srct.length?c.itemsBaseURL+b.srct:c.itemsBaseURL+b.src,g=c.itemsBaseURL+b.src;0<c.imageTitle.length&&(f=Z(g));var r="",r=ua(b,"description");void 0===r&&(r="");var d="";void 0!==b.destURL&&0<b.destURL.length&&(d=b.destURL);var h="",h=ua(b,"tags");void 0===h&&(h="");var qa=0;void 0!==b.albumID&&(qa=b.albumID,e=!0);var s=null;void 0!==b.ID&&(s=b.ID);var k="image";
void 0!==b.kind&&0<b.kind.length&&(k=b.kind);x(f,n,g,r,d,k,h,s,qa)});e&&(c.displayBreadcrumb=!0);for(var a=g.length,f=0,n=0,r=0;r<a;r++){for(var d=n=f=0;d<a;d++)r!=d&&g[r].GetID()==g[d].albumID&&(f++,"image"==g[d].kind&&(g[d].imageNumber=n++));g[r].contentLength=f}}function d(e){var a=!1;jQuery.each(e,function(e,f){var n="";void 0!==jQuery(f).attr("data-ngthumb")&&0<jQuery(f).attr("data-ngthumb").length&&(n=c.itemsBaseURL+jQuery(f).attr("data-ngthumb"));void 0!==jQuery(f).attr("data-ngThumb")&&0<
jQuery(f).attr("data-ngThumb").length&&(n=c.itemsBaseURL+jQuery(f).attr("data-ngThumb"));src=c.itemsBaseURL+jQuery(f).attr("href");var g="";void 0!==jQuery(f).attr("data-ngdesc")&&0<jQuery(f).attr("data-ngdesc").length&&(g=jQuery(f).attr("data-ngdesc"));void 0!==jQuery(f).attr("data-ngDesc")&&0<jQuery(f).attr("data-ngDesc").length&&(g=jQuery(f).attr("data-ngDesc"));var r="";void 0!==jQuery(f).attr("data-ngdest")&&0<jQuery(f).attr("data-ngdest").length&&(r=jQuery(f).attr("data-ngdest"));void 0!==jQuery(f).attr("data-ngDest")&&
0<jQuery(f).attr("data-ngDest").length&&(r=jQuery(f).attr("data-ngDest"));var d=0;void 0!==jQuery(f).attr("data-ngalbumid")&&(d=jQuery(f).attr("data-ngalbumid"),a=!0);void 0!==jQuery(f).attr("data-ngAlbumID")&&(d=jQuery(f).attr("data-ngAlbumID"),a=!0);var qa=null;void 0!==jQuery(f).attr("data-ngid")&&(qa=jQuery(f).attr("data-ngid"));void 0!==jQuery(f).attr("data-ngID")&&(qa=jQuery(f).attr("data-ngID"));var h="image";void 0!==jQuery(f).attr("data-ngkind")&&0<jQuery(f).attr("data-ngkind").length&&(h=
jQuery(f).attr("data-ngkind"));void 0!==jQuery(f).attr("data-ngKind")&&0<jQuery(f).attr("data-ngKind").length&&(h=jQuery(f).attr("data-ngKind"));var k=jQuery(f).text();0<c.imageTitle.length&&(k=Z(src));x(k,n,src,g,r,h,"",qa,d)});jQuery.each(e,function(e,a){jQuery(a).remove()});a&&(c.displayBreadcrumb=!0);e=g.length;for(var f=0,n=0,r=0;r<e;r++){for(var d=n=f=0;d<e;d++)r!=d&&g[r].GetID()==g[d].albumID&&(f++,"image"==g[d].kind&&(g[d].imageNumber=n++));g[r].contentLength=f}}function m(e,a,f,n){Sa(e);
if(0!=g[e].contentLength)z(e,n);else{var r="",d="album";0==g[e].GetID()?r=C.url()+"?&method=flickr.photosets.getList&api_key="+C.ApiKey+"&user_id="+c.userID+"&primary_photo_extras=url_"+C.thumbSize+"&format=json&jsoncallback=?":(r=C.url()+"?&method=flickr.photosets.getPhotos&api_key="+C.ApiKey+"&photoset_id="+g[e].GetID()+"&extras=description,views,url_o,url_z,url_"+C.photoSize+",url_"+C.thumbSize+"&format=json&jsoncallback=?",d="image");gb();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(r,
function(c){va();"album"==d?l(e,c):k(e,c);if(a)da(!1)||z(e,n);else if(-1!=f){c=-1;for(var r=g.length,Ca=0;Ca<r;Ca++)if("image"==g[Ca].kind&&g[Ca].GetID()==f){c=Ca;break}ra(c,!0)}else z(e,n)}).fail(function(e,a,b){va();T("Could not retrieve Flickr photoset list (jQuery): "+(a+", "+b))})}}function l(e,a){var f=!0;void 0!==a.stat&&"fail"===a.stat&&(T("Could not retrieve Flickr photoset list: "+a.message+" (code: "+a.code+")."),f=!1);if(f){var n=0;"undefined"!==typeof c.albumSorting&&("random"==c.albumSorting?
a.photosets.photo=wa(a.photosets.photoset):"reversed"==c.albumSorting&&(a.photosets.photo=a.photosets.photoset.reverse()));jQuery.each(a.photosets.photoset,function(a,b){itemTitle=b.title._content;itemID=b.id;itemDescription="";void 0!=b.description._content&&(itemDescription=b.description._content);itemThumbURL=b.primary_photo_extras["url_"+C.thumbSize];var c="";void 0!==b.primary_photo_extras&&void 0!==b.primary_photo_extras.tags&&(c=b.primary_photo_extras.tags);hb(itemTitle)&&(c=x(itemTitle,itemThumbURL,
"",itemDescription,"","album",c,itemID,g[e].GetID()),c.thumbWidth=b.primary_photo_extras["width_"+C.thumbSize],c.thumbHeight=b.primary_photo_extras["height_"+C.thumbSize],n++)});g[e].contentIsLoaded=!0;g[e].contentLength=n}}function k(e,a){"undefined"!==typeof c.photoSorting&&("random"==c.photoSorting?a.photoset.photo=wa(a.photoset.photo):"reversed"==c.photoSorting&&(a.photoset.photo=a.photoset.photo.reverse()));var f=g[e].GetID(),n=0;jQuery.each(a.photoset.photo,function(e,a){var b=a.title,g=a.id,
d=a.description._content,k=a["url_"+C.thumbSize],l="",l="o"==C.photoSize?void 0!==a.url_o?a.url_o:a.url_z:a["url_"+C.photoSize];0<c.imageTitle.length&&(b=Z(l));b=x(b,k,l,d,"","image","",g,f);b.imageNumber=n;void 0!==a.url_o?(b.width=a.width_o,b.height=a.height_o):(b.width=a.width_z,b.height=a.height_z);b.thumbWidth=a["width_"+C.thumbSize];b.thumbHeight=a["height_"+C.thumbSize];n++});g[e].contentIsLoaded=!0;g[e].contentLength=n}function w(a,b,f,n){Sa(a);if(0!=g[a].contentLength)z(a,n);else{var d="",
k="album";0==g[a].GetID()?d=L.url()+"user/"+c.userID+"?alt=json&kind=album&imgmax=d&thumbsize="+L.thumbSize:(d="","undefined"!==typeof g[a].customVars.authkey&&(d=g[a].customVars.authkey),d=L.url()+"user/"+c.userID+"/albumid/"+g[a].GetID()+"?alt=json&kind=photo"+d+"&thumbsize="+L.thumbSize+"&imgmax=d",k="image");d+="&callback=?";gb();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(d,function(c){va();q(a,c,k);if(b)da(!1)||z(a,n);else if(-1!=f){c=-1;for(var d=g.length,r=0;r<d;r++)if("image"==
g[r].kind&&g[r].GetID()==f){c=r;break}ra(c,!0)}else z(a,n)}).fail(function(a,e,b){va();T("Could not retrieve Picasa/Google+ data (jQuery): "+(e+", "+b))})}}function q(a,b,f){var n=0,d=g[a].GetID();"image"==f?"undefined"!==typeof c.photoSorting&&("random"==c.photoSorting?b.feed.entry=wa(b.feed.entry):"reversed"==c.photoSorting&&(b.feed.entry=b.feed.entry.reverse())):"undefined"!==typeof c.albumSorting&&("random"==c.albumSorting?b.feed.entry=wa(b.feed.entry):"reversed"==c.albumSorting&&(b.feed.entry=
b.feed.entry.reverse()));jQuery.each(b.feed.entry,function(a,e){var b="",g=e.media$group.media$title.$t,k=e.media$group.media$thumbnail[0].url,l=e.gphoto$id.$t,m=e.media$group.media$description.$t;"image"==f&&(b=g,g=m,m="");var p=e.media$group.media$content[0].url;0<c.imageTitle.length&&(g=Z(p));var h=!0;"album"==f&&(hb(g)||(h=!1));if(h){"auto"==c.thumbnailHeight&&L.thumbSizeHack&&(h=k.substring(0,k.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",k=h+"w"+c.thumbnailWidth*X+"/");"auto"==
c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?L.thumbSizeHack&&(h=k.substring(0,k.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",k=h+"h"+c.thumbnailHeight*X+"/"):1<X&&g_picasaThumbSizeHack&&(h=k.substring(0,k.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",k=h+"s"+g_picasaThumbSize*X+"/");h="";"album"==f?h=l:(h=p.substring(0,p.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",h=window.screen.width>window.screen.height?h+"w"+window.screen.width+"/"+b:h+"h"+window.screen.height+
"/"+b);b=x(g,k,h,m,"",f,"",l,d);b.imageNumber=n;"album"==f&&(b.author=e.author[0].name.$t);if("image"==f)b.width=e.gphoto$width.$t,b.height=e.gphoto$height.$t,b.thumbWidth=e.media$group.media$thumbnail[0].width,b.thumbHeight=e.media$group.media$thumbnail[0].height;else if("auto"==c.thumbnailHeight&&(b.thumbWidth=L.thumbSize),"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth)b.thumbHeight=L.thumbSize;n++}});g[a].contentIsLoaded=!0;g[a].contentLength=n}function t(a,b,f,n){Sa(a);if(0!=g[a].contentLength)z(a,
n);else{var d="",k="album";0==g[a].GetID()?d=K.url()+"?method=smugmug.albums.get&NickName="+c.userID+"&Heavy=true&APIKey="+K.APIKey:(d=K.url()+"?method=smugmug.images.get&NickName="+c.userID+"&Heavy=true&AlbumID="+g[a].GetID()+"&APIKey="+K.APIKey,k="image");d+="&Callback=?";gb();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(d,function(d){va();if("fail"==d.stat)console.dir(d),T("Could not retrieve SMUGMUG data (jQuery): "+d.message);else{Da(a,d,k);if(""!=c.gallery){c.displayBreadcrumb=
!1;d=g.length;for(var r=0;r<d;r++)if(g[r].title.toUpperCase()==c.gallery.toUpperCase()){t(r,b,f,n);return}c.displayBreadcrumb=!0;c.gallery=""}if(b)da(!1)||z(a,n);else if(-1!=f){var l=-1;d=g.length;for(r=0;r<d;r++)if("image"==g[r].kind&&g[r].GetID()==f){l=r;break}ra(l,!0)}else z(a,n)}}).fail(function(a,e,b){va();T("Could not retrieve SMUGMUG data (jQuery): "+(e+", "+b))})}}function Da(a,b,f){var n=0,d=g[a].GetID();"album"==f?("undefined"!==typeof c.albumSorting&&("random"==c.albumSorting?b.Albums=
wa(b.Albums):"reversed"==c.albumSorting&&(b.Albums=b.Albums.reverse())),jQuery.each(b.Albums,function(a,e){var b=e.Title,g=e.id+"&AlbumKey="+e.Key,k=e.Description,l=!0;"album"==f&&(hb(b)||(l=!1));l&&(b=x(b,"css/nano_gallery.png","//:0",k,"",f,"",g,d),b.imageNumber=n,"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?(b.thumbWidth=c.thumbnailHeight,b.thumbHeight=c.thumbnailHeight):"auto"==c.thumbnailHeight?(b.thumbWidth=c.thumbnailWidth,b.thumbHeight=c.thumbnailWidth):(b.thumbWidth=c.thumbnailWidth,
b.thumbHeight=c.thumbnailHeight),n++)})):("undefined"!==typeof c.photoSorting&&("random"==c.photoSorting?b.Album.Images=wa(b.Album.Images):"reversed"==c.photoSorting&&(b.Album.Images=b.Album.Images.reverse())),jQuery.each(b.Album.Images,function(b,k){var l=k.Caption;0<c.imageTitle.length&&(l=Z(k.FileName));var m=k.TinyURL;for(b=K.thumbSize;0<=b;b--)if(void 0!=k[K.photoAvailableSizesStr[b]]){m=k[K.photoAvailableSizesStr[b]];break}0==n&&(g[a].thumbsrc=m);var p=k.Key,w=k.ThumbURL;for(b=K.photoSize;0<=
b;b--)if(void 0!=k[K.photoAvailableSizesStr[b]]){w=k[K.photoAvailableSizesStr[b]];break}l=x(l,m,w,"","",f,"",p,d);l.imageNumber=n;"auto"==c.thumbnailHeight&&(l.thumbWidth=c.thumbnailWidth);if("auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth)l.thumbHeight=c.thumbnailHeight;n++}));g[a].contentIsLoaded=!0;g[a].contentLength=n}function x(a,b,c,n,d,k,l,m,p){a=new Pb(a,m);a.thumbsrc=b;a.src=c;a.description=n;a.destinationURL=d;a.kind=k;a.albumID=p;a.tags=0==l.length?null:l.split(" ");g.push(a);
return a}function z(a,b){"display"==c.lazyBuild?ib(G,c.lazyBuildTreshold)?jb(a,b):(Ta=a,vb=b):jb(a,b)}function jb(a,b){c.lazyBuild="none";Oa=Ta=-1;ha&&Aa(!1);if(a!=db){if(c.locationHash&&b){var f="nanogallery/"+ia+"/"+g[a].GetID();pa="#"+f;top.location.hash=f}db=g[a].GetID();Sa(a);f=0;0<g[a].paginationLastPage&&g[a].paginationLastWidth==G.width()&&(f=g[a].paginationLastPage);Ea(a,f)}}function wb(a){var b="folder";0==a&&(b="folderHome");b=jQuery('<div class="'+b+' oneFolder">'+g[a].title+"</div>").appendTo(ja);
jQuery(b).data("albumIdx",a);b.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();z(a,!1,-1,!0)})}function Qb(a){var b=jQuery('<div class="separator"></div>').appendTo(ja);jQuery(b).data("albumIdx",a);b.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();jQuery(this).remove();z(a,!1,-1,!0)})}function Sa(a){var b=!1;if(!0==c.displayBreadcrumb){var b=!0,f=ja.children().length;0==f?(c.breadcrumbAutoHideTopLevel&&($.css({opacity:"0","max-height":"0px"}),
b=!1),wb(0)):(1==f&&c.breadcrumbAutoHideTopLevel?$.animate({opacity:"0","max-height":"0px"}):$.animate({opacity:"1","max-height":"50px"}),ja.children().not(":first").remove());if(0!=a){var n=g.length,f=[];for(f.push(a);0!=g[a].albumID;)for(i=1;i<n;i++)if(g[i].GetID()==g[a].albumID){a=i;f.push(a);break}for(i=f.length-1;0<=i;i--)a=0,0<=i-1&&(a=i-1),Qb(f[a]),wb(f[i])}}c.useTags&&(b=!0,null==xb&&(xb=jQuery('<div class="nanoGalleryTags"></div>').appendTo(kb)));!yb&&b&&(yb=!0,$.show())}function gb(){!0==
c.displayBreadcrumb&&ja.find(".oneFolder").last().addClass("loading")}function va(){!0==c.displayBreadcrumb&&ja.find(".oneFolder").last().removeClass("loading")}function lb(){if("auto"==c.thumbnailHeight){Ua(0);Fa(0);var a=G.width(),b=0,f=0,n=0,d=0,k=parseInt(a/O);0<c.maxItemsPerLine&&k>c.maxItemsPerLine&&(k=c.maxItemsPerLine);var l=[];P.find(".nanoGalleryThumbnailContainer").each(function(){jQuery(this).css("position","absolute");f=0;if(0==d){var a=n*O;jQuery(this).css({top:f,left:a});l[n]=f+jQuery(this).outerHeight(!0);
0==jQuery(this).css("opacity")&&(c.thumbnailDisplayTransition?jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1));n++;n>=k&&(n=0,d++)}else{var e=0,a=l[0];for(i=1;i<k;i++)l[i]<a&&(a=l[i],e=i);f=l[e];a=e*O;jQuery(this).css({top:f,left:a});0==jQuery(this).css("opacity")&&(c.thumbnailDisplayTransition?jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1));l[e]=f+jQuery(this).outerHeight(!0)}b++});var m=l[0];for(i=1;i<k;i++)l[i]>m&&(m=l[i]);P.width(a).height(m)}else if("auto"==c.thumbnailWidth||
"autoUpScale"==c.thumbnailWidth){Ua(0);Fa(0);var a=G.width(),p=0,w=0,x=0,z=[],t=0,h=[],q=!1;P.find(".nanoGalleryThumbnailContainer").each(function(){var b=jQuery(this).data("index");if(void 0!==b&&0<g[b].thumbWidth){var f=g[b],f=Math.ceil(f.thumbWidth/f.thumbHeight*c.thumbnailHeight)+sa+ka;q&&(q=!1,t++,p=0);if("auto"!=c.thumbnailWidth)if(p+f<a)p+=f,h[t]=c.thumbnailHeight,z[t]=b;else{var n=Math.floor(c.thumbnailHeight*a/p);h[t]=n;t++;z[t]=b;h[t]=c.thumbnailHeight;p=f}else p+f<a?(p+=f,h[t]=c.thumbnailHeight,
z[t]=b):(p+=f,n=Math.floor(c.thumbnailHeight*a/p),h[t]=n,z[t]=b,q=!0)}});w=x=t=0;P.find(".nanoGalleryThumbnailContainer").each(function(){var b=jQuery(this).data("index");if(void 0!==b&&0<g[b].thumbWidth){jQuery(this).css("position","absolute");var f=g[b],n=Math.ceil(f.thumbWidth/f.thumbHeight*h[t]);b==z[t]&&(z.length!=t+1?n=a-w-sa-ka:w+n+sa+ka>a&&(n=a-w-sa-ka));jQuery(this).height(h[t]+Ra).width(n+ka);jQuery(this).find(".imgContainer").height(h[t]).width(n);jQuery(this).find("img").height(h[t]).width(n);
jQuery(this).css({top:x,left:w});0==jQuery(this).css("opacity")&&(c.thumbnailDisplayTransition?"function"==typeof c.fnThumbnailDisplayEffect?c.fnThumbnailDisplayEffect(jQuery(this),f,0):jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1));w+=n+sa+ka;b==z[t]&&(x+=h[t]+Qa,t++,w=0)}});P.width(a).height(x+c.thumbnailHeight)}else Ua(0),Fa(0),0<I&&0<O&&(a=G.outerWidth(!0),b=parseInt(a/O),1>b&&(b=1),b!=V&&(ub(),m=N.data("galleryIdx"),Ea(m,0)))}function ub(){if(0<I){var a=G.outerWidth(!0);V=parseInt(a/
O);1>V&&(V=1);0<c.maxItemsPerLine&&V>c.maxItemsPerLine&&(V=c.maxItemsPerLine)}}function Ua(a){if(0<O&&(0<c.maxWidth&&O>c.maxWidth&&jQuery(ma).css("maxWidth",O),a=G.outerWidth(!0),"auto"!=c.thumbnailWidth&&"autoUpScale"!=c.thumbnailWidth)){var b=!1;0<c.maxItemsPerLine&&c.maxItemsPerLine*O<=a&&(P.css("maxWidth",c.maxItemsPerLine*O),b=!0);b||(a=parseInt(a/O),0<a&&P.css("maxWidth",a*O))}}function Fa(a){c.galleryToolbarWidthAligned&&void 0!==$&&(a=P.outerWidth(!0),$.width(),$.width(a))}function zb(){var a=
P.find(".nanoGalleryThumbnailContainer").filter(function(){return Ab(this,cb)});jQuery(a).each(function(){var a=jQuery(this).find("img");if("//:0"==jQuery(a).attr("src")){var e=jQuery(this).data("index");jQuery(a).attr("src",g[e].thumbsrc)}})}function hb(a){a=a.toUpperCase();if(null!==Ma)for(var b=0;b<Ma.length;b++){if(a==Ma[b].toUpperCase())return!0}else{var c=!1;if(null!==La){for(b=0;b<La.length;b++)-1!==a.indexOf(La[b])&&(c=!0);if(!c)return!1}if(null!==Ka)for(b=0;b<Ka.length;b++)if(-1!==a.indexOf(Ka[b]))return!1;
return!0}}function Rb(a,b){if(void 0!=N){N.children().remove();N.data("galleryIdx",a);N.data("currentPageNumber",b);var c=0,n=0;if(0<b){var d=jQuery('<div class="paginationPrev">'+J.paginationPrevious+"</div>").appendTo(N),n=n+jQuery(d).outerWidth(!0);d.click(function(a){rb()})}d=0;0!=M&&(c=Math.ceil(g[a].contentLength/M));0<I&&(c=Math.ceil(g[a].contentLength/(I*V)));5<=b?(d=b-5,c>b+6&&(c=b+6)):10<c&&(c=10);if(1!=c){for(;d<c;d++){var k="";d==b&&(k=" currentPage");k=jQuery('<div class="paginationItem'+
k+'">'+(d+1)+"</div>").appendTo(N);jQuery(k).data("pageNumber",d);n+=jQuery(k).outerWidth(!0);k.click(function(a){a=N.data("galleryIdx");var e=jQuery(this).data("pageNumber");Ea(a,e)})}b+1<c&&(c=jQuery('<div class="paginationNext">'+J.paginationNext+"</div>").appendTo(N),n+=jQuery(c).outerWidth(!0),c.click(function(a){qb()}));N.width(n)}}}function qb(){var a=N.data("galleryIdx"),b=0;0!=M&&(b=g[a].contentLength/M);0<I&&(b=g[a].contentLength/(I*V));n2=Math.ceil(b);b=N.data("currentPageNumber");b<n2-
1?b++:b=0;Ea(a,b)}function rb(){var a=N.data("galleryIdx"),b=0;0!=M&&(b=g[a].contentLength/M);0<I&&(b=g[a].contentLength/(I*V));n2=Math.ceil(b);b=N.data("currentPageNumber");0<b?b--:b=n2-1;Ea(a,b)}function Ea(a,b){P.parent().animate({opacity:0},100).promise().done(function(){P.off().empty();for(var c=g.length,n=0;n<c;n++)g[n].hovered=!1;G.css({left:0,opacity:"1"});Sb(a,b,Tb)})}function Sb(e,b,f){if(-1!=e){g[e].paginationLastPage=b;g[e].paginationLastWidth=G.width();var n=g.length,d=0,k=0,l=0,m=0;
0<M&&(l=b*M,m=l+M);0<I&&(l=b*I*V,m=l+I*V);!0==c.displayBreadcrumb&&ja.find(".oneFolder").last().removeClass("loading");var p="1";c.thumbnailDisplayTransition&&(p="0");var t=!1,w=!1,x=0;(function(){for(var z=0;100>z;z++){if(x>=n){f(e,b);return}var h=g[x];if(h.albumID==g[e].GetID()){k++;if(0<M&&k>m){f(e,b);return}if(0<I&&d+1>I*V){f(e,b);return}if(k>l){d++;var q=tb(h,x,p,!1);var s=q;if("function"==typeof c.fnThumbnailInit)c.fnThumbnailInit(elt,h);else switch(c.thumbnailLabel.position){case "onBottom":s.find(".labelImage").css({top:"0",
position:"relative",width:"100%"});s.find(".labelImageTitle").css("white-space","nowrap");s.find(".labelFolderTitle").css("white-space","nowrap");s.find(".labelDescription").css("white-space","nowrap");break;case "overImageOnTop":s.find(".labelImage").css({top:"0"});break;case "overImageOnMiddle":s.find(".labelImage").css({top:"0",height:"100%",width:"100%"});s.find(".labelFolderTitle").css({width:"100%",position:"absolute",bottom:"50%"});s.find(".labelImageTitle").css({width:"100%",position:"absolute",
bottom:"50%"});s.find(".labelDescription").css({width:"100%",position:"absolute",top:"50%"});break;default:c.thumbnailLabel.position="overImageOnBottom",s.find(".labelImage").css({bottom:"0",width:"100%"})}Bb(q,h);var s="auto"==c.thumbnailHeight&&0==g[x].thumbHeight||("auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth)&&0==g[x].thumbWidth,v=q.detach();s?v.css("opacity",0):v.css("opacity",p);v.appendTo(P);("auto"==c.thumbnailHeight&&0<h.thumbHeight||("auto"==c.thumbnailWidth||"autoUpScale"==
c.thumbnailWidth)&&0<h.thumbWidth)&&lb();v.removeClass("nanogalleryHideElement");s||c.thumbnailDisplayTransition&&(0<bb?"function"==typeof c.fnThumbnailDisplayEffect?c.fnThumbnailDisplayEffect(v,h,d):v.delay(d*bb).fadeTo(150,1):"function"==typeof c.fnThumbnailDisplayEffect?c.fnThumbnailDisplayEffect(v,h,0):v.fadeTo(150,1));c.thumbnailLazyLoad&&!t&&(Ab(q,cb)?(q.find("img").attr("src",h.thumbsrc),w=!0):w&&(t=!0));h=q;s=jQuery(h).data("index");if(void 0!=s)for(q=g[s],"function"==typeof c.fnThumbnailHoverInit&&
c.fnThumbnailHoverInit(h,q),j=0;j<a.length;j++){s=!1;switch(a[j].name){case "imageSplit4":if("onBottom"!=c.thumbnailLabel.position){h.find(".subcontainer").css({overflow:"hidden",position:"relative",width:"100%",height:"100%"});var v=h.width(),A=h.height();h.find(".subcontainer").prepend(h.find(".imgContainer").clone());h.find(".subcontainer").prepend(h.find(".imgContainer").clone());var y="rect(0px, "+v/2+"px, "+A/2+"px, 0px)";h.find(".imgContainer").eq(0).css({right:"0%",top:"0%",clip:y,position:"absolute"});
y="rect(0px, "+v+"px, "+A/2+"px, "+v/2+"px)";h.find(".imgContainer").eq(1).css({left:"0%",top:"0%",clip:y,position:"absolute"});y="rect("+A/2+"px, "+v+"px, "+A+"px, "+v/2+"px)";h.find(".imgContainer").eq(2).css({left:"0%",bottom:"0%",clip:y,position:"absolute"});y="rect("+A/2+"px, "+v/2+"px, "+A+"px, 0px)";h.find(".imgContainer").eq(3).css({right:"0%",bottom:"0%",clip:y,position:"absolute"});R("",jQuery(h).find(".imgContainer"))}break;case "imageSplitVert":"onBottom"!=c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",
position:"relative",width:"100%",height:"100%"}),v=h.width(),A=h.height(),h.find(".subcontainer").prepend(h.find(".imgContainer").clone()),y="rect(0px, "+v/2+"px, "+A+"px, 0px)",h.find(".imgContainer").eq(0).css({right:"0%",clip:y,position:"absolute"}),y="rect(0px, "+v+"px, "+A+"px, "+v/2+"px)",h.find(".imgContainer").eq(1).css({left:"0%",clip:y,position:"absolute"}),R("",jQuery(h).find(".imgContainer")));break;case "labelSplit4":"onBottom"!=c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",
position:"relative"}),v=h.width(),A=h.height(),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),y="rect(0px, "+v/2+"px, "+A/2+"px, 0px)",h.find(".labelImage").eq(0).css({right:"0%",top:"0%",clip:y}),y="rect(0px, "+v+"px, "+A/2+"px, "+v/2+"px)",h.find(".labelImage").eq(1).css({left:"0%",top:"0%",clip:y}),y="rect("+A/2+"px, "+v+"px, "+A+"px, "+v/2+"px)",h.find(".labelImage").eq(2).css({left:"0%",top:"0%",clip:y}),y="rect("+
A/2+"px, "+v/2+"px, "+A+"px, 0px)",h.find(".labelImage").eq(3).css({right:"0%",top:"0%",clip:y}));break;case "labelSplitVert":"onBottom"!=c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",position:"relative"}),v=h.width(),A=h.height(),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),y="rect(0px, "+v/2+"px, "+A+"px, 0px)",h.find(".labelImage").eq(0).css({right:"0%",clip:y}),y="rect(0px, "+v+"px, "+A+"px, "+v/2+"px)",h.find(".labelImage").eq(1).css({left:"0%",
clip:y}));break;case "labelAppearSplit4":"onBottom"!=c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",position:"relative"}),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),v=h.find(".subcontainer").width(),A=h.find(".subcontainer").height(),y="rect(0px, "+v/2+"px, "+A/2+"px, 0px)",h.find(".labelImage").eq(0).css({right:"50%",top:"-50%",clip:y}),y="rect(0px, "+v+"px, "+A/2+"px, "+v/2+"px)",h.find(".labelImage").eq(1).css({left:"50%",
top:"-50%",clip:y}),y="rect("+A/2+"px, "+v+"px, "+A+"px, "+v/2+"px)",h.find(".labelImage").eq(2).css({left:"50%",top:"50%",clip:y}),y="rect("+A/2+"px, "+v/2+"px, "+A+"px, 0px)",h.find(".labelImage").eq(3).css({right:"50%",top:"50%",clip:y}));break;case "labelAppearSplitVert":"onBottom"!=c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",position:"relative"}),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),v=h.find(".subcontainer").width(),A=h.find(".subcontainer").height(),
y="rect(0px, "+v/2+"px, "+A+"px, 0px)",h.find(".labelImage").eq(0).css({right:"50%",clip:y}),y="rect(0px, "+v+"px, "+A+"px, "+v/2+"px)",h.find(".labelImage").eq(1).css({left:"50%",clip:y}));break;case "scaleLabelOverImage":"onBottom"!=c.thumbnailLabel.position&&(R("",jQuery(h).find(".imgContainer")),jQuery(h).find(".labelImage").css({opacity:"0",scale:0.5}),jQuery(h).find(".imgContainer").css({scale:"1"}),s=!0);break;case "overScale":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow",
"hidden"),R("",jQuery(h).find(".labelImage")),jQuery(h).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(h).find(".imgContainer").css({opacity:"1",scale:"1"}),s=!0);break;case "overScaleOutside":"onBottom"!=c.thumbnailLabel.position&&(R("",jQuery(h).find(".labelImage")),jQuery(h).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(h).find(".imgContainer").css({opacity:"1",scale:"1"}),s=!0);break;case "rotateCornerBL":"onBottom"!=c.thumbnailLabel.position&&fa&&(jQuery(h).css("overflow",
"hidden"),jQuery(h).find(".labelImage").css("opacity","1").css({rotate:"-90deg","transform-origin":"100% 100%"}),jQuery(h).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),s=!0);break;case "rotateCornerBR":"onBottom"!=c.thumbnailLabel.position&&fa&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css({rotate:"90deg","transform-origin":"0% 100%"}),jQuery(h).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),s=!0);break;case "imageRotateCornerBL":"onBottom"!=
c.thumbnailLabel.position&&fa&&(R(h,jQuery(h).find(".imgContainer")),jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1"),jQuery(h).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),s=!0);break;case "imageRotateCornerBR":"onBottom"!=c.thumbnailLabel.position&&fa&&(R(h,jQuery(h).find(".imgContainer")),jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1"),jQuery(h).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),
s=!0);break;case "slideUp":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css("top",q.thumbRealHeight),jQuery(h).find(".imgContainer").css({left:"0",top:"0"}),s=!0);break;case "slideDown":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css("top",-q.thumbRealHeight),jQuery(h).find(".imgContainer").css({left:"0",top:"0"}),s=!0);break;case "slideRight":"onBottom"!=
c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css("left",-q.thumbRealWidth),jQuery(h).find(".imgContainer").css({left:"0",top:"0"}),s=!0);break;case "slideLeft":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css("left",q.thumbRealWidth),jQuery(h).find(".imgContainer").css({left:"0",top:"0"}),s=!0);break;case "imageSlideUp":case "imageSlideDown":case "imageSlideRight":case "imageSlideLeft":"onBottom"!=
c.thumbnailLabel.position&&(R(h,jQuery(h).find(".imgContainer")),jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1"),jQuery(h).find(".imgContainer").css({left:"0",top:"0"}),s=!0);break;case "labelAppear":case "labelAppear75":"onBottom"!=c.thumbnailLabel.position&&(s="rgb("+Q+","+ca+","+Y+",0)",jQuery(h).find(".labelImage").css("backgroundColor",s),jQuery(h).find(".labelImageTitle").css("opacity","0"),jQuery(h).find(".labelFolderTitle").css("opacity","0"),jQuery(h).find(".labelDescription").css("opacity",
"0"),s=!1);break;case "labelSlideUpTop":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css({top:q.thumbRealHeight,bottom:"none",height:"100%"}),s=!0);break;case "labelSlideUp":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css({bottom:-q.thumbRealHeight,top:"none"}),s=!0);break;case "labelSlideDown":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css({top:-q.thumbRealHeight,
bottom:"none"}),s=!0);break;case "descriptionSlideUp":"overImageOnBottom"==c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),s=q.thumbRealHeight-(jQuery(h).find(".labelImage").outerHeight(!0)-jQuery(h).find(".labelImage").height())/2-fb+"px",jQuery(h).find(".labelImage").css({top:s,bottom:null}),s=!0);break;case "imageFlipHorizontal":fa&&(s=Math.round(1.2*q.thumbRealHeight)+"px",jQuery(h).find(".imgContainer").css({perspective:s,rotateX:"0deg","backface-visibility":"hidden"}),jQuery(h).find(".labelImage").css({perspective:s,
rotateX:"180deg","backface-visibility":"hidden",height:q.thumbRealHeight,opacity:"1"}),s=!0);break;case "imageFlipVertical":fa&&(s=Math.round(1.2*q.thumbRealWidth)+"px",jQuery(h).find(".imgContainer").css({perspective:s,rotateY:"0deg","backface-visibility":"hidden"}),jQuery(h).find(".labelImage").css({perspective:s,rotateY:"180deg","backface-visibility":"hidden",height:q.thumbRealHeight,opacity:"1"}),s=!0);break;case "flipHorizontal":s=Math.round(1.2*q.thumbRealHeight)+"px";jQuery(h).find(".labelImage").css({perspective:s,
rotateX:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});s=!0;break;case "flipVertical":s=Math.round(1.2*q.thumbRealWidth)+"px";jQuery(h).find(".subcontainer").css({perspective:s,rotateY:"0deg"});jQuery(h).find(".labelImage").css({perspective:s,rotateY:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});s=!0;break;case "borderLighter":case "borderDarker":s=!1;break;case "imageScale150":jQuery(h).css("overflow","hidden");case "imageScale150Outside":s=!0}fa||(s=!1);
s?("swing"==a[j].easing&&(a[j].easing="ease"),"swing"==a[j].easingBack&&(a[j].easingBack="ease"),a[j].method="transit"):"swing"!=a[j].easing||"swing"!=a[j].easingBack?(a[j].method="transit","swing"==a[j].easing&&(a[j].easing="ease"),"swing"==a[j].easingBack&&(a[j].easingBack="ease")):a[j].method="jquery"}}}x++}x<n?(Fa(b),setTimeout(arguments.callee,0)):f(e,b)})()}}function Tb(a,b){P.on("mouseenter",".nanoGalleryThumbnailContainer",function(){Cb(this)}).on("mouseleave",".nanoGalleryThumbnailContainer",
function(){Db(this)}).on("touchstart",".nanoGalleryThumbnailContainer",function(a){a.preventDefault();Eb(this)}).on("click",".nanoGalleryThumbnailContainer",function(a){jQuery(this);Eb(this)});Ua(b);Fa(b);Rb(a,b)}function tb(a,b,f,n){var d=[],k=0;d[k++]='<div class="nanoGalleryThumbnailContainer nanogalleryHideElement" style="display:inline-block,opacity:'+f+'" ><div class="subcontainer" style="display: inline-block">';var l="",l=c.thumbnailLazyLoad?"//:0":a.thumbsrc;f=!1;"auto"==c.thumbnailHeight?
(d[k++]='<div class="imgContainer" style="width:'+c.thumbnailWidth+'px;"><img class="image" src='+l+' style="width:'+c.thumbnailWidth+'px;"></div>',0==g[b].thumbHeight&&(f=!0)):"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?(d[k++]='<div class="imgContainer" style="height:'+c.thumbnailHeight+'px;"><img class="image" src='+l+' style="height:'+c.thumbnailHeight+'px;" ></div>',0==g[b].thumbWidth&&(f=!0)):d[k++]='<div class="imgContainer" style="width:'+c.thumbnailWidth+"px;height:"+c.thumbnailHeight+
'px;"><img class="image" src='+l+' style="max-width:'+c.thumbnailWidth+"px;max-height:"+c.thumbnailHeight+'px;" ></div>';var l=Ub(a),m=Vb(a);"album"==a.kind?!0==c.thumbnailLabel.display&&(d[k++]='<div class="labelImage" style="width:'+c.thumbnailWidth+'px;"><div class="labelFolderTitle labelTitle" >'+l+'</div><div class="labelDescription" >'+m+"</div></div>"):!0==c.thumbnailLabel.display&&(n&&0==m.length&&"onBottom"==c.thumbnailLabel.position&&(m="&nbsp;"),d[k++]='<div class="labelImage" style="width:'+
c.thumbnailWidth+'px;"><div class="labelImageTitle labelTitle" >'+l+'</div><div class="labelDescription" >'+m+"</div></div>");d[k++]="</div></div>";n=jQuery(d.join("")).appendTo(Fb);a.$elt=n;n.data("index",b);n.find("img").data("index",b);f&&n.imagesLoaded().always(function(a){var e=g[jQuery(a.images[0].img).data("index")];if(void 0!==e){var b=!1;e.thumbHeight!=a.images[0].img.naturalHeight&&(e.thumbHeight=a.images[0].img.naturalHeight,b=a.images[0].img.naturalHeight/a.images[0].img.naturalWidth,
b*=c.thumbnailWidth,e.$elt.find(".imgContainer").height(b),e.thumbRealHeight=b+Qa,e.$elt.height(e.thumbRealHeight),b=!0);e.thumbWidth!=a.images[0].img.naturalWidth&&(e.thumbWidth=a.images[0].img.naturalWidth,b=a.images[0].img.naturalWidth/a.images[0].img.naturalHeight,a=c.thumbnailHeight*b,e.$elt.find(".imgContainer").width(a),e.thumbRealWidth=a+eb,e.$elt.width(e.thumbRealWidth),b=!0);b&&(Bb(e.$elt,e),lb())}});return n}function Ub(a){a=a.title;if(!0==c.thumbnailLabel.display){if(void 0===a||0==a.length)a=
"&nbsp;";""!=J.thumbnailImageTitle&&(a=J.thumbnailImageTitle);3<c.thumbnailLabel.titleMaxLength&&a.length>c.thumbnailLabel.titleMaxLength&&(a=a.substring(0,c.thumbnailLabel.titleMaxLength)+"...")}return a}function Vb(a){var b="";!0==c.thumbnailLabel.displayDescription&&(b="album"==a.kind?""!=J.thumbnailImageDescription?J.thumbnailAlbumDescription:a.description:""!=J.thumbnailImageDescription?J.thumbnailImageDescription:a.description,3<c.thumbnailLabel.descriptionMaxLength&&b.length>c.thumbnailLabel.descriptionMaxLength&&
(b=b.substring(0,c.thumbnailLabel.descriptionMaxLength)+"..."));return b}function Bb(a,b){if("auto"==c.thumbnailHeight){if(0<b.thumbHeight){var f=b.thumbHeight/b.thumbWidth;a.find(".imgContainer").height(c.thumbnailWidth*f);b.thumbRealHeight=c.thumbnailWidth*f;"onBottom"==c.thumbnailLabel.position?(a.height(b.thumbRealHeight+a.find(".labelImage").outerHeight(!0)+Ra),a.width(c.thumbnailWidth+a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height())):a.height(b.thumbRealHeight+Ra).width(c.thumbnailWidth+
a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height())}b.thumbRealWidth=Ba}else"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?(0<b.thumbWidth&&(f=b.thumbHeight/b.thumbWidth,a.find(".imgContainer").width(c.thumbnailHeight*f),b.thumbRealWidth=c.thumbnailHeight*f+eb,a.width(b.thumbRealWidth).height(c.thumbnailHeight+a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width())),b.thumbRealHeight=ta):("onBottom"==c.thumbnailLabel.position?a.width(Ba).height(ta+
a.find(".labelImage").outerHeight(!0)+Qa):a.width(Ba).height(ta),b.thumbRealHeight=ta,b.thumbRealWidth=Ba)}function Eb(a){var b=jQuery(a).data("index");if(!1==c.touchAnimation||!0===g[b].hovered)if(void 0!==g[b].destinationURL&&0<g[b].destinationURL.length)window.location=g[b].destinationURL;else if("album"==g[b].kind)switch(c.kind){case "":z(b,!0);break;case "flickr":m(b,!1,-1,!0);break;case "smugmug":t(b,!1,-1,!0);break;default:w(b,!1,-1,!0)}else ra(b,!1);else Gb(),Cb(a)}function Gb(){for(var a=
g.length,b=0;b<a;b++)!0===g[b].hovered&&Db(g[b].$elt)}function Cb(e){jQuery(e).find("*").stop(!0,!0);var b=jQuery(e).data("index");if(void 0!=b){var f=g[b];f.hovered=!0;"function"==typeof c.fnThumbnailHover&&c.fnThumbnailHover(jQuery(e),f);try{for(j=0;j<a.length;j++)switch(a[j].name){case "imageSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".imgContainer").eq(0).transition({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").eq(1).transition({left:"50%",
top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").eq(2).transition({left:"50%",bottom:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").eq(3).transition({right:"50%",bottom:"-50%"},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").eq(0).animate({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").eq(1).animate({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").eq(2).animate({left:"50%",
bottom:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").eq(3).animate({right:"50%",bottom:"-50%"},a[j].duration,a[j].easing)));break;case "imageSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".imgContainer").eq(0).transition({right:"50%"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").eq(1).transition({left:"50%"},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").eq(0).animate({right:"50%"},a[j].duration,a[j].easing),
jQuery(e).find(".imgContainer").eq(1).animate({left:"50%"},a[j].duration,a[j].easing)));break;case "labelSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".labelImage").eq(0).transition({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).transition({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(2).transition({left:"50%",top:"50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(3).transition({right:"50%",
top:"50%"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").eq(0).animate({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).animate({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(2).animate({left:"50%",top:"50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(3).animate({right:"50%",top:"50%"},a[j].duration,a[j].easing)));break;case "labelSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==
a[j].method?(jQuery(e).find(".labelImage").eq(0).transition({right:"50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).transition({left:"50%"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").eq(0).animate({right:"50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).animate({left:"50%"},a[j].duration,a[j].easing)));break;case "labelAppearSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".labelImage").eq(0).transition({right:"0%",
top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).transition({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(2).transition({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(3).transition({right:"0%",top:"0%"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").eq(0).animate({right:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).animate({left:"0%",top:"0%"},a[j].duration,a[j].easing),
jQuery(e).find(".labelImage").eq(2).animate({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(3).animate({right:"0%",top:"0%"},a[j].duration,a[j].easing)));break;case "labelAppearSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".labelImage").eq(0).transition({right:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).transition({left:"0%"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").eq(0).animate({right:"0%"},
a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).animate({left:"0%"},a[j].duration,a[j].easing)));break;case "scaleLabelOverImage":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".labelImage").transition({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").transition({scale:"0.5"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").animate({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").animate({scale:"0.5"},
a[j].duration,a[j].easing)));break;case "overScale":case "overScaleOutside":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".labelImage").transition({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").transition({opacity:"0",scale:"0.5"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").animate({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").animate({opacity:"0",scale:"0.5"},a[j].duration,a[j].easing)));
break;case "imageInvisible":"transit"==a[j].method?jQuery(e).find(".imgContainer").transition({opacity:"0"},a[j].duration,a[j].easing):jQuery(e).find(".imgContainer").animate({opacity:"0"},a[j].duration,a[j].easing);break;case "rotateCornerBL":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&(jQuery(e).find(".labelImage").transition({rotate:"0deg"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").transition({rotate:"90deg"},a[j].duration,a[j].easing));break;case "rotateCornerBR":"transit"==
a[j].method&&"onBottom"!=c.thumbnailLabel.position&&(jQuery(e).find(".labelImage").transition({rotate:"0deg"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").transition({rotate:"-90deg"},a[j].duration,a[j].easing));break;case "imageRotateCornerBL":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&jQuery(e).find(".imgContainer").transition({rotate:"90deg"},a[j].duration,a[j].easing);break;case "imageRotateCornerBR":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&
jQuery(e).find(".imgContainer").transition({rotate:"-90deg"},a[j].duration,a[j].easing);break;case "slideUp":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealHeight+"px","transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({top:b},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({top:0},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").animate({top:b},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").animate({top:0},a[j].duration,a[j].easing)));
break;case "slideDown":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealHeight+"px","transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({top:b},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({top:0},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").animate({top:b},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").animate({top:0},a[j].duration,a[j].easing)));break;case "slideRight":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealWidth+
"px","transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({left:b},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({left:0},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").animate({left:b},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").animate({left:0},a[j].duration,a[j].easing)));break;case "slideLeft":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealWidth+"px","transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({left:b},
a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({left:0},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").animate({left:b},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").animate({left:0},a[j].duration,a[j].easing)));break;case "imageSlideUp":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealHeight+"px","transit"==a[j].method?jQuery(e).find(".imgContainer").transition({top:b},a[j].duration,a[j].easing):jQuery(e).find(".imgContainer").animate({top:b},
a[j].duration,a[j].easing));break;case "imageSlideDown":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealHeight+"px","transit"==a[j].method?jQuery(e).find(".imgContainer").transition({top:b},a[j].duration,a[j].easing):jQuery(e).find(".imgContainer").animate({top:b},a[j].duration,a[j].easing));break;case "imageSlideLeft":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealWidth+"px","transit"==a[j].method?jQuery(e).find(".imgContainer").transition({left:b},a[j].duration,a[j].easing):jQuery(e).find(".imgContainer").animate({left:b},
a[j].duration,a[j].easing));break;case "imageSlideRight":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealWidth+"px","transit"==a[j].method?jQuery(e).find(".imgContainer").transition({left:b},a[j].duration,a[j].easing):jQuery(e).find(".imgContainer").animate({left:b},a[j].duration,a[j].easing));break;case "labelAppear":if("onBottom"!=c.thumbnailLabel.position){var n="rgba("+Q+","+ca+","+Y+",1)";jQuery(e).find(".labelImage").animate({backgroundColor:n},a[j].duration,a[j].easing);jQuery(e).find(".labelImageTitle").animate({opacity:"1"},
a[j].duration,a[j].easing);jQuery(e).find(".labelFolderTitle").animate({opacity:"1"},a[j].duration,a[j].easing);jQuery(e).find(".labelDescription").animate({opacity:"1"},a[j].duration,a[j].easing)}break;case "labelAppear75":"onBottom"!=c.thumbnailLabel.position&&(n="rgba("+Q+","+ca+","+Y+",0.75)",jQuery(e).find(".labelImage").animate({backgroundColor:n},a[j].duration,a[j].easing),jQuery(e).find(".labelImageTitle").animate({opacity:"1"},a[j].duration,a[j].easing),jQuery(e).find(".labelFolderTitle").animate({opacity:"1"},
a[j].duration,a[j].easing),jQuery(e).find(".labelDescription").animate({opacity:"1"},a[j].duration,a[j].easing));break;case "labelSlideDown":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(e).find(".labelImage").transition({top:0},a[j].duration,a[j].easing):jQuery(e).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelSlideUpTop":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(e).find(".labelImage").transition({top:0},a[j].duration,
a[j].easing):jQuery(e).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelSlideUp":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(e).find(".labelImage").transition({bottom:0},a[j].duration,a[j].easing):jQuery(e).find(".labelImage").animate({bottom:0},a[j].duration,a[j].easing));break;case "descriptionSlideUp":"overImageOnBottom"==c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(e).find(".labelImage").transition({top:0},a[j].duration,a[j].easing):
jQuery(e).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelOpacity50":"transit"==a[j].method?jQuery(e).find(".labelImage").transition({opacity:0.5},a[j].duration,a[j].easing):jQuery(e).find(".labelImage").animate({opacity:0.5},a[j].duration,a[j].easing);break;case "imageOpacity50":"transit"==a[j].method?jQuery(e).find(".imgContainer").transition({opacity:0.5},a[j].duration,a[j].easing):jQuery(e).find(".imgContainer").animate({opacity:0.5},a[j].duration,a[j].easing);
break;case "borderLighter":"transit"==a[j].method?jQuery(e).transition({borderColor:aa(p,0.5,!1)},a[j].duration,a[j].easing):jQuery(e).animate({borderTopColor:aa(p,0.5,!1),borderRightColor:aa(p,0.5,!1),borderBottomColor:aa(p,0.5,!1),borderLeftColor:aa(p,0.5,!1)},a[j].duration,a[j].easing);break;case "borderDarker":"transit"==a[j].method?jQuery(e).transition({borderColor:aa(p,0.5,!0)},a[j].duration,a[j].easing):jQuery(e).animate({borderTopColor:aa(p,0.5,!0),borderRightColor:aa(p,0.5,!0),borderBottomColor:aa(p,
0.5,!0),borderLeftColor:aa(p,0.5,!0)},a[j].duration,a[j].easing);break;case "imageScale150":"transit"==a[j].method?jQuery(e).find("img").transition({scale:1.5},a[j].duration,a[j].easing):jQuery(e).find("img").animate({scale:1.5},a[j].duration,a[j].easing);break;case "imageScale150Outside":jQuery(e).css("z-index","auto");"transit"==a[j].method?jQuery(e).find("img").transition({scale:1.5},a[j].duration,a[j].easing):jQuery(e).find("img").animate({scale:1.5},a[j].duration,a[j].easing);break;case "scale120":jQuery(e).css("z-index",
"auto");"transit"==a[j].method?jQuery(e).transition({scale:1.2},a[j].duration,a[j].easing):jQuery(e).animate({scale:1.2},a[j].duration,a[j].easing);break;case "imageFlipHorizontal":"transit"==a[j].method&&(R("",e),b=Math.round(1.2*f.thumbRealHeight)+"px",jQuery(e).find(".imgContainer").transition({perspective:b,rotateX:"180deg"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({perspective:b,rotateX:"360deg"},a[j].duration,a[j].easing));break;case "imageFlipVertical":"transit"==
a[j].method&&(R("",e),b=Math.round(1.2*f.thumbRealWidth)+"px",jQuery(e).find(".imgContainer").transition({perspective:b,rotateY:"180deg"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({perspective:b,rotateY:"360deg"},a[j].duration,a[j].easing));break;case "flipHorizontal":"transit"==a[j].method&&(R("",e),b=Math.round(1.2*f.thumbRealHeight)+"px",jQuery(e).transition({perspective:b,rotateX:"180deg"},a[j].duration,a[j].easing));break;case "flipVertical":"transit"==a[j].method&&
(R("",e),b=Math.round(1.2*f.thumbRealWidth)+"px",jQuery(e).transition({perspective:b,rotateY:"180deg"},a[j].duration,a[j].easing));break;case "TEST":jQuery(e).find(".subcontainer").transition({scale:0.8},150).transition({perspective:"50px",rotateX:"180deg"},300,"ease").transition({scale:1},150)}}catch(d){T("error on hover "+d.message)}}}function Db(e){if(!ha){jQuery(e).find("*").stop(!0,!1);var b=jQuery(e).data("index");if(void 0!=b){var f=g[b];f.hovered=!1;"function"==typeof c.fnThumbnailHoverOut&&
c.fnThumbnailHoverOut(jQuery(e),f);try{for(j=0;j<a.length;j++)switch(a[j].name){case "imageSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".imgContainer").eq(0).transition({right:"0%",top:"0%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").eq(1).transition({left:"0%",top:"0%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").eq(2).transition({left:"0%",bottom:"0%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").eq(3).transition({right:"0%",
bottom:"0%"},a[j].durationBack,a[j].easingBack)):(jQuery(e).find(".imgContainer").eq(0).animate({right:"0%",top:"0%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").eq(1).animate({left:"0%",top:"0%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").eq(2).animate({left:"0%",bottom:"0%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").eq(3).animate({right:"0%",bottom:"0%"},a[j].durationBack,a[j].easingBack)));case "imageSplitVert":"onBottom"!=
c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".imgContainer").eq(0).transition({right:"0%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").eq(1).transition({left:"0%"},a[j].durationBack,a[j].easingBack)):(jQuery(e).find(".imgContainer").eq(0).animate({right:"0%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").eq(1).animate({left:"0%"},a[j].durationBack,a[j].easingBack)));break;case "labelSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==
a[j].method?(jQuery(e).find(".labelImage").eq(0).transition({right:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).transition({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(2).transition({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(3).transition({right:"0%",top:"0%"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").eq(0).animate({right:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).animate({left:"0%",
top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(2).animate({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(3).animate({right:"0%",top:"0%"},a[j].duration,a[j].easing)));break;case "labelSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".labelImage").eq(0).transition({right:"0%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).transition({left:"0%"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").eq(0).animate({right:"0%"},
a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).animate({left:"0%"},a[j].duration,a[j].easing)));break;case "labelAppearSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".labelImage").eq(0).transition({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).transition({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(2).transition({left:"50%",top:"50%"},a[j].duration,a[j].easing),
jQuery(e).find(".labelImage").eq(3).transition({right:"50%",top:"50%"},a[j].duration,a[j].easing)):(jQuery(e).find(".labelImage").eq(0).animate({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(1).animate({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(2).animate({left:"50%",top:"50%"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").eq(3).animate({right:"50%",top:"50%"},a[j].duration,a[j].easing)));case "labelAppearSplitVert":"onBottom"!=
c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".labelImage").eq(0).transition({right:"50%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".labelImage").eq(1).transition({left:"50%"},a[j].durationBack,a[j].easingBack)):(jQuery(e).find(".labelImage").eq(0).animate({right:"50%"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".labelImage").eq(1).animate({left:"50%"},a[j].durationBack,a[j].easingBack)));break;case "scaleLabelOverImage":"onBottom"!=c.thumbnailLabel.position&&
("transit"==a[j].method?(jQuery(e).find(".labelImage").transition({opacity:"0",scale:"0.5"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").transition({scale:"1"},a[j].durationBack,a[j].easingBack)):(jQuery(e).find(".labelImage").animate({opacity:"0",scale:"0.5"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").animate({scale:"1"},a[j].durationBack,a[j].easingBack)));break;case "overScale":case "overScaleOutside":"onBottom"!=c.thumbnailLabel.position&&("transit"==
a[j].method?(jQuery(e).find(".labelImage").transition({opacity:"0",scale:"1.5"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").transition({opacity:"1",scale:"1"},a[j].durationBack,a[j].easingBack)):(jQuery(e).find(".labelImage").animate({opacity:"0",scale:"1.5"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").animate({opacity:"1",scale:"1"},a[j].durationBack,a[j].easingBack)));break;case "imageInvisible":"transit"==a[j].method?jQuery(e).find(".imgContainer").transition({opacity:"1"},
a[j].durationBack,a[j].easingBack):jQuery(e).find(".imgContainer").animate({opacity:"1"},a[j].durationBack,a[j].easingBack);break;case "rotateCornerBL":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&(jQuery(e).find(".labelImage").transition({rotate:"-90deg"},a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").transition({rotate:"0deg"},a[j].duration,a[j].easing));break;case "rotateCornerBR":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&(jQuery(e).find(".labelImage").transition({rotate:"90deg"},
a[j].duration,a[j].easing),jQuery(e).find(".imgContainer").transition({rotate:"0deg"},a[j].duration,a[j].easing));break;case "imageRotateCornerBL":case "imageRotateCornerBR":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&jQuery(e).find(".imgContainer").transition({rotate:"0"},a[j].durationBack,a[j].easingBack);break;case "slideUp":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealHeight+"px","transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({top:0},a[j].duration,
a[j].easing),jQuery(e).find(".labelImage").transition({top:b},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").animate({top:0},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").animate({top:b},a[j].duration,a[j].easing)));break;case "slideDown":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealHeight+"px","transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({top:0},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({top:b},a[j].duration,a[j].easing)):
(jQuery(e).find(".imgContainer").animate({top:0},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").animate({top:b},a[j].duration,a[j].easing)));break;case "slideRight":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealWidth+"px","transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({left:0},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({left:b},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").animate({left:0},a[j].duration,a[j].easing),
jQuery(e).find(".labelImage").animate({left:b},a[j].duration,a[j].easing)));break;case "slideLeft":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealWidth+"px","transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({left:0},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({left:b},a[j].duration,a[j].easing)):(jQuery(e).find(".imgContainer").animate({left:0},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").animate({left:b},a[j].duration,a[j].easing)));break;
case "imageSlideUp":case "imageSlideDown":case "imageSlideLeft":case "imageSlideRight":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(e).find(".imgContainer").transition({top:"0"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").transition({left:"0"},a[j].durationBack,a[j].easingBack)):(jQuery(e).find(".imgContainer").animate({top:"0"},a[j].durationBack,a[j].easingBack),jQuery(e).find(".imgContainer").animate({left:"0"},a[j].durationBack,a[j].easingBack)));
break;case "labelAppear":case "labelAppear75":if("onBottom"!=c.thumbnailLabel.position){var n="rgb("+Q+","+ca+","+Y+",0)";jQuery(e).find(".labelImage").animate({backgroundColor:n},a[j].duration,a[j].easing);jQuery(e).find(".labelImageTitle").animate({opacity:"0"},a[j].duration,a[j].easing);jQuery(e).find(".labelFolderTitle").animate({opacity:"0"},a[j].duration,a[j].easing);jQuery(e).find(".labelDescription").animate({opacity:"0"},a[j].duration,a[j].easing)}break;case "labelSlideDown":"onBottom"!=
c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(e).find(".labelImage").transition({top:"-99%"},a[j].durationBack,a[j].easingBack):jQuery(e).find(".labelImage").animate({top:"-99%"},a[j].durationBack,a[j].easingBack));break;case "labelSlideUpTop":var d=f.thumbRealHeight+"px";"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(e).find(".labelImage").transition({top:d},a[j].duration,a[j].easing):jQuery(e).find(".labelImage").animate({top:d},a[j].duration,a[j].easing));break;
case "labelSlideUp":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(e).find(".labelImage").transition({bottom:"-99%"},a[j].durationBack,a[j].easingBack):jQuery(e).find(".labelImage").animate({bottom:"-99%"},a[j].durationBack,a[j].easingBack));break;case "descriptionSlideUp":"overImageOnBottom"==c.thumbnailLabel.position&&(d=f.thumbRealHeight-(jQuery(e).find(".labelImage").outerHeight(!0)-jQuery(e).find(".labelImage").height())/2-fb+"px","transit"==a[j].method?jQuery(e).find(".labelImage").transition({top:d},
a[j].duration,a[j].easing):jQuery(e).find(".labelImage").animate({top:d},a[j].duration,a[j].easing));break;case "labelOpacity50":"transit"==a[j].method?jQuery(e).find(".labelImage").transition({opacity:W},a[j].durationBack,a[j].easingBack):jQuery(e).find(".labelImage").animate({opacity:W},a[j].durationBack,a[j].easingBack);break;case "imageOpacity50":"transit"==a[j].method?jQuery(e).find(".imgContainer").transition({opacity:1},a[j].duration,a[j].easing):jQuery(e).find(".imgContainer").animate({opacity:1},
a[j].duration,a[j].easing);break;case "borderLighter":case "borderDarker":"transit"==a[j].method?jQuery(e).transition({borderColor:p},a[j].durationBack,a[j].easingBack):jQuery(e).animate({borderTopColor:p,borderRightColor:p,borderBottomColor:p,borderLeftColor:p},a[j].duration,a[j].easing);break;case "imageScale150":case "imageScale150Outside":"transit"==a[j].method?jQuery(e).find("img").transition({scale:1},a[j].durationBack,a[j].easingBack):jQuery(e).find("img").animate({scale:1},a[j].durationBack,
a[j].easingBack);break;case "scale120":"transit"==a[j].method?jQuery(e).transition({scale:1},a[j].durationBack,a[j].easingBack):jQuery(e).animate({scale:1},a[j].durationBack,a[j].easingBack);break;case "imageFlipHorizontal":"transit"==a[j].method&&(b=Math.round(1.2*f.thumbRealHeight)+"px",jQuery(e).find(".imgContainer").transition({perspective:b,rotateX:"0deg"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({perspective:b,rotateX:"180deg"},a[j].duration,a[j].easing));break;case "imageFlipVertical":"transit"==
a[j].method&&(b=Math.round(1.2*f.thumbRealWidth)+"px",jQuery(e).find(".imgContainer").transition({perspective:b,rotateY:"0deg"},a[j].duration,a[j].easing),jQuery(e).find(".labelImage").transition({perspective:b,rotateY:"180deg"},a[j].duration,a[j].easing));break;case "flipHorizontal":"transit"==a[j].method&&(b=Math.round(1.2*ta)+"px",jQuery(e).transition({perspective:b,rotateX:"0deg"},a[j].durationBack,a[j].easingBack));break;case "flipVertical":"transit"==a[j].method&&(b=Math.round(1.2*f.thumbRealWidth)+
"px",jQuery(e).transition({perspective:b,rotateY:"0deg"},a[j].durationBack,a[j].easingBack));break;case "TEST":jQuery(e).find(".subcontainer").transition({scale:0.85},150).transition({perspective:"50px",rotateX:"0deg"},300,"ease").transition({scale:1},150)}}catch(k){T("error on hoverOut "+k.message)}}}}function ra(a){if("fancybox"==c.viewer){var b=[],f=0;b[f]={};b[f].href=g[a].responsiveURL();b[f].title=g[a].title;for(var n=g.length,d=a+1;d<n;d++)"image"==g[d].kind&&g[d].albumID==g[a].albumID&&""==
g[d].destinationURL&&(f++,b[f]={},b[f].href=g[d].responsiveURL(),b[f].title=g[d].title);for(d=0;d<a;d++)"image"==g[d].kind&&g[d].albumID==g[a].albumID&&""==g[d].destinationURL&&(f++,b[f]={},b[f].href=g[d].responsiveURL(),b[f].title=g[d].title);jQuery.fancybox(b,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}else ha?Va(a,""):Wb(a)}function Wb(a){"undefined"===typeof jQuery().niceScroll&&jQuery("body").css("overflow","hidden");S=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body");
S.addClass("nanogallery_theme_"+c.theme);Xb(S);ba=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(S);var b;b='<img class="image" src="//:0" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL"><img class="image" src="//:0" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';
b+='<img class="image" src="//:0" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';F=jQuery('<div class="content">'+b+'<div class="contentAreaPrevious"></div><div class="contentAreaNext"></div></div>').appendTo(ba);xa=ba.find(".image").eq(0);B=ba.find(".image").eq(1);ya=ba.find(".image").eq(2);Hb=jQuery('<div class="closeButtonFloating"></div>').appendTo(ba);b="";Ib&&(b='<div class="setFullscreenButton fullscreenButton"></div>');
E=jQuery('<div class="toolbarContainer" style="visibility:hidden;"><div class="toolbar"><div class="previousButton"></div><div class="pageCounter"></div><div class="nextButton"></div><div class="playButton playPauseButton"></div>'+b+'<div class="closeButton"></div><div class="label"><div class="title" itemprop="name"></div><div class="description" itemprop="description"></div></div></div>').appendTo(ba);c.viewerDisplayLogo&&jQuery('<div class="nanoLogo"></div>').appendTo(ba);R("",ba);Ga(B);if("undefined"!==
typeof Hammer){var f=0;Hammer(document.getElementById("nanoGalleryViewer"),{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}).on("drag release",function(a){if(!za)switch(a.type){case "drag":a.stopPropagation();f=a.gesture.deltaX;25>Math.abs(f)?F.find(".imgCurrent").css({left:0}):F.find(".imgCurrent").css({left:f});break;case "release":a.gesture.stopPropagation(),a.stopPropagation(),(25>
Math.abs(f)||100>(new Date).getTime()-Ha)&&F.find(".imgCurrent").css({left:0}),-25>Math.round(f)&&na(),25<Math.round(f)&&oa(),f=0}})}Hb.on("click",function(a){a.stopPropagation();Aa(!0)});E.find(".closeButton").on("click",function(a){a.stopPropagation();Aa(!0)});F.find("img").on("click",function(a){a.stopPropagation();a.pageX<jQuery(window).width()/2?oa():na()});E.find(".playPauseButton").on("click",function(a){a.stopPropagation();Za()});E.find(".fullscreenButton").on("click",function(a){a.stopPropagation();
Jb()});E.find(".nextButton").on("click",function(a){a.stopPropagation();na()});E.find(".previousButton").on("click",function(a){a.stopPropagation();oa()});F.find(".contentAreaNext").on("click",function(a){a.stopPropagation();na()});F.find(".contentAreaPrevious").on("click",function(a){a.stopPropagation();oa()});F.on("click",function(a){100>(new Date).getTime()-Ha||(a.stopPropagation(),Aa(!0))});Va(a,"")}function Jb(){Wa?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?
document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen(),Wa=!1,E.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(S[0].requestFullscreen?S[0].requestFullscreen():S[0].webkitRequestFullscreen?S[0].webkitRequestFullscreen():S[0].msRequestFullscreen?S[0].msRequestFullscreen():S[0].mozRequestFullScreen&&S[0].mozRequestFullScreen(),Wa=!0,E.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"))}
function Za(){la?(window.clearInterval(Ia),la=!1,E.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(la=!0,E.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Xa(),Ia=window.setInterval(function(){Xa()},ab))}function na(){la&&(window.clearInterval(Ia),Ia=window.setInterval(function(){Xa()},ab));Xa()}function Xa(){if(!(za||100>(new Date).getTime()-Ha)){var a=Kb(Ya);Va(a,"nextImage")}}function oa(){if(!(za||200>(new Date).getTime()-Ha)){la&&Za();var a=
Lb(Ya);Va(a,"previousImage")}}function Va(a,b){Ha=(new Date).getTime();za=!0;if(c.locationHash){var f="nanogallery/"+ia+"/"+g[a].albumID+"/"+g[a].GetID();"#"+f!=location.hash?(pa="#"+f,top.location.hash=f):pa=top.location.hash}Yb(a);Ga(B);Ya=a;var f="-"+1*jQuery(window).width()+"px",d=!0;"fade"==c.imageTransition&&(d=!1);var k="";switch(b){case "nextImage":k=d?{left:f,opacity:0}:{opacity:0};F.find("*").stop(!0,!0);ya.css({opacity:0,right:"0",visibility:"visible"});jQuery.when(B.animate(k,500),ya.animate({opacity:1},
300)).done(function(){mb(a,b)});break;case "previousImage":k=d?{right:f,opacity:0}:{opacity:0};F.find("*").stop(!0,!0);xa.css({opacity:0,right:"0",visibility:"visible"});jQuery.when(B.animate(k,500),xa.animate({opacity:1},300)).done(function(){mb(a,b)});break;default:F.find("*").stop(!0,!0),B.css({opacity:0,right:"0",visibility:"visible"}).attr("src",g[a].responsiveURL()),jQuery.when(B.animate({opacity:1},300)).done(function(){mb(a,b)})}ha=!0}function mb(a,b){B.off("click");B.removeClass("imgCurrent");
var c=B;switch(b){case "nextImage":B=ya;ya=c;break;case "previousImage":B=xa,xa=c}B.addClass("imgCurrent");ya.css({opacity:0,right:"0",left:"0",visibility:"hidden"}).attr("src",g[Kb(a)].responsiveURL());xa.css({opacity:0,right:"0",left:"0",visibility:"hidden"}).attr("src",g[Lb(a)].responsiveURL());B.on("click",function(a){a.stopPropagation();a.pageX<jQuery(window).width()/2?oa():na()});Ga(B);za=!1}function Kb(a){for(var b=g.length,c=-1,d=a+1;d<b;d++)if(g[d].albumID==g[a].albumID&&"image"==g[d].kind){c=
d;break}if(-1==c)for(d=0;d<=a;d++)if(g[d].albumID==g[a].albumID&&"image"==g[d].kind){c=d;break}return c}function Lb(a){for(var b=-1,c=a-1;0<=c;c--)if(g[c].albumID==g[a].albumID&&"image"==g[c].kind){b=c;break}if(-1==b)for(c=g.length-1;c>=a;c--)if(g[c].albumID==g[a].albumID&&"image"==g[c].kind){b=c;break}return b}function Yb(a){void 0!==g[a].title?E.find(".title").html(g[a].title):E.find(".title").html("");void 0!==g[a].description?E.find(".description").html(g[a].description):E.find(".description").html("");
for(var b=0,c=g.length,d=0;d<c;d++)g[d].albumID==g[a].albumID&&"image"==g[d].kind&&b++;0<b&&E.find(".pageCounter").html(g[a].imageNumber+1+"/"+b)}function Aa(a){za&&F.find("*").stop(!0,!0);ha&&(window.clearInterval(nb),la&&(window.clearInterval(Ia),la=!1),Wa&&Jb(),ha=!1,S.off().remove(),"undefined"===typeof jQuery().niceScroll&&jQuery("body").css("overflow","inherit"),-1!=Oa?z(Oa,!0):(c.locationHash&&a&&(a="nanogallery/"+ia+"/"+g[Ya].albumID,pa="#"+a,top.location.hash=a),Gb()))}function Ga(a){window.clearInterval(nb);
nb=window.setInterval(function(){Ga(B)},500);var b=jQuery(window).width(),f=jQuery(window).height();ba.css({visibility:"visible",position:"fixed"});40>=B.height()?E.css({visibility:"hidden"}):E.css({visibility:"visible"});var d=Math.abs(F.outerHeight(!0)-F.height()),g=Math.abs(F.outerWidth(!0)-F.width()),k=a.outerHeight(!1)-a.innerHeight(),l=Math.abs(a.outerWidth(!1)-a.innerWidth()),m=Math.abs(a.innerHeight()-a.height());a=Math.abs(a.innerHeight()-a.height());k+=m;l+=a;m=0;"innerImage"!=c.viewerToolbar.style&&
(m=E.find(".toolbar").outerHeight(!0));f=f-m-d;b-=g;switch(c.viewerToolbar.position){case "top":F.css({height:f,width:b,top:m});g=0;"innerImage"==c.viewerToolbar.style&&(g=Math.abs(B.outerHeight(!0)-B.height())/2+5);"stuckImage"==c.viewerToolbar.style&&(g=Math.abs(B.outerHeight(!0)-B.height())/2-k);E.css({top:g});break;default:F.css({height:f,width:b}),g=0,"innerImage"==c.viewerToolbar.style&&(g=Math.abs(B.outerHeight(!0)-B.height())/2+5),"stuckImage"==c.viewerToolbar.style&&(g=Math.abs(B.outerHeight(!0)-
B.height())/2-k),E.css({bottom:g})}"innerImage"==c.viewerToolbar.style&&E.find(".toolbar").css({"max-width":B.width()});"fullWidth"==c.viewerToolbar.style&&E.find(".toolbar").css({width:b});E.css({height:E.find(".toolbar").outerHeight(!0)});F.children("img").css({"max-width":b-k,"max-height":f-l})}function Zb(a){var b=null;switch(ea(c.colorScheme)){case "object":b=Mb;jQuery.extend(!0,b,c.colorScheme);g_colorSchemeLabel="nanogallery_colorscheme_custom_"+ia;break;case "string":switch(c.colorScheme){case "none":return;
case "light":b=$b;g_colorSchemeLabel="nanogallery_colorscheme_light";break;case "lightBackground":b=ac;g_colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case "darkRed":b=bc;g_colorSchemeLabel="nanogallery_colorscheme_darkred";break;case "darkGreen":b=cc;g_colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case "darkBlue":b=dc;g_colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case "darkOrange":b=ec;g_colorSchemeLabel="nanogallery_colorscheme_darkorange";break;default:b=
Mb,g_colorSchemeLabel="nanogallery_colorscheme_default"}break;default:T("Error in colorScheme parameter.");return}var f="."+g_colorSchemeLabel+" ",d=f+".nanoGalleryNavigationbar { background:"+b.navigationbar.background+"; }\n";void 0!==b.navigationbar.border&&(d+=f+".nanoGalleryNavigationbar { border:"+b.navigationbar.border+" !important; }\n");void 0!==b.navigationbar.borderTop&&(d+=f+".nanoGalleryNavigationbar { border-top:"+b.navigationbar.borderTop+" !important; }\n");void 0!==b.navigationbar.borderBottom&&
(d+=f+".nanoGalleryNavigationbar { border-bottom:"+b.navigationbar.borderBottom+" !important; }\n");void 0!==b.navigationbar.borderRight&&(d+=f+".nanoGalleryNavigationbar { border-right:"+b.navigationbar.borderRight+" !important; }\n");void 0!==b.navigationbar.borderLeft&&(d+=f+".nanoGalleryNavigationbar { border-left:"+b.navigationbar.borderLeft+" !important; }\n");d+=f+".nanoGalleryNavigationbar .oneFolder  { color:"+b.navigationbar.color+" !important; }\n";d+=f+".nanoGalleryNavigationbar .separator  { color:"+
b.navigationbar.color+" !important; }\n";d+=f+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+b.navigationbar.color+" !important; }\n";d+=f+".nanoGalleryNavigationbar .oneFolder:hover { color:"+b.navigationbar.colorHover+" !important; }\n";d+=f+".nanoGalleryNavigationbar .separator:hover { color:"+b.navigationbar.colorHover+" !important; }\n";d+=f+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+b.navigationbar.colorHover+" !important; }\n";d+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer { background:"+
b.thumbnail.background+" !important; border:"+b.thumbnail.border+" !important; }\n";d+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .imgContainer { background:"+b.thumbnail.background+" !important; }\n";d+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { background:"+b.thumbnail.labelBackground+"; }\n";d+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n";
d+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n";d+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n";d+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+
b.thumbnail.titleShadow+" !important; }\n";d+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelDescription { color:"+b.thumbnail.descriptionColor+" !important; Text-Shadow:"+b.thumbnail.descriptionShadow+" !important; }\n";jQuery("head").append("<style>"+d+"</style>");jQuery(a).addClass(g_colorSchemeLabel)}function Xb(a){var b=null;switch(ea(c.colorSchemeViewer)){case "object":b=Nb;jQuery.extend(!0,b,c.colorSchemeViewer);g_colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;
case "string":switch(c.colorSchemeViewer){case "none":return;case "light":b=fc;g_colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case "darkRed":b=gc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case "darkGreen":b=hc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case "darkBlue":b=ic;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case "darkOrange":b=jc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;default:b=
Nb,g_colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:T("Error in colorSchemeViewer parameter.");return}var f="."+g_colorSchemeLabel+" ",d=f+".nanoGalleryViewer { background:"+b.background+" !important; }\n",d=d+(f+".nanoGalleryViewer .content img { border:"+b.imageBorder+" !important; box-shadow:"+b.imageBoxShadow+" !important; }\n"),d=d+(f+".nanoGalleryViewer .toolbar { background:"+b.barBackground+" !important; border:"+b.barBorder+" !important; color:"+b.barColor+" !important; }\n"),
d=d+(f+".nanoGalleryViewer .toolbar .previousButton:after { color:"+b.barColor+" !important; }\n"),d=d+(f+".nanoGalleryViewer .toolbar .nextButton:after { color:"+b.barColor+" !important; }\n"),d=d+(f+".nanoGalleryViewer .toolbar .closeButton:after { color:"+b.barColor+" !important; }\n"),d=d+(f+".nanoGalleryViewer .toolbar .label .title { color:"+b.barColor+" !important; }\n"),d=d+(f+".nanoGalleryViewer .toolbar .label .description { color:"+b.barDescriptionColor+" !important; }\n");jQuery("head").append("<style>"+
d+"</style>");jQuery(a).addClass(g_colorSchemeLabel)}function T(a){ob.css({visibility:"visible",height:"initial"});ob.append("<p>nanoGALLERY: "+a+" ["+ia+"]</p>");U(a)}function U(a){window.console&&console.log("nanoGALLERY: "+a+" ["+ia+"]")}function Ob(){var a=jQuery(window);return{l:a.scrollLeft(),t:a.scrollTop(),w:a.width(),h:a.height()}}function Ab(a,b){var c=Ob(),d=jQuery(a).offset(),g=jQuery(a).outerHeight(!0),k=jQuery(a).outerWidth(!0);return d.top>=c.t-b&&d.top+g<=c.t+c.h+b&&d.left>=c.l-b&&
d.left+k<=c.l+c.w+b?!0:!1}function ib(a,b){var c=Ob(),d=jQuery(a).offset(),g=jQuery(a).outerHeight(!0);jQuery(a).outerWidth(!0);return 0==c.t&&d.top<=c.t+c.h?!0:d.top>=c.t&&d.top+g<=c.t+c.h-b?!0:!1}function R(a,b){var c=0;""==a&&(a="*");jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));c=a>c?a:c});c++;jQuery(b).css("z-index",c)}function wa(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}var c=null,ma=null,ia=null,G=null,ob=null,P=null,
Fb=null,N=null,ja=null,xb=null,kb=null,$=null,yb=!1,S=null,ba=null,xa=null,ya=null,B=null,ha=!1,Hb=null,F=null,E=null,g=[],eb=0,Qa=0,sa=0,ka=0,Ra=0,Ba=0,O=0,ta=0,fb=0,Ka=null,La=null,Ma=null,la=!1,Ia=0,ab=3E3,bb=30,cb=100,Ib=!1,Wa=!1,fa=!1,ga="",J={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},Ha=0,V=1,M=0,I=0,a=[],db=-1,pa="",za=!1,nb=-1,Ya=-1,Oa=-1;Y=ca=
Q=W=p=void 0;var X=1,Ta=-1,vb=!1,L={url:function(){return"https:"==location.protocol?"https://picasaweb.google.com/data/feed/api/":"http://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 ",thumbSizeHack:!0},C={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbAvailableSizes:[75,
100,150,240,500,640],thumbAvailableSizesStr:"sq t q s m z".split(" "),photoSize:"sq",photoAvailableSizes:[75,100,150,240,500,640,1E5],photoAvailableSizesStr:"sq t q s m z o".split(" "),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},K={url:function(){return"https:"==location.protocol?"https://api.smugmug.com/services/api/json/1.3.0/":"http://api.smugmug.com/services/api/json/1.3.0/"},APIKey:"WJlHxuysNWKawKlzgrgDxTSirUOAYpbn",photoAvailableSizes:[100,150,400,600,800,1024,1280,1600],photoAvailableSizesStr:"TinyURL ThumbURL SmallURL MediumURL LargeURL XLargeURL X2LargeURL X3LargeURL".split(" "),
thumbSize:0,photoSize:0},Mb={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},bc={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",
labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},cc={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},dc={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",
border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},ec={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},$b={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",
borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none"}},ac={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #fff",labelBackground:"rgba(170, 170, 170, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:""}},Nb=
{background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},gc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},hc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",
barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ic={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},jc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},fc={background:"rgba(187, 187, 187, 0.75)",
imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Pb=function(){function a(c,e){var d=0,d=void 0===e||null===e?b++:e;this.GetID=function(){return d};this.title=c;this.thumbsrc="";this.thumbRealHeight=this.thumbRealWidth=this.thumbHeight=this.thumbWidth=0;this.src="";this.height=this.width=0;this.author=this.kind=this.destinationURL=this.description="";this.hovered=!1;this.$elt=null;this.contentIsLoaded=
!1;this.paginationLastWidth=this.paginationLastPage=this.albumID=this.imageNumber=this.contentLength=0;this.customVars={}}var b=1;a.get_nextId=function(){return b};a.prototype={responsiveURL:function(){var a="";switch(c.kind){case "":a=this.src;break;case "flickr":a=this.src;break;case "smugmug":a=this.src;break;default:a=this.src}return a}};return a}();this.Initiate=function(a,b){c=b;ma=a;ia=jQuery(a).attr("id");jQuery.support.transition&&(fa=!0);jQuery(a).addClass("nanogallery_theme_"+c.theme);
Zb(a);if(c.thumbnailLabel.hideIcons){var d=".nanogallery_thumbnails_icons_off ",d=d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n"+(d+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n");jQuery("head").append("<style>"+d+"</style>");jQuery(a).addClass("nanogallery_thumbnails_icons_off")}c.galleryToolbarHideIcons&&(d=".nanogallery_breadcrumb_icons_off ",d=d+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n"+
(d+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n"),jQuery("head").append("<style>"+d+"</style>"),jQuery(a).addClass("nanogallery_breadcrumb_icons_off"));"right"==c.thumbnailLabel.align&&(d=".nanogallery_thumbnails_label_align_right .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n",jQuery("head").append("<style>"+d+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_right"));"center"==c.thumbnailLabel.align&&
(d=".nanogallery_thumbnails_label_align_center .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n",jQuery("head").append("<style>"+d+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_center"));"left"==c.thumbnailLabel.align&&(d=".nanogallery_thumbnails_label_align_left .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n",jQuery("head").append("<style>"+d+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_left"));
u();$=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(a);$.hide();kb=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo($);ja=jQuery('<div class="nanoGalleryBreadcrumb"></div>').appendTo(kb);G=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(a);P=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(G);ob=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(a);d=jQuery('<div class="nanogalleryHideElement '+jQuery(a).attr("class")+
'"></div>').appendTo("body");d=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(d);Fb=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(d);if(0<M||0<I)N=jQuery('<div class="nanoGalleryPagination"></div>').appendTo(G),$a();D();document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?Ib=!0:U("Your browser does not support the fullscreen API. Fullscreen button will not be displayed.");Pa();"loadData"!=c.lazyBuild&&
Ja();var g=0;jQuery(window).resize(function(){g&&clearTimeout(g);ha?Ga(B):g=setTimeout(function(){lb();zb()},50)});var k=0;jQuery(window).on("scroll",function(){k&&clearTimeout(k);k=setTimeout(function(){"loadData"==c.lazyBuild&&ib(G,c.lazyBuildTreshold)&&(c.lazyBuild="none",Ja());-1!=Ta&&ib(G,c.lazyBuildTreshold)&&jb(Ta,vb);zb()},200)})};var ea=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},aa=function(a,b,c){a=a.replace(/^\s*|\s*$/,"");a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,
"#$1$1$2$2$3$3");b=Math.round(256*b)*(c?-1:1);var d=a.match(RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),g=d&&null!=d[4]?d[4]:null;a=d?[d[1],d[2],d[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(a,b,c,e){return parseInt(b,16)+","+parseInt(c,16)+","+parseInt(e,16)}).split(/,/);return d?"rgb"+(null!==
g?"a":"")+"("+Math[c?"max":"min"](parseInt(a[0],10)+b,c?0:255)+", "+Math[c?"max":"min"](parseInt(a[1],10)+b,c?0:255)+", "+Math[c?"max":"min"](parseInt(a[2],10)+b,c?0:255)+(null!==g?", "+g:"")+")":["#",pb(Math[c?"max":"min"](parseInt(a[0],10)+b,c?0:255).toString(16),2),pb(Math[c?"max":"min"](parseInt(a[1],10)+b,c?0:255).toString(16),2),pb(Math[c?"max":"min"](parseInt(a[2],10)+b,c?0:255).toString(16),2)].join("")},pb=function(a,b){for(a+="";a.length<b;)a="0"+a;return a}}
(function(p,W){function Q(d,m,l){var k=da[m.type]||{};if(null==d)return l||!m.def?null:m.def;d=k.floor?~~d:parseFloat(d);return isNaN(d)?m.def:k.mod?(d+k.mod)%k.mod:0>d?0:k.max<d?k.max:d}function ca(d){var m=u(),l=m._rgba=[];d=d.toLowerCase();H($a,function(k,p){var q,t=p.re.exec(d);q=t&&p.parse(t);t=p.space||"rgba";if(q)return q=m[t](q),m[D[t].cache]=q[D[t].cache],l=m._rgba=q._rgba,!1});return l.length?("0,0,0,0"===l.join()&&p.extend(l,Z.transparent),m):Z[d]}function Y(d,m,l){l=(l+1)%1;return 1>6*
l?d+(m-d)*l*6:1>2*l?m:2>3*l?d+(m-d)*(2/3-l)*6:d}var Ja=/^([\-+])=\s*(\d+\.?\d*)/,$a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[d[1],d[2],d[3],d[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[2.55*d[1],2.55*d[2],2.55*d[3],d[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(d){return[parseInt(d[1],16),parseInt(d[2],
16),parseInt(d[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(d){return[d[1],d[2]/100,d[3]/100,d[4]]}}],u=p.Color=function(d,m,l,k){return new p.Color.fn.parse(d,m,l,k)},D={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},
hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},da={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},Pa=u.support={},ua=p("<p>")[0],Z,H=p.each;ua.style.cssText="background-color:rgba(1,1,1,.5)";Pa.rgba=-1<ua.style.backgroundColor.indexOf("rgba");H(D,function(d,m){m.cache="_"+d;m.props.alpha={idx:3,type:"percent",def:1}});u.fn=p.extend(u.prototype,{parse:function(d,m,l,k){if(d===W)return this._rgba=[null,null,null,null],
this;if(d.jquery||d.nodeType)d=p(d).css(m),m=W;var w=this,q=p.type(d),t=this._rgba=[];m!==W&&(d=[d,m,l,k],q="array");if("string"===q)return this.parse(ca(d)||Z._default);if("array"===q)return H(D.rgba.props,function(k,l){t[l.idx]=Q(d[l.idx],l)}),this;if("object"===q)return d instanceof u?H(D,function(k,l){d[l.cache]&&(w[l.cache]=d[l.cache].slice())}):H(D,function(k,l){var m=l.cache;H(l.props,function(k,p){if(!w[m]&&l.to){if("alpha"===k||null==d[k])return;w[m]=l.to(w._rgba)}w[m][p.idx]=Q(d[k],p,!0)});
w[m]&&0>p.inArray(null,w[m].slice(0,3))&&(w[m][3]=1,l.from&&(w._rgba=l.from(w[m])))}),this},is:function(d){var m=u(d),l=!0,k=this;H(D,function(d,p){var t,u=m[p.cache];u&&(t=k[p.cache]||p.to&&p.to(k._rgba)||[],H(p.props,function(d,k){if(null!=u[k.idx])return l=u[k.idx]===t[k.idx]}));return l});return l},_space:function(){var d=[],m=this;H(D,function(l,k){m[k.cache]&&d.push(l)});return d.pop()},transition:function(d,m){var l=u(d),k=l._space(),p=D[k],q=0===this.alpha()?u("transparent"):this,t=q[p.cache]||
p.to(q._rgba),Da=t.slice(),l=l[p.cache];H(p.props,function(d,k){var p=k.idx,q=t[p],w=l[p],u=da[k.type]||{};null!==w&&(null===q?Da[p]=w:(u.mod&&(w-q>u.mod/2?q+=u.mod:q-w>u.mod/2&&(q-=u.mod)),Da[p]=Q((w-q)*m+q,k)))});return this[k](Da)},blend:function(d){if(1===this._rgba[3])return this;var m=this._rgba.slice(),l=m.pop(),k=u(d)._rgba;return u(p.map(m,function(d,m){return(1-l)*k[m]+l*d}))},toRgbaString:function(){var d="rgba(",m=p.map(this._rgba,function(d,k){return null==d?2<k?1:0:d});1===m[3]&&(m.pop(),
d="rgb(");return d+m.join()+")"},toHslaString:function(){var d="hsla(",m=p.map(this.hsla(),function(d,k){null==d&&(d=2<k?1:0);k&&3>k&&(d=Math.round(100*d)+"%");return d});1===m[3]&&(m.pop(),d="hsl(");return d+m.join()+")"},toHexString:function(d){var m=this._rgba.slice(),l=m.pop();d&&m.push(~~(255*l));return"#"+p.map(m,function(d){d=(d||0).toString(16);return 1===d.length?"0"+d:d}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});u.fn.parse.prototype=u.fn;
D.hsla.to=function(d){if(null==d[0]||null==d[1]||null==d[2])return[null,null,null,d[3]];var m=d[0]/255,l=d[1]/255,k=d[2]/255;d=d[3];var p=Math.max(m,l,k),q=Math.min(m,l,k),t=p-q,u=p+q,x=0.5*u,u=0===t?0:0.5>=x?t/u:t/(2-u);return[Math.round(q===p?0:m===p?60*(l-k)/t+360:l===p?60*(k-m)/t+120:60*(m-l)/t+240)%360,u,x,null==d?1:d]};D.hsla.from=function(d){if(null==d[0]||null==d[1]||null==d[2])return[null,null,null,d[3]];var m=d[0]/360,l=d[1],k=d[2];d=d[3];l=0.5>=k?k*(1+l):k+l-k*l;k=2*k-l;return[Math.round(255*
Y(k,l,m+1/3)),Math.round(255*Y(k,l,m)),Math.round(255*Y(k,l,m-1/3)),d]};H(D,function(d,m){var l=m.props,k=m.cache,w=m.to,q=m.from;u.fn[d]=function(d){w&&!this[k]&&(this[k]=w(this._rgba));if(d===W)return this[k].slice();var m,x=p.type(d),z="array"===x||"object"===x?d:arguments,D=this[k].slice();H(l,function(d,k){var l=z["object"===x?d:k.idx];null==l&&(l=D[k.idx]);D[k.idx]=Q(l,k)});return q?(m=u(q(D)),m[k]=D,m):u(D)};H(l,function(k,l){u.fn[k]||(u.fn[k]=function(m){var q=p.type(m),w="alpha"===k?this._hsla?
"hsla":"rgba":d,u=this[w](),D=u[l.idx];if("undefined"===q)return D;"function"===q&&(m=m.call(this,D),q=p.type(m));if(null==m&&l.empty)return this;"string"===q&&(q=Ja.exec(m))&&(m=D+parseFloat(q[2])*("+"===q[1]?1:-1));u[l.idx]=m;return this[w](u)})})});u.hook=function(d){d=d.split(" ");H(d,function(d,l){p.cssHooks[l]={set:function(d,m){var q,t="";if("transparent"!==m&&("string"!==p.type(m)||(q=ca(m)))){m=u(q||m);if(!Pa.rgba&&1!==m._rgba[3]){for(q="backgroundColor"===l?d.parentNode:d;(""===t||"transparent"===
t)&&q&&q.style;)try{t=p.css(q,"backgroundColor"),q=q.parentNode}catch(D){}m=m.blend(t&&"transparent"!==t?t:"_default")}m=m.toRgbaString()}try{d.style[l]=m}catch(x){}}};p.fx.step[l]=function(d){d.colorInit||(d.start=u(d.elem,l),d.end=u(d.end),d.colorInit=!0);p.cssHooks[l].set(d.elem,d.start.transition(d.end,d.pos))}})};u.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");p.cssHooks.borderColor=
{expand:function(d){var m={};H(["Top","Right","Bottom","Left"],function(l,k){m["border"+k+"Color"]=d});return m}};Z=p.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);