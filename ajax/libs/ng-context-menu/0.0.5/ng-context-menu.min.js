angular.module("ng-context-menu",[]).directive("contextMenu",["$window","$parse",function(n,t){return{restrict:"A",link:function(e,o,u){var a,c=!1,i=angular.element(n),l=angular.element(document.getElementById(u.target)),r=function(n,t){t.addClass("open"),t.css("top",n.layerY+"px"),t.css("left",n.layerX+"px"),c=!0},p=function(n){c=!1,n.removeClass("open")},s=t(u.contextMenu);l.css("position","absolute"),o.bind("contextmenu",function(n){a=n.target,n.preventDefault(),n.stopPropagation(),e.$apply(function(){s(e,{$event:n}),r(n,l)})}),i.bind("keyup",function(n){c&&27===n.keyCode&&e.$apply(function(){p(l)})}),i.bind("click",function(n){!c||2===n.button&&n.target===a||e.$apply(function(){p(l)})})}}}]);