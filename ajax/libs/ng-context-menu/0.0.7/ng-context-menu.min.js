angular.module("ng-context-menu",[]).directive("contextMenu",["$window","$parse",function(n,t){return{restrict:"A",link:function(e,o,u){function a(n,t){t.addClass("open"),t.css("top",n.pageY+"px"),t.css("left",n.pageX+"px"),l=!0}function c(n){l=!1,n.removeClass("open")}function i(n){!l||2===n.button&&n.target===p||e.$apply(function(){c(s)})}var p,l=!1,r=angular.element(n),s=angular.element(document.getElementById(u.target)),d=t(u.contextMenu);s.css("position","absolute"),o.bind("contextmenu",function(n){p=n.target,n.preventDefault(),n.stopPropagation(),e.$apply(function(){d(e,{$event:n}),a(n,s)})}),r.bind("keyup",function(n){l&&27===n.keyCode&&e.$apply(function(){c(s)})}),r.bind("click",i),r.bind("contextmenu",i)}}}]);