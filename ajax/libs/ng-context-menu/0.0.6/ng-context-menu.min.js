angular.module("ng-context-menu",[]).directive("contextMenu",["$window","$parse",function(n,t){return{restrict:"A",link:function(e,o,u){var a,c=!1,i=angular.element(n),p=angular.element(document.getElementById(u.target)),l=function(n,t){t.addClass("open"),t.css("top",n.pageY+"px"),t.css("left",n.pageX+"px"),c=!0},r=function(n){c=!1,n.removeClass("open")},s=t(u.contextMenu);p.css("position","absolute"),o.bind("contextmenu",function(n){a=n.target,n.preventDefault(),n.stopPropagation(),e.$apply(function(){s(e,{$event:n}),l(n,p)})}),i.bind("keyup",function(n){c&&27===n.keyCode&&e.$apply(function(){r(p)})}),i.bind("click",function(n){!c||2===n.button&&n.target===a||e.$apply(function(){r(p)})})}}}]);