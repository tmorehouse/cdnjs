var RevealNotes=function(){function e(){function e(e){var t,d=Reveal.getCurrentSlide();if("slidechanged"===e){var a,i,o=d.querySelector("aside.notes"),r=Reveal.getIndices().h,s=Reveal.getIndices().v;d.nextElementSibling&&"SECTION"==d.parentNode.nodeName?(a=r,i=s+1):(a=r+1,i=0),t={notes:o?o.innerHTML:"",indexh:r,indexv:s,nextindexh:a,nextindexv:i,markdown:o?"string"==typeof o.getAttribute("data-markdown"):!1}}else"fragmentshown"===e?t={fragment:"next"}:"fragmenthidden"===e&&(t={fragment:"prev"});n.postMessage(JSON.stringify(t),"*")}var n=window.open("plugin/notes/notes.html","reveal.js - Notes","width=1120,height=850");Reveal.addEventListener("slidechanged",function(){e("slidechanged")}),Reveal.addEventListener("fragmentshown",function(){e("fragmentshown")}),Reveal.addEventListener("fragmenthidden",function(){e("fragmenthidden")}),n.addEventListener("load",function(){e("slidechanged")},!1)}return null!==window.location.search.match(/(\?|\&)notes/gi)&&e(),document.addEventListener("keydown",function(n){null!==document.querySelector(":focus")||n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||83===n.keyCode&&(n.preventDefault(),e())},!1),{open:e}}();