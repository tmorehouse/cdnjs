var RevealNotes=function(){function e(){function e(e){var n,a=Reveal.getCurrentSlide();if("slidechanged"===e){var d,i,r=a.querySelector("aside.notes"),o=Reveal.getIndices().h,s=Reveal.getIndices().v;a.nextElementSibling&&"SECTION"==a.parentNode.nodeName?(d=o,i=s+1):(d=o+1,i=0),n={notes:r?r.innerHTML:"",indexh:o,indexv:s,nextindexh:d,nextindexv:i,markdown:r?"string"==typeof r.getAttribute("data-markdown"):!1}}else"fragmentshown"===e?n={fragment:"next"}:"fragmenthidden"===e&&(n={fragment:"prev"});t.postMessage(JSON.stringify(n),"*")}var n=document.querySelector('script[src$="notes.js"]').src;n=n.replace(/notes\.js(\?.*)?$/,"");var t=window.open(n+"notes.html","reveal.js - Notes","width=1120,height=850");Reveal.addEventListener("slidechanged",function(){e("slidechanged")}),Reveal.addEventListener("fragmentshown",function(){e("fragmentshown")}),Reveal.addEventListener("fragmenthidden",function(){e("fragmenthidden")}),t.addEventListener("load",function(){e("slidechanged")},!1)}return null!==window.location.search.match(/(\?|\&)notes/gi)&&e(),document.addEventListener("keydown",function(n){null!==document.querySelector(":focus")||n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||83===n.keyCode&&(n.preventDefault(),e())},!1),{open:e}}();