!function(e,o){"function"==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o(require,exports,module):e.ouibounce=o()}(this,function(){return function(e,o){function i(e,o){return"undefined"==typeof e?o:e}function n(e){var o=24*e*60*60*1e3,i=new Date;return i.setTime(i.getTime()+o),"; expires="+i.toGMTString()}function t(){y.addEventListener("mouseout",u),y.addEventListener("keydown",r)}function u(e){e.clientY>s||c("viewedOuibounceModal","true")&&!f||(d(),p())}function r(e){b||c("viewedOuibounceModal","true")&&!f||e.metaKey&&76==e.keyCode&&(b=!0,d(),p())}function c(e,o){var i=document.cookie.split("; ").reduce(function(e,o){var i=o.split("=");return e[i[0]]=i[1],e},{});return i[e]===o}function d(){e&&(e.style.display="block"),a()}function a(e){var e=e||{};"undefined"!=typeof e.cookieExpire&&(v=n(e.cookieExpire)),e.sitewide===!0&&(k=";path=/"),"undefined"!=typeof e.cookieDomain&&(l=";domain="+e.cookieDomain),document.cookie="viewedOuibounceModal=true"+v+l+k,y.removeEventListener("mouseout",u),y.removeEventListener("keydown",r)}var o=o||{},f=o.aggressive||!1,s=i(o.sensitivity,20),m=i(o.timer,1e3),p=o.callback||function(){},v=n(o.cookieExpire)||"",l=o.cookieDomain?";domain="+o.cookieDomain:"",k=o.sitewide===!0?";path=/":"",y=document.getElementsByTagName("html")[0];setTimeout(t,m);var b=!1;return{fire:d,disable:a}}});