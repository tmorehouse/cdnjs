/*!
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 0.2.0
 * Copyright (C) 2013 Oliver Nightingale
 * MIT Licensed
 */var lunr=function(a){var b=new lunr.Index;return b.pipeline.add(lunr.stopWordFilter,lunr.stemmer),a&&a.call(b,b),b};lunr.version="0.2.0",lunr.tokenizer=function(a){if(Array.isArray(a))return a;var b=/[\!|\,|\.|\?]+$/,c=/\s+/;return a.split(c).map(function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"").toLowerCase()})},lunr.Pipeline=function(){this._stack=[]},lunr.Pipeline.prototype.add=function(){var a=Array.prototype.slice.call(arguments);Array.prototype.push.apply(this._stack,a)},lunr.Pipeline.prototype.after=function(a,b){var c=this._stack.indexOf(a)+1;this._stack.splice(c,0,b)},lunr.Pipeline.prototype.before=function(a,b){var c=this._stack.indexOf(a);this._stack.splice(c,0,b)},lunr.Pipeline.prototype.remove=function(a){var b=this._stack.indexOf(a);this._stack.splice(b,1)},lunr.Pipeline.prototype.run=function(a){var b=[],c=a.length,d=this._stack.length;for(var e=0;e<c;e++){var f=a[e];for(var g=0;g<d;g++){f=this._stack[g](f,e,a);if(f===void 0)break}f!==void 0&&b.push(f)}return b},lunr.Vector=function(a){this.elements=a;for(var b=0;b<a.length;b++)b in this.elements||(this.elements[b]=0)},lunr.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;var a=0,b=this.elements,c=b.length,d,e;for(var f=0;f<c;f++)e=b[f],a+=e*e;return this._magnitude=Math.sqrt(a)},lunr.Vector.prototype.dot=function(a){var b=this.elements,c=a.elements,d=b.length,e=0;for(var f=0;f<d;f++)e+=b[f]*c[f];return e},lunr.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},lunr.Vector.prototype.toArray=function(){return this.elements},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(a){if(~this.elements.indexOf(a))return;this.elements.splice(this.locationFor(a),0,a)},this),this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(a,b){return this.elements.map(a,b)},lunr.SortedSet.prototype.forEach=function(a,b){return this.elements.forEach(a,b)},lunr.SortedSet.prototype.indexOf=function(a,b){return this.elements.indexOf(a)},lunr.SortedSet.prototype.locationFor=function(a,b,c){var b=b||0,c=c||this.elements.length,d=c-b,e=b+Math.floor(d/2),f=this.elements[e];if(d<=1){if(f>a)return e;if(f<a)return e+1}if(f<a)return this.locationFor(a,e,c);if(f>a)return this.locationFor(a,b,e)},lunr.SortedSet.prototype.intersect=function(a){var b=new lunr.SortedSet,c=0,d=0,e=this.length,f=a.length,g=this.elements,h=a.elements;for(;;){if(c>e-1||d>f-1)break;if(g[c]===h[d]){b.add(g[c]),c++,d++;continue}if(g[c]<h[d]){c++;continue}if(g[c]>h[d]){d++;continue}}return b},lunr.SortedSet.prototype.clone=function(){var a=new lunr.SortedSet;return a.elements=this.toArray(),a.length=a.elements.length,a},lunr.SortedSet.prototype.union=function(a){var b,c,d;return this.length>=a.length?(b=this,c=a):(b=a,c=this),d=b.clone(),d.add.apply(d,c.toArray()),d},lunr.Index=function(){this._fields=[],this._ref="id",this.pipeline=new lunr.Pipeline,this.documentStore=new lunr.Store,this.tokenStore=new lunr.TokenStore,this.corpusTokens=new lunr.SortedSet},lunr.Index.prototype.field=function(a,b){var b=b||{},c={name:a,boost:b.boost||1};return this._fields.push(c),this},lunr.Index.prototype.ref=function(a){return this._ref=a,this},lunr.Index.prototype.add=function(a){var b={},c=new lunr.SortedSet,d=a[this._ref];this._fields.forEach(function(d){var e=this.pipeline.run(lunr.tokenizer(a[d.name]));b[d.name]=e,lunr.SortedSet.prototype.add.apply(c,e)},this),this.documentStore.set(d,c),lunr.SortedSet.prototype.add.apply(this.corpusTokens,c.toArray());for(var e=0;e<c.length;e++){var f=c.elements[e],g=this._fields.reduce(function(a,c){var d=b[c.name].filter(function(a){return a===f}).length,e=b[c.name].length;return a+d/e*c.boost},0);this.tokenStore.add(f,{ref:d,tf:g})}},lunr.Index.prototype.remove=function(a){var b=a[this._ref],c=this.documentStore.get(b);this.documentStore.remove(b),c.forEach(function(a){this.tokenStore.remove(a,b)},this)},lunr.Index.prototype.update=function(a){this.remove(a),this.add(a)},lunr.Index.prototype.idf=function(a){var b=Object.keys(this.tokenStore.get(a)).length;return b===0?1:1+Math.log(this.tokenStore.length/b)},lunr.Index.prototype.search=function(a){var b=this.pipeline.run(lunr.tokenizer(a)),c=new Array(this.corpusTokens.length),d=[],e=this._fields.reduce(function(a,b){return a+b.boost},0);if(!b.some(lunr.TokenStore.prototype.has,this.tokenStore))return[];b.forEach(function(a,b,f){var g=1/f.length*this._fields.length*e,h=this,i=this.tokenStore.expand(a).reduce(function(a,b){var d=h.corpusTokens.indexOf(b),e=h.idf(b),f=new lunr.SortedSet;return d>-1&&(c[d]=g*e),Object.keys(h.tokenStore.get(b)).forEach(function(a){f.add(a)}),a.union(f)},new lunr.SortedSet);d.push(i)},this);var f=d.reduce(function(a,b){return a.intersect(b)}),g=new lunr.Vector(c);return f.map(function(a){return{ref:a,score:g.similarity(this.documentVector(a))}},this).sort(function(a,b){return b.score-a.score})},lunr.Index.prototype.documentVector=function(a){var b=this.documentStore.get(a),c=b.length,d=new Array(this.corpusTokens.length);for(var e=0;e<c;e++){var f=b.elements[e],g=this.tokenStore.get(f)[a].tf,h=this.idf(f);d[this.corpusTokens.indexOf(f)]=g*h}return new lunr.Vector(d)},lunr.Store=function(){this.store={},this.length=0},lunr.Store.prototype.set=function(a,b){this.store[a]=b,this.length=Object.keys(this.store).length},lunr.Store.prototype.get=function(a){return this.store[a]},lunr.Store.prototype.has=function(a){return a in this.store},lunr.Store.prototype.remove=function(a){if(!this.has(a))return;delete this.store[a],this.length--},lunr.stemmer=function(){var a={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},b={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},c="[^aeiou]",d="[aeiouy]",e=c+"[^aeiouy]*",f=d+"[aeiou]*",g="^("+e+")?"+f+e,h="^("+e+")?"+f+e+"("+f+")?$",i="^("+e+")?"+f+e+f+e,j="^("+e+")?"+d;return function(c){var f,k,l,m,n,o,p,q=c;if(c.length<3)return c;l=c.substr(0,1),l=="y"&&(c=l.toUpperCase()+c.substr(1)),m=/^(.+?)(ss|i)es$/,n=/^(.+?)([^s])s$/,m.test(c)?c=c.replace(m,"$1$2"):n.test(c)&&(c=c.replace(n,"$1$2")),m=/^(.+?)eed$/,n=/^(.+?)(ed|ing)$/;if(m.test(c)){var r=m.exec(c);m=new RegExp(g),m.test(r[1])&&(m=/.$/,c=c.replace(m,""))}else if(n.test(c)){var r=n.exec(c);f=r[1],n=new RegExp(j),n.test(f)&&(c=f,n=/(at|bl|iz)$/,o=new RegExp("([^aeiouylsz])\\1$"),p=new RegExp("^"+e+d+"[^aeiouwxy]$"),n.test(c)?c+="e":o.test(c)?(m=/.$/,c=c.replace(m,"")):p.test(c)&&(c+="e"))}m=/^(.+?)y$/;if(m.test(c)){var r=m.exec(c);f=r[1],m=new RegExp(j),m.test(f)&&(c=f+"i")}m=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;if(m.test(c)){var r=m.exec(c);f=r[1],k=r[2],m=new RegExp(g),m.test(f)&&(c=f+a[k])}m=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;if(m.test(c)){var r=m.exec(c);f=r[1],k=r[2],m=new RegExp(g),m.test(f)&&(c=f+b[k])}m=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,n=/^(.+?)(s|t)(ion)$/;if(m.test(c)){var r=m.exec(c);f=r[1],m=new RegExp(i),m.test(f)&&(c=f)}else if(n.test(c)){var r=n.exec(c);f=r[1]+r[2],n=new RegExp(i),n.test(f)&&(c=f)}m=/^(.+?)e$/;if(m.test(c)){var r=m.exec(c);f=r[1],m=new RegExp(i),n=new RegExp(h),o=new RegExp("^"+e+d+"[^aeiouwxy]$");if(m.test(f)||n.test(f)&&!o.test(f))c=f}return m=/ll$/,n=new RegExp(i),m.test(c)&&n.test(c)&&(m=/.$/,c=c.replace(m,"")),l=="y"&&(c=l.toLowerCase()+c.substr(1)),c}}(),lunr.stopWordFilter=function(a){var b=["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"];if(b.indexOf(a)===-1)return a},lunr.TokenStore=function(){this.root={docs:{}},this.length=0},lunr.TokenStore.prototype.add=function(a,b,c){var c=c||this.root,d=a[0],e=a.slice(1);d in c||(c[d]={docs:{}});if(e.length===0){c[d].docs[b.ref]=b,this.length+=1;return}return this.add(e,b,c[d])},lunr.TokenStore.prototype.has=function(a,b){var b=b||this.root,c=a[0],d=a.slice(1);return c in b?d.length===0?!0:this.has(d,b[c]):!1},lunr.TokenStore.prototype.getNode=function(a,b){var b=b||this.root,c=a[0],d=a.slice(1);return c in b?d.length===0?b[c]:this.getNode(d,b[c]):{}},lunr.TokenStore.prototype.get=function(a,b){return this.getNode(a).docs||{}},lunr.TokenStore.prototype.remove=function(a,b,c){var c=c||this.root,d=a[0],e=a.slice(1);if(!(d in c))return;if(e.length===0)delete c[d].docs[b];else return this.remove(e,b,c[d])},lunr.TokenStore.prototype.expand=function(a,b){var c=this.getNode(a),d=c.docs||{},b=b||[];return Object.keys(d).length&&b.push(a),Object.keys(c).forEach(function(c){if(c==="docs")return;b.concat(this.expand(a+c,b))},this),b};