function mt(e,t){if($(t).length>0&&e.length>0&&$(t).attr("class")!="mt-ignore")if($(t).children().length>0)for(var n=0;n<$(t).children().length;n++){if($($(t).children()[n]).attr("class")!="mt-ignore"){var r=$($(t).children()[n]).text();var i=r.split(" ");var s=[];for(var o=0;o<i.length;o++)for(var u=0;u<i[o].length;u++)if(i[o].charAt(u)>="!"&&i[o].charAt(u)<="@")s.push(new pun(i[o].charAt(u),o));r=r.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"");var a=r.split(" ");for(o=0;o<e.length;o++)for(u=0;u<a.length;u++){var f=detect_capitals(a[u]);if(a[u].toLowerCase()==e[o].w.toLowerCase())a[u]=apply_capitals(e[o].r,f)}for(o=0;o<s.length;o++)a[s[o].idx]+=s[o].c;r=a.join(" ");$($(t).children()[n]).text(r)}}else{if($(t).attr("id")=="mt-output")var r=$(t).val();else var r=$(t).text();var i=r.split(" ");var s=[];for(var o=0;o<i.length;o++)for(var u=0;u<i[o].length;u++)if(i[o].charAt(u)>="!"&&i[o].charAt(u)<="@")s.push(new pun(i[o].charAt(u),o));r=r.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"");var a=r.split(" ");for(var o=0;o<e.length;o++)for(var n=0;n<a.length;n++){var f=detect_capitals(a[n]);if(a[n].toLowerCase()==e[o].w.toLowerCase())a[n]=apply_capitals(e[o].r,f)}for(o=0;o<s.length;o++)a[s[o].idx]+=s[o].c;r=a.join(" ");if($(t).attr("id")=="mt-output")$(t).val(r);else $(t).text(r)}}function detect_capitals(e){var t=[];for(var n=0;n<e.length;n++)if(e.charAt(n)>="A"&&e.charAt(n)<="Z")t.push(1);else t.push(0);return t}function apply_capitals(e,t){var n="";if(e.length>=t.length){for(var r=0;r<t.length;r++)if(t[r])n+=e.charAt(r).toUpperCase();else n+=e.charAt(r).toLowerCase();n+=e.substr(r,e.length-1)}else for(var r=0;r<e.length;r++)if(t[r])n+=e.charAt(r).toUpperCase();else n+=e.charAt(r).toLowerCase();return n}function mt_translate(e){$(".mt-translate").each(function(t,n){mt(e,n)})}function pun(e,t){this.c=e;this.idx=t}function mt_watch(e,t,n){$(t).keyup(function(){$(n).val($(this).val());mt(e,$(n))})}console.log("MT READY");if($("#mt-input").length>0&&!$("#mt-output").length>0)console.log("MT-DEBUG: Input detected but no Output. Check your input IDs");if(!$("#mt-input").length>0&&$("#mt-output").length>0)console.log("MT-DEBUG: Output detected but no Input. Check your input IDs");mt_watch(mt_lib,$("#mt-input"),$("#mt-output"));mt_translate(mt_lib)