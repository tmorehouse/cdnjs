Ink.createModule("Ink.UI.Drawer","1",["Ink.UI.Common_1","Ink.Dom.Loaded_1","Ink.Dom.Selector_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1"],function(t,i,e,r,s,n){"use strict";function o(t){Ink.warn('Ink.UI.Drawer_1: Could not find the "'+t+'" element on this page. Please make sure it exists.')}function h(t){this._init(t)}return h.prototype={_init:function(i){switch(this._options=t.options({parentSelector:["String",".ink-drawer"],leftDrawer:["String",".left-drawer"],leftTrigger:["String",".left-drawer-trigger"],rightDrawer:["String",".right-drawer"],rightTrigger:["String",".right-drawer-trigger"],contentDrawer:["String",".content-drawer"],closeOnContentClick:["Boolean",!0],closeOnLinkClick:["Boolean",!0],mode:["String","push"],sides:["String","both"]},i||{}),this._contentDrawers=Ink.ss(this._options.contentDrawer),this._leftDrawer=Ink.s(this._options.leftDrawer),this._leftTriggers=Ink.ss(this._options.leftTrigger),this._rightDrawer=Ink.s(this._options.rightDrawer),this._rightTriggers=Ink.ss(this._options.rightTrigger),n.addClassName(document.body,"ink-drawer"),0===this._contentDrawers.length&&Ink.warn('Ink.UI.Drawer_1: Could not find any "'+this._options.contentDrawer+'" elements on this page. Please make sure you have at least one.'),this._options.sides){case"both":this._leftDrawer||o(this._options.leftDrawer),0===this._leftTriggers.length&&o(this._options.leftTrigger),this._rightDrawer||o(this._options.rightDrawer),0===this._rightTriggers.length&&o(this._options.rightTrigger),this._triggers=this._options.leftTrigger+", "+this._options.rightTrigger+", "+this._options.contentDrawer;break;case"left":this._leftDrawer||o(this._options.leftDrawer),0===this._leftTriggers.length&&o(this._options.leftTrigger),this._triggers=this._options.leftTrigger+", "+this._options.contentDrawer;break;case"right":this._rightDrawer||o(this._options.rightDrawer),0===this._rightTriggers.length&&o(this._options.rightTrigger),this._triggers=this._options.rightTrigger+", "+this._options.contentDrawer}this._isOpen=!1,this._direction=void 0,this._handlers={click:Ink.bindEvent(this._onClick,this),afterTransition:Ink.bindEvent(this._afterTransition,this)},this._delay=10,this._addEvents()},_onClick:function(t){var i=Ink.bind(function(t){this._isOpen?this.close():this.open(t)},this);e.matchesSelector(t.currentTarget,this._options.leftTrigger)?i("left"):e.matchesSelector(t.currentTarget,this._options.rightTrigger)?i("right"):e.matchesSelector(t.currentTarget,this._options.contentDrawer)&&this._options.closeOnContentClick&&this.close(),this._options.closeOnLinkClick&&r.isLink(t.target)&&this.close()},_afterTransition:function(){this._isOpen||("left"===this._direction?n.removeClassName(this._leftDrawer,"show"):n.removeClassName(this._rightDrawer,"show"))},_addEvents:function(){s.on(document.body,"click",this._triggers+', a[href*="#"]',this._handlers.click)},open:function(t){this._isOpen=!0,this._direction=t;var i="left"===t?this._leftDrawer:this._rightDrawer;n.addClassName(i,"show"),setTimeout(Ink.bind(function(){n.addClassName(document.body,[this._options.mode,t])},this),this._delay)},close:function(){this._isOpen!==!1&&(this._isOpen=!1,s.one(document.body,"transitionend oTransitionEnd transitionend webkitTransitionEnd",this._handlers.afterTransition),n.removeClassName(document.body,[this._options.mode,this._direction]))}},h});