!function(t,e,n,o,i){"use strict";function a(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var n=function(t,e){var n=[null,null],o=[null,null],i=[null,null],a=function(a,r){return i[r]=3*t[r],o[r]=3*(e[r]-t[r])-i[r],n[r]=1-i[r]-o[r],a*(i[r]+a*(o[r]+a*n[r]))},r=function(t){return i[0]+t*(2*o[0]+3*n[0]*t)},s=function(t){for(var e,n=t,o=0;++o<14&&(e=a(n,0)-t,!(Math.abs(e)<.001));)n-=e/r(n);return n};return function(t){return a(s(t),1)}};o.easing[e]=function(e,o,i,a,r){return a*n([t[0],t[1]],[t[2],t[3]])(o/r)+i}}return e}function r(){}function s(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function u(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function c(t){return Tn?+u(t.css("transform")):+t.css("left").replace("px","")}function l(t,e){var n={};return Tn?n.transform="translate3d("+(t+(e?.001:0))+"px,0,0)":n.left=t,n}function d(t){return{"transition-duration":t+"ms"}}function f(t,e){return+String(t).replace(e||"px","")||i}function h(t){return/%$/.test(t)&&f(t,"%")}function m(t){return(!!f(t)||!!f(t,"%"))&&t}function p(t,e,n,o){return(t-(o||0))*(e+(n||0))}function v(t,e,n,o){return-Math.round(t/(e+(n||0))-(o||0))}function g(t){var e=t.data();if(!e.tEnd){var n=t[0],o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};n.addEventListener(o[cn.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()},!1),e.tEnd=!0}}function w(t,e,n,o){var i,a=t.data();a&&(a.onEndFn=function(){i||(i=!0,clearTimeout(a.tT),n())},a.tProp=e,clearTimeout(a.tT),a.tT=setTimeout(function(){a.onEndFn()},1.5*o),g(t))}function y(t,e,n){if(t.length){var o=t.data();Tn?(t.css(d(0)),o.onEndFn=r,clearTimeout(o.tT)):t.stop();var i=b(e,function(){return c(t)});return t.css(l(i,n)),i}}function b(){for(var t,e=0,n=arguments.length;n>e&&(t=e?arguments[e]():arguments[e],"number"!=typeof t);e++);return t}function x(t,e){return Math.round(t+(e-t)/1.5)}function _(){return _.p=_.p||("https://"===n.protocol?"https://":"http://"),_.p}function C(t){var n=e.createElement("a");return n.href=t,n}function T(t,e){if("string"!=typeof t)return t;t=C(t);var n,o;if(t.host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var i=n.indexOf("&");-1!==i&&(n=n.substring(0,i)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&o||!e||(n=t.href,o="custom"),n?{id:n,type:o,s:t.search.replace(/^\?/,"")}:!1}function k(t,e,n){var i,a,r=t.video;return"youtube"===r.type?(a=_()+"img.youtube.com/vi/"+r.id+"/default.jpg",i=a.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?o.ajax({url:_()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(o){t.thumbsReady=!0,M(e,{img:o[0].thumbnail_large,thumb:o[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:i,thumb:a}}function M(t,e,n,i){for(var a=0,r=t.length;r>a;a++){var s=t[a];if(s.i===n&&s.thumbsReady){var u={videoReady:!0};u[Wn]=u[Kn]=u[In]=!1,i.splice(a,1,o.extend({},s,u,e));break}}}function S(t){function e(t,e,i){var a=t.children("img").eq(0),r=t.attr("href"),s=t.attr("src"),u=a.attr("src"),c=e.video,l=i?T(r,c===!0):!1;l?r=!1:l=c,n(t,a,o.extend(e,{video:l,img:e.img||r||s||u,thumb:e.thumb||u||s||r}))}function n(t,e,n){var i=n.thumb&&n.img!==n.thumb,a=f(n.width||t.attr("width")),r=f(n.height||t.attr("height"));o.extend(n,{width:a,height:r,thumbratio:K(n.thumbratio||f(n.thumbwidth||e&&e.attr("width")||i||a)/f(n.thumbheight||e&&e.attr("height")||i||r))})}var i=[];return t.children().each(function(){var t=o(this),a=I(o.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))e(t,a,!0);else{if(t.is(":empty"))return;n(t,null,o.extend(a,{html:this,_html:t.html()}))}i.push(a)}),i}function F(t){return 0===t.offsetWidth&&0===t.offsetHeight}function P(t){return!o.contains(e.documentElement,t)}function E(t,e,n){t()?e():setTimeout(function(){E(t,e)},n||100)}function j(t){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+t)}function $(t,e,n){var o=t.data(),i=o.measures;if(i&&(!o.l||o.l.W!==i.width||o.l.H!==i.height||o.l.r!==i.ratio||o.l.w!==e.w||o.l.h!==e.h||o.l.m!==n)){var a=i.width,r=i.height,u=e.w/e.h,c=i.ratio>=u,l="scaledown"===n,d="contain"===n,f="cover"===n;c&&(l||d)||!c&&f?(a=s(e.w,0,l?a:1/0),r=a/i.ratio):(c&&f||!c&&(l||d))&&(r=s(e.h,0,l?r:1/0),a=r*i.ratio),t.css({width:Math.ceil(a),height:Math.ceil(r),marginLeft:Math.floor(-a/2),marginTop:Math.floor(-r/2)}),o.l={W:i.width,H:i.height,r:i.ratio,w:e.w,h:e.h,m:n}}return!0}function q(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}function A(t,e,n){return e===n?!1:e>=t?"left":t>=n?"right":"left right"}function N(t,e,n,o){if(!n)return!1;if(!isNaN(t))return t-(o?0:1);for(var i,a=0,r=e.length;r>a;a++){var s=e[a];if(s.id===t){i=a;break}}return i}function L(t,e,n){n=n||{},t.each(function(){var t,i=o(this),a=i.data();a.clickOn||(a.clickOn=!0,o.extend(V(i,{onStart:function(e){t=e,(n.onStart||r).call(this,e)},onMove:n.onMove||r,onEnd:function(o){o.moved||n.tail.checked||e.call(this,t)}}),n.tail))})}function z(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function O(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function D(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function W(t,e){bn.scrollLeft(t).scrollTop(e)}function I(t){if(t){var e={};return o.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function K(t){if(t){var e=+t;return isNaN(e)?(e=t.split("/"),+e[0]/+e[1]||i):e}}function R(t,e){t.preventDefault(),e&&t.stopPropagation()}function H(t){return t?">":"<"}function X(t,e){var n=Math.round(e.pos),i=e.onEnd||r;"undefined"!=typeof e.overPos&&e.overPos!==e.pos&&(n=e.overPos,i=function(){X(t,o.extend({},e,{overPos:e.pos,time:Math.max(qn,e.time/2)}))});var a=o.extend(l(n,e._001),{width:e.width});Tn?(t.css(o.extend(d(e.time),a)),e.time>10?w(t,"transform",i,e.time):i()):t.stop().animate(a,e.time,Rn,i)}function B(t,e,n,i,a,s){var u="undefined"!=typeof s;if(u||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){t=t||o(t),e=e||o(e);var c=t[0],l=e[0],d="crossfade"===i.method,f=function(){if(!f.done){f.done=!0;var t=(u||a.shift())&&a.shift();t&&B.apply(this,t),(i.onEnd||r)(!!t)}},h=i.time/(s||1);n.not(t.addClass(qe).removeClass($e)).not(e.addClass($e).removeClass(qe)).removeClass(qe+" "+$e),t.stop(),e.stop(),d&&l&&t.fadeTo(0,0),t.fadeTo(d?h:1,1,d&&f),e.fadeTo(h,0,f),c&&d||l||f()}}function Q(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY}function V(n,i){function a(t){return h=o(t.target),y.checked=v=g=!1,d||y.flow||t.touches&&t.touches.length>1||t.which>1||vn&&vn.type!==t.type&&wn||(v=i.select&&h.is(i.select,w))?v:(p="touchstart"===t.type,g=h.is("a, a *",w),Q(t),f=vn=t,gn=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),m=y.control,(i.onStart||r).call(w,t,{control:m,$target:h}),d=y.flow=!0,void((!p||y.go)&&R(t)))}function s(t){if(t.touches&&t.touches.length>1||En&&!t.isPrimary||gn!==t.type||!d)return void(d&&u());Q(t);var e=Math.abs(t._x-f._x),n=Math.abs(t._y-f._y),o=e-n,a=(y.go||y.x||o>0)&&!y.noSwipe,s=0>o;p&&!y.checked?(d=a)&&R(t):(R(t),(i.onMove||r).call(w,t,{touch:p})),y.checked=y.checked||a||s}function u(t){var e=d;y.control=d=!1,e&&(y.flow=!1),!e||g&&!y.checked||(t&&R(t),wn=!0,clearTimeout(yn),yn=setTimeout(function(){wn=!1},1e3),(i.onEnd||r).call(w,{moved:y.checked,$target:h,control:m,touch:p,startEvent:f,aborted:!t||"MSPointerCancel"===t.type}))}function c(){y.flow||setTimeout(function(){y.flow=!0},10)}function l(){y.flow&&setTimeout(function(){y.flow=!1},$n)}var d,f,h,m,p,v,g,w=n[0],y={};return En?(w[Pn]("MSPointerDown",a,!1),e[Pn]("MSPointerMove",s,!1),e[Pn]("MSPointerCancel",u,!1),e[Pn]("MSPointerUp",u,!1)):(w[Pn]&&(w[Pn]("touchstart",a,!1),w[Pn]("touchmove",s,!1),w[Pn]("touchend",u,!1),e[Pn]("touchstart",c,!1),e[Pn]("touchend",l,!1),e[Pn]("touchcancel",l,!1),t[Pn]("scroll",l,!1)),n.on("mousedown",a),xn.on("mousemove",s).on("mouseup",u)),n.on("click","a",function(t){y.checked&&R(t)}),y}function Y(t,e){function n(n){c=d=n._x,v=o.now(),p=[[v,c]],f=h=F.noMove?0:y(t,e.getPos&&e.getPos(),e._001),(e.onStart||r).call(M,n)}function i(t,e){w=S.min,b=S.max,_=S.snap,C=t.altKey,k=!1,T=e.control,T||n(t)}function a(i,a){T&&(T=!1,n(i)),F.noSwipe||(d=i._x,p.push([o.now(),d]),h=f-(c-d),m=A(h,w,b),w>=h?h=x(h,w):h>=b&&(h=x(h,b)),F.noMove||(t.css(l(h,e._001)),k||(k=!0,a.touch||En||t.addClass(Ve)),(e.onMove||r).call(M,i,{pos:h,edge:m})))}function u(n){if(!T){n.touch||En||t.removeClass(Ve),g=(new Date).getTime();for(var i,a,u,c,l,m,v,y,x,k=g-$n,S=null,F=qn,P=e.friction,E=p.length-1;E>=0;E--){if(i=p[E][0],a=Math.abs(i-k),null===S||u>a)S=i,c=p[E][1];else if(S===k||a>u)break;u=a}v=s(h,w,b);var j=c-d,$=j>=0,q=g-S,A=q>$n,N=!A&&h!==f&&v===h;_&&(v=s(Math[N?$?"floor":"ceil":"round"](h/_)*_,w,b),w=b=v),N&&(_||v===h)&&(x=-(j/q),F*=s(Math.abs(x),e.timeLow,e.timeHigh),l=Math.round(h+x*F/P),_||(v=l),(!$&&l>b||$&&w>l)&&(m=$?w:b,y=l-m,_||(v=m),y=s(v+.03*y,m-50,m+50),F=Math.abs((h-y)/(x/P)))),F*=C?10:1,(e.onEnd||r).call(M,o.extend(n,{pos:h,newPos:v,overPos:y,time:F,moved:A?_:Math.abs(h-f)>3}))}}var c,d,f,h,m,p,v,g,w,b,_,C,T,k,M=t[0],S=t.data(),F={};return F=o.extend(V(e.$wrap,{onStart:i,onMove:a,onEnd:u,select:e.select,control:e.control}),F)}function U(t,e){var n,i,a,s=t[0],u={prevent:{}};return s[Pn]&&s[Pn](jn,function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,l=Math.abs(c)>Math.abs(s),d=H(0>c),f=i===d,h=o.now(),m=$n>h-a;i=d,a=h,l&&u.ok&&(!u.prevent[d]||n)&&(R(t,!0),n&&f&&m||(e.shift&&(n=!0,clearTimeout(u.t),u.t=setTimeout(function(){n=!1},An)),(e.onEnd||r)(t,e.shift?d:c)))},!1),u}function G(){o.each(o.Fotorama.instances,function(t,e){e.index=t})}function J(t){o.Fotorama.instances.push(t),G()}function Z(t){o.Fotorama.instances.splice(t.index,1),G()}var te="fotorama",ee="fullscreen",ne=te+"__wrap",oe=ne+"--css3",ie=ne+"--video",ae=ne+"--fade",re=ne+"--slide",se=ne+"--no-controls",ue=ne+"--no-shadows",ce=ne+"--pan-y",le=ne+"--rtl",de=te+"__stage",fe=de+"__frame",he=fe+"--video",me=de+"__shaft",pe=de+"--only-active",ve=te+"__grab",ge=te+"__pointer",we=te+"__arr",ye=we+"--disabled",be=we+"--prev",xe=we+"--next",_e=we+"__arr",Ce=te+"__nav",Te=Ce+"-wrap",ke=Ce+"__shaft",Me=Ce+"--dots",Se=Ce+"--thumbs",Fe=Ce+"__frame",Pe=Fe+"--dot",Ee=Fe+"--thumb",je=te+"__fade",$e=je+"-front",qe=je+"-rear",Ae=te+"__shadow",Ne=Ae+"s",Le=Ne+"--left",ze=Ne+"--right",Oe=te+"__active",De=te+"__select",We=te+"--hidden",Ie=te+"--fullscreen",Ke=te+"__fullscreen-icon",Re=te+"__error",He=te+"__loading",Xe=te+"__loaded",Be=Xe+"--full",Qe=Xe+"--img",Ve=te+"__grabbing",Ye=te+"__img",Ue=Ye+"--full",Ge=te+"__dot",Je=te+"__thumb",Ze=Je+"-border",tn=te+"__html",en=te+"__video",nn=en+"-play",on=en+"-close",an=te+"__caption",rn=te+"__oooo",sn=o&&o.fn.jquery.split(".");if(!sn||sn[0]<1||1==sn[0]&&sn[1]<8)return void(t.console&&console.error("Fotorama requires jQuery 1.8 or later and will not run without it."));var un={},cn=function(t,e,n){function o(t){g.cssText=t}function i(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var o in t){var i=t[o];if(!a(i,"-")&&g[i]!==n)return"pfx"==e?i:!0}return!1}function s(t,e,o){for(var a in t){var r=e[t[a]];if(r!==n)return o===!1?t[a]:i(r,"function")?r.bind(o||e):r}return!1}function u(t,e,n){var o=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+b.join(o+" ")+o).split(" ");return i(e,"string")||i(e,"undefined")?r(a,e):(a=(t+" "+x.join(o+" ")+o).split(" "),s(a,e,n))}var c,l,d,f="2.6.2",h={},m=e.documentElement,p="modernizr",v=e.createElement(p),g=v.style,w=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),y="Webkit Moz O ms",b=y.split(" "),x=y.toLowerCase().split(" "),_={},C=[],T=C.slice,k=function(t,n,o,i){var a,r,s,u,c=e.createElement("div"),l=e.body,d=l||e.createElement("body");if(parseInt(o,10))for(;o--;)s=e.createElement("div"),s.id=i?i[o]:p+(o+1),c.appendChild(s);return a=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),c.id=p,(l?c:d).innerHTML+=a,d.appendChild(c),l||(d.style.background="",d.style.overflow="hidden",u=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),r=n(c,t),l?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),m.style.overflow=u),!!r},M={}.hasOwnProperty;d=i(M,"undefined")||i(M.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return M.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=T.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=e.prototype;var a=new i,r=e.apply(a,n.concat(T.call(arguments)));return Object(r)===r?r:a}return e.apply(t,n.concat(T.call(arguments)))};return o}),_.csstransforms3d=function(){var t=!!u("perspective");return t};for(var S in _)d(_,S)&&(l=S.toLowerCase(),h[l]=_[S](),C.push((h[l]?"":"no-")+l));return h.addTest=function(t,e){if("object"==typeof t)for(var o in t)d(t,o)&&h.addTest(o,t[o]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(m.className+=" "+(e?"":"no-")+t),h[t]=e}return h},o(""),v=c=null,h._version=f,h._prefixes=w,h._domPrefixes=x,h._cssomPrefixes=b,h.testProp=function(t){return r([t])},h.testAllProps=u,h.testStyles=k,h.prefixed=function(t,e,n){return e?u(t,e,n):u(t,"pfx")},h}(t,e),ln={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},dn="webkit moz o ms khtml".split(" ");if("undefined"!=typeof e.cancelFullScreen)ln.ok=!0;else for(var fn=0,hn=dn.length;hn>fn;fn++)if(ln.prefix=dn[fn],"undefined"!=typeof e[ln.prefix+"CancelFullScreen"]){ln.ok=!0;break}ln.ok&&(ln.event=ln.prefix+"fullscreenchange",ln.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},ln.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},ln.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var mn,pn,vn,gn,wn,yn,bn=o(t),xn=o(e),_n="quirks"===n.hash.replace("#",""),Cn=cn.csstransforms3d,Tn=Cn&&!_n,kn=Cn||"CSS1Compat"===e.compatMode,Mn=ln.ok,Sn=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Fn=!Tn||Sn,Pn="addEventListener",En=t.navigator.msPointerEnabled,jn="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==i?"mousewheel":"DOMMouseScroll",$n=250,qn=300,An=1400,Nn=5e3,Ln=2,zn=64,On=500,Dn=333,Wn="$stageFrame",In="$navDotFrame",Kn="$navThumbFrame",Rn=a([.1,0,.25,1]);jQuery.Fotorama=function(t,a){function u(){o.each(co,function(t,e){if(!e.i){e.i=Vo++;var n=T(e.video,!0);if(n){var o={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:o=k(e,co,Ho),M(co,{img:o.img,thumb:o.thumb},e.i,Ho)}}})}function c(t){var e="keydown."+te,n="keydown."+te+Xo,o="resize."+te+Xo;t?(xn.on(n,function(t){ho&&27===t.keyCode?(R(t),to(ho,!0,!0)):(Ho.fullScreen||a.keyboard&&!Ho.index)&&(27===t.keyCode?(R(t),Ho.cancelFullScreen()):39===t.keyCode||40===t.keyCode&&Ho.fullScreen?(R(t),Ho.show({index:">",slow:t.altKey,direct:!0})):(37===t.keyCode||38===t.keyCode&&Ho.fullScreen)&&(R(t),Ho.show({index:"<",slow:t.altKey,direct:!0})))}),Ho.index||xn.off(e).on(e,"textarea, input, select",function(t){!pn.hasClass(ee)&&t.stopPropagation()}),bn.on(o,Ho.resize)):(xn.off(n),bn.off(o))}function g(e){e!==g.f&&(e?(t.html("").addClass(te+" "+Bo).append(Jo).before(Uo).before(Go),J(Ho)):(Jo.detach(),Uo.detach(),Go.detach(),t.html(Yo.urtext).removeClass(Bo),Z(Ho)),c(e),g.f=e)}function w(){co=Ho.data=co||D(a.data)||S(t),lo=Ho.size=co.length,!uo.ok&&a.shuffle&&O(co),u(),wi=V(wi),lo&&g(!0)}function x(){var t=2>lo||ho;xi.noMove=t||Fo,xi.noSwipe=t||!a.swipe,ti.toggleClass(ve,!xi.noMove&&!xi.noSwipe),En&&Jo.toggleClass(ce,!xi.noSwipe)}function _(t){t===!0&&(t=""),a.autoplay=Math.max(+t||Nn,1.5*jo)}function C(t){return t?"add":"remove"}function F(){Ho.options=a=I(a),Fo="crossfade"===a.transition||"dissolve"===a.transition,_o=a.loop&&(lo>2||Fo),jo=+a.transitionduration||qn,qo="rtl"===a.direction;var t={add:[],remove:[]};lo>1?(Co=a.nav,ko="top"===a.navposition,t.remove.push(De),ii.toggle(a.arrows)):(Co=!1,ii.hide()),Cn(),Sn(),a.autoplay&&_(a.autoplay),Po=f(a.thumbwidth)||zn,Eo=f(a.thumbheight)||zn,_i.ok=Ti.ok=a.trackpad&&!Fn,x(),Bn(a,!0),To="thumbs"===Co,To?(fn(lo,"navThumb"),fo=ci,Ro=Kn,q(Uo,o.Fotorama.jst.style({w:Po,h:Eo,b:a.thumbborderwidth,m:a.thumbmargin,s:Xo,q:!kn})),ri.addClass(Se).removeClass(Me)):"dots"===Co?(fn(lo,"navDot"),fo=ui,Ro=In,ri.addClass(Me).removeClass(Se)):(Co=!1,ri.removeClass(Se+" "+Me)),Co&&(ko?ai.insertBefore(Zo):ai.insertAfter(Zo),wn.nav=!1,wn(fo,si,"nav")),Mo=a.allowfullscreen,Mo?(hi.appendTo(Zo),So=Mn&&"native"===Mo):(hi.detach(),So=!1),t[C(Fo)].push(ae),t[C(!Fo)].push(re),t[C(qo)].push(le),$o=a.shadows&&!Fn,t[C(!$o)].push(ue),cn(),ti.css({left:a.glimpse,right:a.glimpse,width:"auto"}),Jo.addClass(t.add.join(" ")).removeClass(t.remove.join(" ")),yi=o.extend({},a)}function Q(t){return 0>t?(lo+t%lo)%lo:t>=lo?t%lo:t}function V(t){return s(t,0,lo-1)}function G(t){return _o?Q(t):V(t)}function je(t){return t>0||_o?t-1:!1}function $e(t){return lo-1>t||_o?t+1:!1}function qe(){li.min=_o?-1/0:-p(lo-1,bi.w,a.margin,vo),li.max=_o?1/0:-p(0,bi.w,a.margin,vo),li.snap=bi.w+a.margin}function Ae(){di.min=Math.min(0,bi.W-si.width()),di.max=0,si.toggleClass(ve,!(Ci.noMove=di.min===di.max))}function Ve(t,e,n){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,function(t,o){if(i&&(o=t),"number"==typeof o){var a=co[Q(o)];if(a){var r="$"+e+"Frame",s=a[r];n.call(this,t,o,a,s,r,s&&s.data())}}})}function en(t,e,n,o){(!Ao||"*"===Ao&&o===xo)&&(t=m(a.width)||m(t)||On,e=m(a.height)||m(e)||Dn,Ho.resize({width:t,ratio:a.ratio||n||t/e},0,o===xo?!0:"*"))}function sn(t,e,n,i,r){Ve(t,e,function(t,s,u,c,l,d){function f(t){var e=Q(s);Qn(t,{index:e,src:x,frame:co[e]})}function h(){w.remove(),o.Fotorama.cache[x]="error",u.html&&"stage"===e||!_||_===x?(!x||u.html||v?"stage"===e&&(c.trigger("f:load").removeClass(He+" "+Re).addClass(Xe),f("load"),en()):(c.trigger("f:error").removeClass(He).addClass(Re),f("error")),d.state="error",!(lo>1)||u.html||u.deleted||u.video||v||(u.deleted=!0,Ho.splice(s,1))):(u[b]=x=_,sn([s],e,n,i,!0))}function m(){var t=g.width,r=g.height,l=t/r;y.measures={width:t,height:r,ratio:l},en(t,r,l,s),w.off("load error").addClass(Ye+(v?" "+Ue:"")).prependTo(c),$(w,n||bi,i||u.fit||a.fit),o.Fotorama.cache[x]=d.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(He+" "+Re).addClass(Xe+" "+(v?Be:Qe)),"stage"===e&&f("load")},5)}function p(){var t=10;E(function(){return!Io||!t--&&!Fn},function(){m()})}if(c){var v=Ho.fullScreen&&u.full&&u.full!==u.img&&!d.$full&&"stage"===e;if(!d.$img||r||v){var g=new Image,w=o(g),y=w.data();d[v?"$full":"$img"]=w;var b="stage"===e?v?"full":"img":"thumb",x=u[b],_=v?null:u["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=d.$wrap),!x)return void h();o.Fotorama.cache[x]?function C(){"error"===o.Fotorama.cache[x]?h():"loaded"===o.Fotorama.cache[x]?setTimeout(p,0):setTimeout(C,100)}():(o.Fotorama.cache[x]="*",w.on("load",p).on("error",h)),d.state="",g.src=x}}})}function un(t){cn(!0),ji.appendTo(t),Ei=0,$i(),Pi=setInterval($i,200)}function cn(t){t||ji.detach(),clearInterval(Pi)}function dn(){var t=Ho.activeFrame[Wn];t&&!t.data().state&&(un(t),t.on("f:load f:error",function(){t.off("f:load f:error"),cn()}))}function fn(t,e){Ve(t,e,function(t,n,i,r,s,u){r||(r=i[s]=Jo[s].clone(),u=r.data(),u.data=i,"stage"===e?(i.html&&o('<div class="'+tn+'"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(r),a.captions&&i.caption&&o('<div class="'+an+'"></div>').append(i.caption).appendTo(r),i.video&&r.addClass(he).append(pi.clone()),ei=ei.add(r)):"navDot"===e?ui=ui.add(r):"navThumb"===e&&(u.$wrap=r.children(":first"),ci=ci.add(r),i.video&&r.append(pi.clone())))})}function hn(t,e,n){return t&&t.length&&$(t,e,n)}function vn(t){Ve(t,"stage",function(t,e,n,i,r,s){if(i){Mi[Wn][Q(e)]=i.css(o.extend({left:Fo?0:p(e,bi.w,a.margin,vo)},Fo&&d(0))),P(i[0])&&(i.appendTo(ti),to(n.$video));var u=n.fit||a.fit;hn(s.$img,bi,u),hn(s.$full,bi,u)}})}function gn(t,e){if("thumbs"===Co&&!isNaN(t)){var n=-t,i=-t+bi.w;ci.each(function(){var t=o(this),a=t.data(),r=a.eq,s={h:Eo},u="cover";s.w=a.w,a.l+a.w<n||a.l>i||hn(a.$img,s,u)||e&&sn([r],"navThumb",s,u)})}}function wn(t,e,n){if(!wn[n]){var i="nav"===n&&To,r=0;e.append(t.filter(function(){for(var t,e=o(this),n=e.data(),i=0,a=co.length;a>i;i++)if(n.data===co[i]){t=!0,n.eq=i;break}return t||e.remove()&&!1}).sort(function(t,e){return o(t).data().eq-o(e).data().eq}).each(function(){if(i){var t=o(this),e=t.data(),n=Math.round(Eo*e.data.thumbratio)||Po;e.l=r,e.w=n,t.css({width:n}),r+=n+a.thumbmargin}})),wn[n]=!0}}function yn(t){return t-Si>bi.w/3}function _n(t){return!(_o||wi+t&&wi-lo+t||ho)}function Cn(){ni.toggleClass(ye,_n(0)),oi.toggleClass(ye,_n(1))}function Sn(){_i.ok&&(_i.prevent={"<":_n(0),">":_n(1)})}function Pn(t){var e,n,o=t.data();return To?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*a.thumbmargin,max:-e+bi.w-n-10*a.thumbmargin}}function jn(t){var e=Ho.activeFrame[Ro].data();X(fi,{time:.9*t,pos:e.l,width:e.w-2*a.thumbborderwidth})}function An(t){var e=co[t.guessIndex][Ro];if(e){var n=di.min!==di.max,o=n&&Pn(Ho.activeFrame[Ro]),i=n&&(t.keep&&An.l?An.l:s((t.coo||bi.w/2)-Pn(e).c,o.min,o.max)),a=n&&s(i,di.min,di.max),r=.9*t.time;X(si,{time:r,pos:a||0,onEnd:function(){gn(a,!0)}}),r&&gn(a),Zn(ri,A(a,di.min,di.max)),An.l=i}}function Ln(){Rn(Ro),ki[Ro].push(Ho.activeFrame[Ro].addClass(Oe))}function Rn(t){for(var e=ki[t];e.length;)e.shift().removeClass(Oe)}function Hn(t){var e=Mi[t];o.each(po,function(t,n){delete e[n]}),o.each(e,function(t,n){delete e[t],n.detach()})}function Xn(t){vo=go=wi;var e=Ho.activeFrame,n=e[Wn];n&&(Rn(Wn),ki[Wn].push(n.addClass(Oe)),t||Ho.show.onEnd(!0),y(ti,0,!0),Hn(Wn),vn(po),qe(),Ae())}function Bn(t,e){t&&o.extend(bi,{width:t.width||bi.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:K(t.ratio)})&&!e&&o.extend(a,{width:bi.width,height:bi.height,minwidth:bi.minwidth,maxwidth:bi.maxwidth,minheight:bi.minheight,maxheight:bi.maxheight,ratio:bi.ratio})}function Qn(e,n,o){t.trigger(te+":"+e,[Ho,n]),Ho.prevent[e]?delete Ho.prevent[e]:(o||r)()}function Vn(){clearTimeout(Yn.t),Io=1,a.stopautoplayontouch?Ho.stopAutoplay():Oo=!0}function Yn(){Yn.t=setTimeout(function(){Io=0},qn+$n)}function Un(){Oo=!(!ho&&!Do)}function Gn(){if(clearTimeout(Gn.t),!a.autoplay||Oo)return void(Ho.autoplay&&(Ho.autoplay=!1,Qn("stopautoplay")));Ho.autoplay||(Ho.autoplay=!0,Qn("startautoplay"));var t=wi,e=Ho.activeFrame[Wn].data();E(function(){return e.state||t!==wi},function(){Gn.t=setTimeout(function(){Oo||t!==wi||Ho.show(_o?H(!qo):Q(wi+(qo?-1:1)))},a.autoplay)})}function Jn(){Ho.fullScreen&&(Ho.fullScreen=!1,Mn&&ln.cancel(Qo),pn.removeClass(ee),mn.removeClass(ee),t.removeClass(Ie).insertAfter(Go),bi=o.extend({},Wo),to(ho,!0,!0),io("x",!1),Ho.resize(),sn(po,"stage"),W(Lo,No),Qn("fullscreenexit"))}function Zn(t,e){$o&&(t.removeClass(Le+" "+ze),e&&!ho&&t.addClass(e.replace(/^|\s/g," "+Ne+"--")))}function to(t,e,n){e&&(Jo.removeClass(ie),ho=!1,x()),t&&t!==ho&&(t.remove(),Qn("unloadvideo")),n&&(Un(),Gn())}function eo(t){Jo.toggleClass(se,t)}function no(t){if(!xi.flow){var e=t?t.pageX:no.x,n=e&&!_n(yn(e))&&a.click;no.p===n||!Fo&&a.swipe||!Zo.toggleClass(ge,n)||(no.p=n,no.x=e)}}function oo(t,e){var n=t.target,r=o(n);r.hasClass(nn)?Ho.playVideo():n===mi?Ho[(Ho.fullScreen?"cancel":"request")+"FullScreen"]():ho?n===gi&&to(ho,!0,!0):Qn("stagetap",i,function(){e?eo():a.click&&Ho.show({index:t.shiftKey||H(yn(t._x)),slow:t.altKey,direct:!0})})}function io(t,e){xi[t]=Ci[t]=e}function ao(t,e){var n=o(this).data().eq;Ho.show({index:n,slow:t.altKey,direct:!0,coo:t._x-ri.offset().left,time:e})}function ro(){if(w(),F(),!ro.i){ro.i=!0;var t=a.startindex;(t||a.hash&&n.hash)&&(xo=N(t||n.hash.replace(/^#/,""),co,0===Ho.index||t,t)),wi=vo=go=wo=xo=G(xo)||0}if(lo){if(so())return;ho&&to(ho,!0),po=[],Hn(Wn),Ho.show({index:wi,time:0}),Ho.resize()}else Ho.destroy()}function so(){return!so.f===qo?(so.f=qo,wi=lo-1-wi,Ho.reverse(),!0):void 0}function uo(){uo.ok||(uo.ok=!0,Qn("ready"))}mn=mn||o("html"),pn=pn||o("body");var co,lo,fo,ho,mo,po,vo,go,wo,yo,bo,xo,_o,Co,To,ko,Mo,So,Fo,Po,Eo,jo,$o,qo,Ao,No,Lo,zo,Oo,Do,Wo,Io,Ko,Ro,Ho=this,Xo=o.now(),Bo=te+Xo,Qo=t[0],Vo=1,Yo=t.data(),Uo=o("<style></style>"),Go=o(z(We)),Jo=o(z(ne)),Zo=o(z(de)).appendTo(Jo),ti=(Zo[0],o(z(me)).appendTo(Zo)),ei=o(),ni=o(z(we+" "+be,z(_e))),oi=o(z(we+" "+xe,z(_e))),ii=ni.add(oi).appendTo(Zo),ai=o(z(Te)),ri=o(z(Ce)).appendTo(ai),si=o(z(ke)).appendTo(ri),ui=o(),ci=o(),li=ti.data(),di=si.data(),fi=o(z(Ze)).appendTo(si),hi=o(z(Ke)),mi=hi[0],pi=o(z(nn)),vi=o(z(on)).appendTo(Zo),gi=vi[0],wi=!1,yi={},bi={},xi={},_i={},Ci={},Ti={},ki={},Mi={},Si=0,Fi=[];Jo[Wn]=o(z(fe)),Jo[Kn]=o(z(Fe+" "+Ee,z(Je))),Jo[In]=o(z(Fe+" "+Pe,z(Ge))),ki[Wn]=[],ki[Kn]=[],ki[In]=[],Mi[Wn]={},Ho.prevent={},Tn&&Jo.addClass(oe),Yo.fotorama=this;var Pi,Ei,ji=o(z("",z(rn))),$i=function(){ji.attr("class",rn+" "+rn+"--"+Ei),Ei++,Ei>4&&(Ei=0)};Ho.startAutoplay=function(t){return Ho.autoplay?this:(Oo=Do=!1,_(t||a.autoplay),Gn(),this)},Ho.stopAutoplay=function(){return Ho.autoplay&&(Oo=Do=!0,Gn()),this},Ho.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?go+1:"<"===e?go-1:"<<"===e?0:">>"===e?lo-1:e,e=isNaN(e)?N(e,co,!0):e,e="undefined"==typeof e?wi||0:e,Ho.activeIndex=wi=G(e),yo=je(wi),bo=$e(wi),po=[wi,yo,bo],go=_o?e:wi;var n=Math.abs(wo-go),o=b(t.time,function(){return Math.min(jo*(1+(n-1)/12),2*jo)}),i=t.overPos;t.slow&&(o*=10),Ho.activeFrame=mo=co[wi],to(ho,mo.i!==co[Q(vo)].i),fn(po,"stage"),vn([go,je(go),$e(go)]),io("go",!0),Qn("show",t.direct);var r=Ho.show.onEnd=function(e){r.ok||(r.ok=!0,dn(),sn(po,"stage"),e||Xn(!0),Qn("showend",t.direct),io("go",!1),Sn(),no(),Un(),Gn())};if(Fo){var u=mo[Wn],c=wi!==wo?co[wo][Wn]:null;B(u,c,ei,{time:o,method:a.transition,onEnd:r},Fi)}else X(ti,{pos:-p(go,bi.w,a.margin,vo),overPos:i,time:o,onEnd:r,_001:!0});if(Cn(),Co){Ln();var l=V(wi+s(go-wo,-1,1));An({time:o,coo:l!==wi&&t.coo,guessIndex:"undefined"!=typeof t.coo?l:wi}),To&&jn(o)}return zo="undefined"!=typeof wo&&wo!==wi,wo=wi,a.hash&&zo&&!Ho.eq&&j(mo.id||wi+1),this},Ho.requestFullScreen=function(){return Mo&&!Ho.fullScreen&&(No=bn.scrollTop(),Lo=bn.scrollLeft(),W(0,0),io("x",!0),Wo=o.extend({},bi),t.addClass(Ie).appendTo(pn.addClass(ee)),mn.addClass(ee),to(ho,!0,!0),Ho.fullScreen=!0,So&&ln.request(Qo),Ho.resize(),sn(po,"stage"),dn(),Qn("fullscreenenter")),this},Ho.cancelFullScreen=function(){return So&&ln.is()?ln.cancel(e):Jn(),this},e.addEventListener&&e.addEventListener(ln.event,function(){!co||ln.is()||ho||Jn()},!1),Ho.resize=function(t){if(!co)return this;Bn(Ho.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:I(t),Ho.fullScreen);var e=arguments[1]||0,n=arguments[2],o=bi.width,i=bi.height,r=bi.ratio,u=bn.height()-(Co?ri.height():0);return m(o)&&(Jo.css({width:o,minWidth:bi.minwidth,maxWidth:bi.maxwidth}),o=bi.W=bi.w=Jo.width(),a.glimpse&&(bi.w-=Math.round(2*(h(a.glimpse)/100*o||f(a.glimpse)))),i=h(i)/100*u||f(i),i=i||r&&o/r,i&&(o=Math.round(o),i=bi.h=Math.round(s(i,h(bi.minheight)/100*u||f(bi.minheight),h(bi.maxheight)/100*u||f(bi.maxheight))),Xn(),Zo.addClass(pe).stop().animate({width:o,height:i},e,function(){Zo.removeClass(pe)}),Co&&(ri.stop().animate({width:o},e),An({guessIndex:wi,time:e,keep:!0}),To&&wn.nav&&jn(e)),Ao=n||!0,uo())),Si=Zo.offset().left,this},Ho.setOptions=function(t){return o.extend(a,t),ro(),this},Ho.shuffle=function(){return co&&O(co)&&ro(),this},Ho.destroy=function(){return Ho.cancelFullScreen(),Ho.stopAutoplay(),co=Ho.data=null,g(),po=[],Hn(Wn),this},Ho.playVideo=function(){var t=Ho.activeFrame,e=t.video,n=wi;return"object"==typeof e&&t.videoReady&&(So&&Ho.fullScreen&&Ho.cancelFullScreen(),E(function(){return!ln.is()||n!==wi},function(){n===wi&&(t.$video=t.$video||o(o.Fotorama.jst.video(e)),t.$video.appendTo(t[Wn]),Jo.addClass(ie),ho=t.$video,x(),Qn("loadvideo"))})),this},Ho.stopVideo=function(){return to(ho,!0,!0),this},Zo.on("mousemove",no),xi=Y(ti,{onStart:Vn,onMove:function(t,e){Zn(Zo,e.edge)},onEnd:function(t){Zn(Zo),Yn();var e=(En&&!Ko||t.touch)&&a.arrows;if(t.moved||e&&t.pos!==t.newPos){var n=v(t.newPos,bi.w,a.margin,vo);Ho.show({index:n,time:Fo?jo:t.time,overPos:t.overPos,direct:!0})}else t.aborted||oo(t.startEvent,e)},getPos:function(){return-p(go,bi.w,a.margin,vo)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+De+", ."+De+" *",$wrap:Zo}),Ci=Y(si,{onStart:Vn,onMove:function(t,e){Zn(ri,e.edge)},onEnd:function(t){function e(){An.l=t.newPos,Un(),Gn(),gn(t.newPos,!0)}if(Yn(),t.moved)t.pos!==t.newPos?(X(si,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),gn(t.newPos),$o&&Zn(ri,A(t.newPos,di.min,di.max))):e();else{var n=t.$target.closest("."+Fe,si)[0];n&&ao.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:ri}),_i=U(Zo,{shift:!0,onEnd:function(t,e){Vn(),Yn(),Ho.show({index:e,slow:t.altKey})}}),Ti=U(ri,{onEnd:function(t,e){Vn(),Yn();var n=y(si)+.25*e;si.css(l(s(n,di.min,di.max))),$o&&Zn(ri,A(n,di.min,di.max)),Ti.prevent={"<":n>=di.max,">":n<=di.min},clearTimeout(Ti.t),Ti.t=setTimeout(function(){gn(n,!0)},$n),gn(n)}}),Jo.hover(function(){setTimeout(function(){Io||(Ko=!0,eo(!Ko))},0)},function(){Ko&&(Ko=!1,eo(!Ko))}),L(ii,function(t){R(t),ho?to(ho,!0,!0):(Yn(),Ho.show({index:ii.index(this)?">":"<",slow:t.altKey,direct:!0}))},{onStart:function(){Vn(),xi.control=!0},tail:xi}),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){Ho[e]=function(){return co=co||[],"load"!==e?Array.prototype[e].apply(co,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(co=arguments[0]),ro(),Ho}}),ro()},o.fn.fotorama=function(e){return this.each(function(){var n=this,i=o(this),a=i.data(),r=a.fotorama;r?r.setOptions(e):E(function(){return!F(n)},function(){a.urtext=i.html(),new o.Fotorama(i,o.extend({},{width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Ln,glimpse:0,nav:"dots",navposition:"bottom",thumbwidth:zn,thumbheight:zn,thumbmargin:Ln,thumbborderwidth:Ln,allowfullscreen:!1,fit:"contain",transition:"slide",transitionduration:qn,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!0,shuffle:!1,direction:"ltr",shadows:!0},t.fotoramaDefaults,e,a))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o=o||{},o.Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.style=function(t){var e,n="";return un.escape,n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.video=function(t){function e(){n+=o.call(arguments,"")}var n="",o=(un.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="',e(("youtube"==t.type?"http://youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?"http://player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+"&"+t.s),n+='" frameborder="0" allowfullscreen></iframe></div>'},o(function(){o("."+te+':not([data-auto="false"])').fotorama()})}(window,document,location,window.jQuery);