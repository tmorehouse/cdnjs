!function(t,e,n,o){"use strict";function a(t){var e="bez_"+n.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof n.easing[e]){var o=function(t,e){var n=[null,null],o=[null,null],a=[null,null],i=function(i,r){return a[r]=3*t[r],o[r]=3*(e[r]-t[r])-a[r],n[r]=1-a[r]-o[r],i*(a[r]+i*(o[r]+i*n[r]))},r=function(t){return a[0]+t*(2*o[0]+3*n[0]*t)},u=function(t){for(var e,n=t,o=0;++o<14&&(e=i(n,0)-t,!(Math.abs(e)<.001));)n-=e/r(n);return n};return function(t){return i(u(t),1)}};n.easing[e]=function(e,n,a,i,r){return i*o([t[0],t[1]],[t[2],t[3]])(n/r)+a}}return e}function i(){}function r(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function u(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function s(t){return gn?+u(t.css("transform")):+t.css("left").replace("px","")}function c(t){var e={};return gn?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function l(t){return{"transition-duration":t+"ms"}}function d(t,e){return+String(t).replace(e||"px","")}function f(t){return/%$/.test(t)&&d(t,"%")}function h(t){return(!!d(t)||!!d(t,"%"))&&t}function m(t,e,n,o){return(t-(o||0))*(e+(n||0))}function p(t,e,n,o){return-Math.round(t/(e+(n||0))-(o||0))}function v(t){var e=t.data();if(!e.tEnd){var n=t[0],o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};n.addEventListener(o[U.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0}}function g(t,e,n,o){var a,i=t.data();i&&(i.onEndFn=function(){a||(a=!0,clearTimeout(i.tT),n())},i.tProp=e,clearTimeout(i.tT),i.tT=setTimeout(function(){i.onEndFn()},1.5*o),v(t))}function w(t,e){if(t.length){var n=t.data();gn?(t.css(l(0)),n.onEndFn=i,clearTimeout(n.tT)):t.stop();var o=y(e,function(){return s(t)});return t.css(c(o)),o}}function y(){for(var t,e=0,n=arguments.length;n>e&&(t=e?arguments[e]():arguments[e],"number"!=typeof t);e++);return t}function x(t,e){return Math.round(t+(e-t)/1.5)}function b(){return b.p=b.p||("https://"===location.protocol?"https://":"http://"),b.p}function _(t){var n=e.createElement("a");return n.href=t,n}function C(t,e){if("string"!=typeof t)return t;t=_(t);var n,o;if(t.host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var a=n.indexOf("&");-1!==a&&(n=n.substring(0,a)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&o||!e||(n=t.href,o="custom"),n?{id:n,type:o}:!1}function T(t,e,o){var a,i,r=t.video;return"youtube"===r.type?(i=b()+"img.youtube.com/vi/"+r.id+"/default.jpg",a=i.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?n.ajax({url:b()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(n){t.thumbsReady=!0,S(e,{img:n[0].thumbnail_large,thumb:n[0].thumbnail_small},t.i,o)}}):t.thumbsReady=!0,{img:a,thumb:i}}function S(t,e,o,a){for(var i=0,r=t.length;r>i;i++){var u=t[i];if(u.i===o&&u.thumbsReady){var s={videoReady:!0};s[Pn]=s[jn]=s[En]=!1,a.splice(i,1,n.extend({},u,s,e));break}}}function k(t){function e(t,e){var n=t.data(),a=t.children("img").eq(0),i=t.attr("href"),r=t.attr("src"),u=a.attr("src"),s=n.video,c=e?C(i,s===!0):!1;c?i=!1:c=C(s,s);var l=n.img||i||r||u,f=n.thumb||u||r||i,h=l!==f,m=d(n.width||t.attr("width")),p=d(n.height||t.attr("height")),v=d(n.thumbWidth||a.attr("width")||h||m),g=d(n.thumbHeight||a.attr("height")||h||p);return{video:c,img:l,width:m||o,height:p||o,thumb:f,thumbRatio:v/g||o}}var a=[];return t.children().each(function(){var t=n(this),o=n.extend(t.data(),{id:t.attr("id")});if(t.is("a, img"))n.extend(o,e(t,!0));else{if(t.is(":empty"))return;n.extend(o,{html:this,_html:t.html()})}a.push(o)}),a}function F(t){return 0===t.offsetWidth&&0===t.offsetHeight}function M(t){return!n.contains(e.documentElement,t)}function P(t,e,n){t()?e():setTimeout(function(){P(t,e)},n||100)}function E(t){location.replace(location.protocol+"//"+location.host+location.pathname.replace(/^\/?/,"/")+location.search+"#"+t)}function j(t,e,n){var o=t.data(),a=o.measures;if(a&&(!o.l||o.l.W!==a.width||o.l.H!==a.height||o.l.r!==a.ratio||o.l.w!==e.w||o.l.h!==e.h||o.l.m!==n)){var i=a.width,u=a.height,s=e.w/e.h,c=a.ratio>=s,l="scale-down"===n,d="contain"===n,f="cover"===n;c&&(l||d)||!c&&f?(i=r(e.w,0,l?i:1/0),u=i/a.ratio):(c&&f||!c&&(l||d))&&(u=r(e.h,0,l?u:1/0),i=u*a.ratio),t.css({width:Math.ceil(i),height:Math.ceil(u),marginLeft:Math.floor(-i/2),marginTop:Math.floor(-u/2)}),o.l={W:a.width,H:a.height,r:a.ratio,w:e.w,h:e.h,m:n}}return!0}function H(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}function $(t,e,n){return e===n?!1:e>=t?"left":t>=n?"right":"left right"}function W(t,e,n){if(!n)return!1;if(!isNaN(t))return t-1;for(var o,a=0,i=e.length;i>a;a++){var r=e[a];if(r.id===t){o=a;break}}return o}function q(t,e,o){o=o||{},t.each(function(){var t,a=n(this),r=a.data();r.clickOn||(r.clickOn=!0,n.extend(I(a,{onStart:function(e){t=e,(o.onStart||i).call(this,e)},onMove:o.onMove||i,onEnd:function(n){n.moved||o.tail.checked||e.call(this,t)}}),o.tail))})}function A(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function D(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function N(t){return"[object Array]"==Object.prototype.toString.call(t)&&n.map(t,function(t){return n.extend({},t)})}function z(t,e){hn.scrollLeft(t).scrollTop(e)}function L(t,e){var o=Math.round(e.pos),a=e.onEnd||i;"undefined"!=typeof e.overPos&&e.overPos!==e.pos&&(o=e.overPos,a=function(){L(t,n.extend({},e,{overPos:e.pos,time:Math.max(Cn,e.time/2)}))});var r=n.extend(c(o),{width:e.width});gn?(t.css(n.extend(l(e.time),r)),e.time>10?g(t,"transform",a,e.time):a()):t.stop().animate(r,e.time,Hn,a)}function O(t,e,o,a){t=t||n(t),e=e||n(e);var r=t[0],u=e[0],s="crossfade"===a.method,c=function(){c.done||((a.onEnd||i)(),c.done=!0)},d=l(a.time),f=l(0),h={opacity:0},m={opacity:1};o.removeClass(ze+" "+Ne),t.addClass(ze),e.addClass(Ne),gn?(w(t),w(e),s&&u&&t.css(n.extend(f,h)).width(),t.css(n.extend(s?d:f,m)),e.css(n.extend(d,h)),a.time>10&&(r||u)?(g(t,"opacity",c,a.time),g(e,"opacity",c,a.time)):c()):(t.stop(),e.stop(),s&&u&&t.fadeTo(0,0),t.fadeTo(s?a.time:1,1,s&&c),e.fadeTo(a.time,0,c),r&&s||u||c())}function R(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY}function I(o,a){function r(t){return m=n(t.target),x.checked=g=w=!1,f||x.flow||t.touches&&t.touches.length>1||t.which>1||ee&&ee.type!==t.type&&oe||(g=a.select&&m.is(a.select,y))?g:(v=t.type.match(/^t/),w=m.is("a, a *",y),R(t),h=ee=t,ne=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),p=x.control,(a.onStart||i).call(y,t,{control:p,$target:m}),f=x.flow=!0,void((!v||x.go)&&t.preventDefault()))}function u(t){if(t.touches&&t.touches.length>1||bn&&!t.isPrimary||ne!==t.type||!f)return void(f&&s());R(t);var e=Math.abs(t._x-h._x),n=Math.abs(t._y-h._y),o=e-n,r=(x.go||x.x||o>=0)&&!x.noSwipe,u=0>o;v&&!x.checked?(f=r,f&&t.preventDefault()):(t.preventDefault(),(a.onMove||i).call(y,t,{touch:v})),x.checked=x.checked||r||u}function s(t){var e=f;x.control=f=!1,e&&(x.flow=!1),!e||w&&!x.checked||(t&&t.preventDefault(),oe=!0,clearTimeout(ae),ae=setTimeout(function(){oe=!1},1e3),(a.onEnd||i).call(y,{moved:x.checked,$target:m,control:p,touch:v,startEvent:h,aborted:!t}))}function c(){clearTimeout(d),d=setTimeout(function(){x.flow=!0},10)}function l(){clearTimeout(d),d=setTimeout(function(){x.flow=!1},_n)}var d,f,h,m,p,v,g,w,y=o[0],x={};return bn?(y[$n]("MSPointerDown",r),e[$n]("MSPointerMove",u),e[$n]("MSPointerCancel",s),e[$n]("MSPointerUp",s)):(y[$n]&&(y[$n]("touchstart",r),y[$n]("touchmove",u),y[$n]("touchend",s),e[$n]("touchstart",c),e[$n]("touchend",l),t[$n]("scroll",l)),o.on("mousedown",r),mn.on("mousemove",u).on("mouseup",s)),o.on("click","a",function(t){x.checked&&t.preventDefault()}),x}function K(t,e){function o(o){l=d=o._x,v=n.now(),p=[[v,l]],f=h=w(t,e.getPos&&e.getPos()),(e.onStart||i).call(k,o)}function a(t,e){y=F.min,b=F.max,_=F.snap,C=t.altKey,S=!1,T=e.control,T||o(t)}function u(a,r){T&&(T=!1,o(a)),M.noSwipe||(d=a._x,p.push([n.now(),d]),h=f-(l-d),m=$(h,y,b),y>=h?h=x(h,y):h>=b&&(h=x(h,b)),M.noMove||(t.css(c(h)),S||(S=!0,r.touch||bn||t.addClass(tn)),(e.onMove||i).call(k,a,{pos:h,edge:m})))}function s(o){if(!T){o.touch||bn||t.removeClass(tn),g=(new Date).getTime();for(var a,u,s,c,l,m,v,w,x,S=g-_n,F=null,M=Cn,P=e.friction,E=p.length-1;E>=0;E--){if(a=p[E][0],u=Math.abs(a-S),null===F||s>u)F=a,c=p[E][1];else if(F===S||u>s)break;s=u}v=r(h,y,b);var j=c-d,H=j>=0,$=g-F,W=$>_n,q=!W&&h!==f&&v===h;_&&(v=r(Math[q?H?"floor":"ceil":"round"](h/_)*_,y,b),y=b=v),q&&(_||v===h)&&(x=-(j/$),M*=r(Math.abs(x),e.timeLow,e.timeHigh),l=Math.round(h+x*M/P),_||(v=l),(!H&&l>b||H&&y>l)&&(m=H?y:b,w=l-m,_||(v=m),w=r(v+.03*w,m-50,m+50),M=Math.abs((h-w)/(x/P)))),M*=C?10:1,(e.onEnd||i).call(k,n.extend(o,{pos:h,newPos:v,overPos:w,time:M,moved:W&&_||o.moved}))}}var l,d,f,h,m,p,v,g,y,b,_,C,T,S,k=t[0],F=t.data(),M={};return M=n.extend(I(e.$wrap,{onStart:a,onMove:u,onEnd:s,select:e.select,control:e.control}),M)}function B(t){V(!0),Wn.appendTo(t),re=0,qn(),ie=setInterval(qn,200)}function V(t){t||Wn.detach(),clearInterval(ie)}var Q={},U=function(t,e,n){function o(t){g.cssText=t}function a(t,e){return typeof t===e}function i(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var o in t){var a=t[o];if(!i(a,"-")&&g[a]!==n)return"pfx"==e?a:!0}return!1}function u(t,e,o){for(var i in t){var r=e[t[i]];if(r!==n)return o===!1?t[i]:a(r,"function")?r.bind(o||e):r}return!1}function s(t,e,n){var o=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+x.join(o+" ")+o).split(" ");return a(e,"string")||a(e,"undefined")?r(i,e):(i=(t+" "+b.join(o+" ")+o).split(" "),u(i,e,n))}var c,l,d,f="2.6.2",h={},m=e.documentElement,p="modernizr",v=e.createElement(p),g=v.style,w=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),y="Webkit Moz O ms",x=y.split(" "),b=y.toLowerCase().split(" "),_={},C=[],T=C.slice,S=function(t,n,o,a){var i,r,u,s,c=e.createElement("div"),l=e.body,d=l||e.createElement("body");if(parseInt(o,10))for(;o--;)u=e.createElement("div"),u.id=a?a[o]:p+(o+1),c.appendChild(u);return i=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),c.id=p,(l?c:d).innerHTML+=i,d.appendChild(c),l||(d.style.background="",d.style.overflow="hidden",s=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),r=n(c,t),l?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),m.style.overflow=s),!!r},k={}.hasOwnProperty;d=a(k,"undefined")||a(k.call,"undefined")?function(t,e){return e in t&&a(t.constructor.prototype[e],"undefined")}:function(t,e){return k.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=T.call(arguments,1),o=function(){if(this instanceof o){var a=function(){};a.prototype=e.prototype;var i=new a,r=e.apply(i,n.concat(T.call(arguments)));return Object(r)===r?r:i}return e.apply(t,n.concat(T.call(arguments)))};return o}),_.csstransforms3d=function(){var t=!!s("perspective");return t};for(var F in _)d(_,F)&&(l=F.toLowerCase(),h[l]=_[F](),C.push((h[l]?"":"no-")+l));return h.addTest=function(t,e){if("object"==typeof t)for(var o in t)d(t,o)&&h.addTest(o,t[o]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(m.className+=" "+(e?"":"no-")+t),h[t]=e}return h},o(""),v=c=null,h._version=f,h._prefixes=w,h._domPrefixes=b,h._cssomPrefixes=x,h.testProp=function(t){return r([t])},h.testAllProps=s,h.testStyles=S,h.prefixed=function(t,e,n){return e?s(t,e,n):s(t,"pfx")},h}(t,e),X={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},Y="webkit moz o ms khtml".split(" ");if("undefined"!=typeof e.cancelFullScreen)X.ok=!0;else for(var G=0,J=Y.length;J>G;G++)if(X.prefix=Y[G],"undefined"!=typeof e[X.prefix+"CancelFullScreen"]){X.ok=!0;break}X.ok&&(X.event=X.prefix+"fullscreenchange",X.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},X.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},X.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Z,te,ee,ne,oe,ae,ie,re,ue="fotorama",se="fullscreen",ce=ue+"__wrap",le=ce+"--css3",de=ce+"--video",fe=ce+"--fade",he=ce+"--slide",me=ce+"--no-controls",pe=ce+"--no-shadows",ve=ce+"--pan-y",ge=ue+"__stage",we=ge+"__frame",ye=we+"--video",xe=ge+"__shaft",be=ge+"--only-active",_e=ue+"__grab",Ce=ue+"__pointer",Te=ue+"__arr",Se=Te+"--disabled",ke=Te+"--prev",Fe=Te+"--next",Me=Te+"__arr",Pe=ue+"__nav",Ee=Pe+"-wrap",je=Pe+"__shaft",He=Pe+"--dots",$e=Pe+"--thumbs",We=Pe+"__frame",qe=We+"--dot",Ae=We+"--thumb",De=ue+"__fade",Ne=De+"-front",ze=De+"-rear",Le=ue+"__shadow",Oe=Le+"s",Re=Oe+"--left",Ie=Oe+"--right",Ke=ue+"__active",Be=ue+"__select",Ve=ue+"--hidden",Qe=ue+"--fullscreen",Ue=ue+"__fullscreen-icon",Xe=ue+"__error",Ye=ue+"__loading",Ge=ue+"__loaded",Je=Ge+"--full",Ze=Ge+"--img",tn=ue+"__grabbing",en=ue+"__img",nn=en+"--full",on=ue+"__dot",an=ue+"__thumb",rn=an+"-border",un=ue+"__html",sn=ue+"__video",cn=sn+"-play",ln=sn+"-close",dn=ue+"__caption",fn=ue+"__oooo",hn=n(t),mn=n(e),pn="CSS1Compat"===e.compatMode,vn="quirks"===location.hash.replace("#",""),gn=U.csstransforms3d&&!vn,wn=X.ok,yn=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),xn=!gn||yn,bn=t.navigator.msPointerEnabled,_n=250,Cn=300,Tn=5e3,Sn=2,kn=64,Fn=500,Mn=333,Pn="$stageFrame",En="$navDotFrame",jn="$navThumbFrame",Hn=a([.1,0,.25,1]),$n="addEventListener",Wn=n(A("",A(fn))),qn=function(){Wn.attr("class",fn+" "+fn+"--"+re),re++,re>4&&(re=0)};jQuery.Fotorama=function(t,a){function i(){n.each(Yn,function(t,e){if(!e.i){e.i=qo++;var n=C(e.video,!0);if(n){var o={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:o=T(e,Yn,Eo),S(Yn,{img:o.img,thumb:o.thumb},e.i,Eo)}}})}function u(e){e!==u.f&&(e?(t.html("").addClass($o).append(zo).before(Do).before(No),n.Fotorama.size++):(zo.detach(),Do.detach(),No.detach(),t.html(Ao.urtext).removeClass($o),n.Fotorama.size--),u.f=e)}function s(){Yn=Eo.data=Yn||N(a.data)||k(t),Gn=Eo.size=Yn.length,!Xn.ok&&a.shuffle&&D(Yn),i(),ia=_(ia),Gn&&u(!0)}function c(){var t=2>Gn||Zn;sa.noMove=t||po,sa.noSwipe=t||!a.swipe,Oo.toggleClass(_e,!sa.noMove&&!sa.noSwipe),bn&&zo.toggleClass(ve,!sa.noSwipe)}function v(t){t===!0&&(t=""),a.autoplay=Math.max(+t||Tn,1.5*wo)}function g(t){return t?"add":"remove"}function x(){po="crossfade"===a.transition||"dissolve"===a.transition,so=a.loop&&(Gn>2||po),wo=+a.transitionDuration||Cn;var t={add:[],remove:[]};Gn>1?(co=a.nav,fo="top"===a.navPosition,t.remove.push(Be),Bo.toggle(a.arrows),ze()):(co=!1,Bo.hide()),a.autoplay&&v(a.autoplay),vo=d(a.thumbWidth)||kn,go=d(a.thumbHeight)||kn,c(),$n(a,!0),lo="thumbs"===co,lo?(ne(Gn,"navThumb"),Jn=Yo,Po=jn,H(Do,n.Fotorama.jst.style({w:vo,h:go,m:Sn,s:Ho,q:!pn})),Qo.addClass($e).removeClass(He)):"dots"===co?(ne(Gn,"navDot"),Jn=Xo,Po=En,Qo.addClass(He).removeClass($e)):(co=!1,Qo.removeClass($e+" "+He)),co&&(fo?Vo.insertBefore(Lo):Vo.insertAfter(Lo),re.nav=!1,re(Jn,Uo,"nav")),ho=a.allowFullScreen,ho?(ta.appendTo(Lo),mo=wn&&"native"===ho):(ta.detach(),mo=!1),t[g(po)].push(fe),t[g(!po)].push(he),yo=a.shadows&&!xn,t[g(!yo)].push(pe),V(),zo.addClass(t.add.join(" ")).removeClass(t.remove.join(" ")),ra=n.extend({},a)}function b(t){return 0>t?(Gn+t%Gn)%Gn:t>=Gn?t%Gn:t}function _(t){return r(t,0,Gn-1)}function F(t){return so?b(t):_(t)}function R(t){return t>0||so?t-1:!1}function I(t){return Gn-1>t||so?t+1:!1}function Q(){Go.min=so?-1/0:-m(Gn-1,ua.w,Sn,no),Go.max=so?1/0:-m(0,ua.w,Sn,no),Go.snap=ua.w+Sn}function U(){Jo.min=Math.min(0,ua.w-Uo.width()),Jo.max=0,ca.noMove=Jo.min===Jo.max,Uo.toggleClass(_e,!ca.noMove)}function Y(t,e,o){if("number"==typeof t){t=new Array(t);var a=!0}return n.each(t,function(t,n){if(a&&(n=t),"number"==typeof n){var i=Yn[b(n)],r="$"+e+"Frame",u=i[r];o.call(this,t,n,i,u,r,u&&u.data())}})}function G(t,e,n,o){(!xo||"*"===xo&&o===uo)&&(t=h(a.width)||h(t)||Fn,e=h(a.height)||h(e)||Mn,Eo.resize({width:t,ratio:a.ratio||n||t/e},0,o===uo?!0:"*"))}function J(t,e,o,i,r){Y(t,e,function(t,u,s,c,l,d){function f(t){var e=b(u);Wn(t,{index:e,src:_,frame:Yn[e]})}function h(){w.remove(),n.Fotorama.cache[_]="error",s.html&&"stage"===e||!C||C===_?(_&&!s.html?(c.trigger("f:error").removeClass(Ye).addClass(Xe),f("error")):"stage"===e&&(c.trigger("f:load").removeClass(Ye+" "+Xe).addClass(Ge),f("load"),G()),d.state="error",!(Gn>1)||s.html||s.deleted||s.video||v||(s.deleted=!0,Eo.splice(u,1))):(s[x]=_=C,J([u],e,o,i,!0))}function m(){var t=g.width,r=g.height,l=t/r;y.measures={width:t,height:r,ratio:l},G(t,r,l,u),w.off("load error").addClass(en+(v?" "+nn:"")).prependTo(c),j(w,o||ua,i||s.fit||a.fit),n.Fotorama.cache[_]="loaded",d.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(Ye+" "+Xe).addClass(Ge+" "+(v?Je:Ze)),"stage"===e&&f("load")},5)}function p(){var t=10;P(function(){return!Fo||!t--&&!xn},function(){m()})}if(c){var v=Eo.fullScreen&&s.full&&!d.$full&&"stage"===e;if(!d.$img||r||v){var g=new Image,w=n(g),y=w.data();d[v?"$full":"$img"]=w;var x="stage"===e?v?"full":"img":"thumb",_=s[x],C=v?null:s["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=d.$wrap),!_)return void h();n.Fotorama.cache[_]?function T(){"error"===n.Fotorama.cache[_]?h():"loaded"===n.Fotorama.cache[_]?setTimeout(p,0):setTimeout(T,100)}():(n.Fotorama.cache[_]="*",w.on("load",p).on("error",h)),g.src=_}}})}function ee(){var t=Eo.activeFrame[Pn];t&&!t.data().state&&(B(t),t.on("f:load f:error",function(){t.off("f:load f:error"),V()}))}function ne(t,e){Y(t,e,function(t,o,i,r,u,s){r||(r=i[u]=zo[u].clone(),s=r.data(),s.data=i,"stage"===e?(i.html&&n('<div class="'+un+'"></div>').append(i._html?n(i.html).removeAttr("id").html(i._html):i.html).appendTo(r),a.captions&&i.caption&&n('<div class="'+dn+'"></div>').append(i.caption).appendTo(r),i.video&&r.addClass(ye).append(na.clone()),Ro=Ro.add(r)):"navDot"===e?Xo=Xo.add(r):"navThumb"===e&&(s.$wrap=r.children(":first"),Yo=Yo.add(r),i.video&&r.append(na.clone())))})}function oe(t,e,n){return t&&t.length&&j(t,e,n)}function ae(t){Y(t,"stage",function(t,e,o,i,r,u){if(i){da[Pn][b(e)]=i.css(n.extend({left:po?0:m(e,ua.w,Sn,no)},po&&l(0))),M(i[0])&&(i.appendTo(Oo),Rn(o.$video));var s=o.fit||a.fit;oe(u.$img,ua,s),oe(u.$full,ua,s)}})}function ie(t,e){if("thumbs"===co&&!isNaN(t)){var o=-t,a=-t+ua.w;Yo.each(function(){var t=n(this),i=t.data(),r=i.eq,u={h:go},s="cover";u.w=i.w,i.l+i.w<o||i.l>a||oe(i.$img,u,s)||e&&J([r],"navThumb",u,s)})}}function re(t,e,o){if(!re[o]){var a="nav"===o&&lo,i=0;e.append(t.filter(function(){for(var t,e=n(this),o=e.data(),a=0,i=Yn.length;i>a;a++)if(o.data===Yn[a]){t=!0,o.eq=a;break}return t||e.remove()&&!1}).sort(function(t,e){return n(t).data().eq-n(e).data().eq}).each(function(){if(a){var t=n(this),e=t.data(),o=Math.round(go*e.data.thumbRatio)||vo;e.l=i,e.w=o,t.css({width:o}),i+=o+Sn}})),re[o]=!0}}function De(t){return t-fa>ua.w/3}function Ne(t){return!(so||ia+t&&ia-Gn+t||Zn)}function ze(){Bo.each(function(t){n(this).toggleClass(Se,Ne(t))})}function Le(t){var e,n,o=t.data();return lo?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*Sn,max:-e+ua.w-n-10*Sn}}function tn(t){var e=Eo.activeFrame[Po].data();L(Zo,{time:.9*t,pos:e.l,width:e.w-2*Sn})}function sn(t){var e=Yn[t.guessIndex][Po];if(e){var n=Jo.min!==Jo.max,o=n&&Le(Eo.activeFrame[Po]),a=n&&(t.keep&&sn.l?sn.l:r((t.coo||ua.w/2)-Le(e).c,o.min,o.max)),i=n&&r(a,Jo.min,Jo.max),u=.9*t.time;L(Uo,{time:u,pos:i||0,onEnd:function(){ie(i,!0)}}),u&&ie(i),On(Qo,$(i,Jo.min,Jo.max)),sn.l=a}}function fn(){vn(Po),la[Po].push(Eo.activeFrame[Po].addClass(Ke))}function vn(t){for(var e=la[t];e.length;)e.shift().removeClass(Ke)}function yn(t){var e=da[t];n.each(eo,function(t,n){delete e[n]}),n.each(e,function(t,n){delete e[t],n.detach()})}function Hn(t){no=oo=ia;var e=Eo.activeFrame,n=e[Pn];n&&(vn(Pn),la[Pn].push(n.addClass(Ke)),t||Eo.show.onEnd(!0),w(Oo,0),yn(Pn),ae(eo),Q(),U())}function $n(t,e){t&&n.extend(ua,{width:t.width||ua.width,height:t.height,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight,ratio:function(t){if(t){var e=Number(t);return isNaN(e)?(e=t.split("/"),Number(e[0]/e[1])||o):e}}(t.ratio)})&&!e&&n.extend(a,{width:ua.width,height:ua.height,minWidth:ua.minWidth,maxWidth:ua.maxWidth,minHeight:ua.minHeight,maxHeight:ua.maxHeight,ratio:ua.ratio})}function Wn(e,n){t.trigger(ue+":"+e,[Eo,n])}function qn(){clearTimeout(Dn.t),Fo=1,a.stopAutoplayOnTouch?Eo.stopAutoplay():To=!0}function Dn(){Dn.t=setTimeout(function(){Fo=0},Cn+_n)}function Nn(){To=!(!Zn&&!So)}function zn(){if(clearTimeout(zn.t),!a.autoplay||To)return void(Eo.autoplay&&(Eo.autoplay=!1,Wn("stopautoplay")));Eo.autoplay||(Eo.autoplay=!0,Wn("startautoplay"));var t=ia;zn.t=setTimeout(function(){var e=Eo.activeFrame[Pn].data();P(function(){return e.state||t!==ia},function(){To||t!==ia||Eo.show(so?">":b(ia+1))})},a.autoplay)}function Ln(){Eo.fullScreen&&(Eo.fullScreen=!1,wn&&X.cancel(Wo),te.removeClass(se),Z.removeClass(se),t.removeClass(Qe).insertAfter(No),ua=n.extend({},ko),Rn(Zn,!0,!0),Vn("x",!1),Eo.resize(),J(eo,"stage"),z(_o,bo),Wn("fullscreenexit"))}function On(t,e){yo&&(t.removeClass(Re+" "+Ie),e&&!Zn&&t.addClass(e.replace(/^|\s/g," "+Oe+"--")))}function Rn(t,e,n){e&&(zo.removeClass(de),Zn=!1,c()),t&&t!==Zn&&(t.remove(),Wn("unloadvideo")),n&&(Nn(),zn())}function In(t){zo.toggleClass(me,t)}function Kn(t){if(!sa.flow){var e=t?t.pageX:Kn.x,n=!Ne(De(e))&&a.click;Kn.p===n||!po&&a.swipe||!Lo.toggleClass(Ce,n)||(Kn.p=n,Kn.x=e)}}function Bn(t,e){var o=t.target,i=n(o);i.hasClass(cn)?Eo.playVideo():o===ea?Eo[(Eo.fullScreen?"cancel":"request")+"FullScreen"]():Zn?o===aa&&Rn(Zn,!0,!0):e?In():a.click&&Eo.show({index:t.shiftKey||!De(t._x)?"<":">",slow:t.altKey,direct:!0})}function Vn(t,e){sa[t]=ca[t]=e}function Qn(t,e){var o=n(this).data().eq;Eo.show({index:o,slow:t.altKey,direct:!0,coo:t._x-Qo.offset().left,time:e})}function Un(){s(),x(),Xn.ok||(a.hash&&location.hash&&(uo=W(location.hash.replace(/^#/,""),Yn,0===jo)),ia=no=oo=ao=uo=F(uo)||0),Gn?(Zn&&Rn(Zn,!0),eo=[],yn(Pn),Eo.show({index:ia,time:0}),Eo.resize()):Eo.destroy()}function Xn(){Xn.ok||(Xn.ok=!0,Wn("ready"))}Z=Z||n("html"),te=te||n("body");var Yn,Gn,Jn,Zn,to,eo,no,oo,ao,io,ro,uo,so,co,lo,fo,ho,mo,po,vo,go,wo,yo,xo,bo,_o,Co,To,So,ko,Fo,Mo,Po,Eo=this,jo=An,Ho=n.now(),$o=ue+Ho,Wo=t[0],qo=1,Ao=t.data(),Do=n("<style></style>"),No=n(A(Ve)),zo=n(A(ce)),Lo=n(A(ge)).appendTo(zo),Oo=(Lo[0],n(A(xe)).appendTo(Lo)),Ro=n(),Io=n(A(Te+" "+ke,A(Me))),Ko=n(A(Te+" "+Fe,A(Me))),Bo=Io.add(Ko).appendTo(Lo),Vo=n(A(Ee)),Qo=n(A(Pe)).appendTo(Vo),Uo=n(A(je)).appendTo(Qo),Xo=n(),Yo=n(),Go=Oo.data(),Jo=Uo.data(),Zo=n(A(rn)).appendTo(Uo),ta=n(A(Ue)),ea=ta[0],na=n(A(cn)),oa=n(A(ln)).appendTo(Lo),aa=oa[0],ia=!1,ra={},ua={},sa={},ca={},la={},da={},fa=0;zo[Pn]=n(A(we)),zo[jn]=n(A(We+" "+Ae,A(an))),zo[En]=n(A(We+" "+qe,A(on))),la[Pn]=[],la[jn]=[],la[En]=[],da[Pn]={},gn&&zo.addClass(le),Ao.fotorama=this,Eo.options=a,An++,Eo.startAutoplay=function(t){return Eo.autoplay?this:(To=So=!1,v(t||a.autoplay),zn(),this)},Eo.stopAutoplay=function(){return Eo.autoplay&&(To=So=!0,zn()),this},Eo.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?oo+1:"<"===e?oo-1:"<<"===e?0:">>"===e?Gn-1:e,e=isNaN(e)?W(e,Yn,!0):e,e="undefined"==typeof e?ia||0:e,Eo.activeIndex=ia=F(e),io=R(ia),ro=I(ia),eo=[ia,io,ro],oo=so?e:ia;var n=Math.abs(ao-oo),o=y(t.time,function(){return Math.min(wo*(1+(n-1)/12),2*wo)}),i=t.overPos;t.slow&&(o*=10),Eo.activeFrame=to=Yn[ia],Rn(!1,to.i!==Yn[b(no)].i),ne(eo,"stage"),ae([oo,R(oo),I(oo)]),Wn("show",t.direct),Vn("go",!0);var u=Eo.show.onEnd=function(e){u.ok||(u.ok=!0,ee(),J(eo,"stage"),e||Hn(!0),Wn("showend",t.direct),Vn("go",!1),Kn(),Nn(),zn())};if(po){var s=to[Pn],c=ia!==ao?Yn[ao][Pn]:null;O(s,c,Ro,{time:o,method:a.transition,onEnd:u})}else L(Oo,{pos:-m(oo,ua.w,Sn,no),overPos:i,time:o,onEnd:u});if(ze(),co){fn();var l=_(ia+r(oo-ao,-1,1));sn({time:o,coo:l!==ia&&t.coo,guessIndex:"undefined"!=typeof t.coo?l:ia}),lo&&tn(o)}return Co="undefined"!=typeof ao&&ao!==ia,ao=ia,a.hash&&Co&&!Eo.eq&&E(to.id||ia+1),this},Eo.requestFullScreen=function(){return ho&&!Eo.fullScreen&&(bo=hn.scrollTop(),_o=hn.scrollLeft(),z(0,0),Vn("x",!0),ko=n.extend({},ua),t.addClass(Qe).appendTo(te.addClass(se)),Z.addClass(se),Rn(Zn,!0,!0),Eo.fullScreen=!0,mo&&X.request(Wo),Eo.resize(),J(eo,"stage"),Wn("fullscreenenter")),this},Eo.cancelFullScreen=function(){return mo&&X.is()?X.cancel(e):Ln(),this},e.addEventListener&&e.addEventListener(X.event,function(){X.is()||Zn||Ln()}),mn.on("keydown",function(t){Zn&&27===t.keyCode?(t.preventDefault(),Rn(Zn,!0,!0)):(Eo.fullScreen||a.keyboard&&!jo)&&(27===t.keyCode?(t.preventDefault(),Eo.cancelFullScreen()):39===t.keyCode||40===t.keyCode&&Eo.fullScreen?(t.preventDefault(),Eo.show({index:">",slow:t.altKey,direct:!0})):(37===t.keyCode||38===t.keyCode&&Eo.fullScreen)&&(t.preventDefault(),Eo.show({index:"<",slow:t.altKey,direct:!0})))}),jo||mn.on("keydown","textarea, input, select",function(t){Eo.fullScreen||t.stopPropagation()}),Eo.resize=function(t){if(!Yn)return this;$n(Eo.fullScreen?{width:"100%",maxWidth:null,minWidth:null,height:"100%",maxHeight:null,minHeight:null}:t,Eo.fullScreen);var e=arguments[1]||0,n=arguments[2],o=ua.width,a=ua.height,i=ua.ratio,u=hn.height()-(co?Qo.height():0);return h(o)&&(zo.css({width:o,minWidth:ua.minWidth,maxWidth:ua.maxWidth}),o=ua.w=zo.width(),a=f(a)/100*u||d(a),a=a||i&&o/i,a&&(o=Math.round(o),a=ua.h=Math.round(r(a,f(ua.minHeight)/100*u||d(ua.minHeight),f(ua.maxHeight)/100*u||d(ua.maxHeight))),Hn(),Lo.addClass(be).stop().animate({width:o,height:a},e,function(){Lo.removeClass(be)}),co&&(Qo.stop().animate({width:o},e),sn({guessIndex:ia,time:e,keep:!0}),lo&&re.nav&&tn(e)),xo=n||!0,Xn())),fa=Lo.offset().left,this},Eo.setOptions=function(t){return n.extend(a,t),Un(),this},Eo.shuffle=function(){return Yn&&D(Yn)&&Un(),this},Eo.destroy=function(){return Eo.cancelFullScreen(),Eo.stopAutoplay(),Yn=Eo.data=null,u(),eo=[],yn(Pn),this},Eo.playVideo=function(){var t=Eo.activeFrame,e=t.video,o=ia;return"object"==typeof e&&t.videoReady&&(mo&&Eo.fullScreen&&Eo.cancelFullScreen(),P(function(){return!X.is()||o!==ia},function(){o===ia&&(t.$video=t.$video||n(n.Fotorama.jst.video(e)),t.$video.appendTo(t[Pn]),zo.addClass(de),Zn=t.$video,c(),Wn("loadvideo"))})),this},Eo.stopVideo=function(){return Rn(Zn,!0,!0),this},Lo.on("mousemove",Kn),sa=K(Oo,{onStart:qn,onMove:function(t,e){On(Lo,e.edge)},onEnd:function(t){On(Lo),Dn();var e=(bn&&!Mo||t.touch)&&a.arrows;if(t.moved||e&&t.pos!==t.newPos){var n=p(t.newPos,ua.w,Sn,no);Eo.show({index:n,time:po?wo:t.time,overPos:t.overPos,direct:!0})}else t.aborted||Bn(t.startEvent,e)},getPos:function(){return-m(oo,ua.w,Sn,no)},timeLow:1,timeHigh:1,friction:2,select:"."+Be+", ."+Be+" *",$wrap:Lo}),ca=K(Uo,{onStart:qn,onMove:function(t,e){On(Qo,e.edge)},onEnd:function(t){function e(){sn.l=t.newPos,Nn(),zn(),ie(t.newPos,!0)}if(Dn(),t.moved)t.pos!==t.newPos?(L(Uo,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),ie(t.newPos),On(Qo,$(t.newPos,Jo.min,Jo.max))):e();else{var n=t.$target.closest("."+We,Uo)[0];n&&Qn.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Qo}),zo.hover(function(){setTimeout(function(){Fo||(Mo=!0,In(!Mo))},0)},function(){Mo&&(Mo=!1,In(!Mo))}),q(Bo,function(t){t.preventDefault(),Zn?Rn(Zn,!0,!0):(Dn(),Eo.show({index:Bo.index(this)?">":"<",slow:t.altKey,direct:!0}))},{onStart:function(){qn(),sa.control=!0},tail:sa}),n.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){Eo[e]=function(){return Yn=Yn||[],"load"!==e?Array.prototype[e].apply(Yn,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Yn=arguments[0]),Un(),Eo}}),hn.on("resize",Eo.resize),Un()},n.fn.fotorama=function(t){return this.each(function(){var e=this,o=n(this),a=o.data(),i=a.fotorama;i?i.setOptions(t):P(function(){return!F(e)},function(){a.urtext=o.html(),new n.Fotorama(o,n.extend({},{width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,ratio:null,nav:"dots",navPosition:"bottom",thumbWidth:kn,thumbHeight:kn,arrows:!0,click:!0,swipe:!0,allowFullScreen:!1,fit:"contain",transition:"slide",transitionDuration:Cn,captions:!0,hash:!1,autoplay:!1,stopAutoplayOnTouch:!0,keyboard:!1,loop:!1,shuffle:!1,shadows:!0},t,a))})})},n.Fotorama.cache={};var An=0;n.Fotorama.size=0,n(function(){n("."+ue+':not([data-auto="false"])').fotorama()}),n=n||{},n.Fotorama=n.Fotorama||{},n.Fotorama.jst=n.Fotorama.jst||{},n.Fotorama.jst.style=function(t){var e,n="";return Q.escape,n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.m*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.m)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},n.Fotorama.jst.video=function(t){function e(){n+=o.call(arguments,"")}var n="",o=(Q.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="',e("youtube"==t.type?"http://youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?"http://player.vimeo.com/video/"+t.id+"?autoplay=1&amp;badge=0":t.id),n+='" frameborder="0" allowfullscreen></iframe></div>'}}(window,document,jQuery);