!function(t,e,n,o,a){"use strict";function i(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var n=function(t,e){var n=[null,null],o=[null,null],a=[null,null],i=function(i,r){return a[r]=3*t[r],o[r]=3*(e[r]-t[r])-a[r],n[r]=1-a[r]-o[r],i*(a[r]+i*(o[r]+i*n[r]))},r=function(t){return a[0]+t*(2*o[0]+3*n[0]*t)},s=function(t){for(var e,n=t,o=0;++o<14&&(e=i(n,0)-t,!(Math.abs(e)<.001));)n-=e/r(n);return n};return function(t){return i(s(t),1)}};o.easing[e]=function(e,o,a,i,r){return i*n([t[0],t[1]],[t[2],t[3]])(o/r)+a}}return e}function r(){}function s(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function u(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function c(t){return yn?+u(t.css("transform")):+t.css("left").replace("px","")}function l(t,e){var n={};return yn?n.transform="translate3d("+(t+(e?.001:0))+"px,0,0)":n.left=t,n}function f(t){return{"transition-duration":t+"ms"}}function d(t,e){return+String(t).replace(e||"px","")||a}function h(t){return/%$/.test(t)&&d(t,"%")}function m(t){return(!!d(t)||!!d(t,"%"))&&t}function p(t,e,n,o){return(t-(o||0))*(e+(n||0))}function v(t,e,n,o){return-Math.round(t/(e+(n||0))-(o||0))}function g(t){var e=t.data();if(!e.tEnd){var n=t[0],o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};n.addEventListener(o[J.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()},!1),e.tEnd=!0}}function w(t,e,n,o){var a,i=t.data();i&&(i.onEndFn=function(){a||(a=!0,clearTimeout(i.tT),n())},i.tProp=e,clearTimeout(i.tT),i.tT=setTimeout(function(){i.onEndFn()},1.5*o),g(t))}function y(t,e,n){if(t.length){var o=t.data();yn?(t.css(f(0)),o.onEndFn=r,clearTimeout(o.tT)):t.stop();var a=x(e,function(){return c(t)});return t.css(l(a,n)),a}}function x(){for(var t,e=0,n=arguments.length;n>e&&(t=e?arguments[e]():arguments[e],"number"!=typeof t);e++);return t}function b(t,e){return Math.round(t+(e-t)/1.5)}function _(){return _.p=_.p||("https://"===n.protocol?"https://":"http://"),_.p}function C(t){var n=e.createElement("a");return n.href=t,n}function T(t,e){if("string"!=typeof t)return t;t=C(t);var n,o;if(t.host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var a=n.indexOf("&");-1!==a&&(n=n.substring(0,a)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&o||!e||(n=t.href,o="custom"),n?{id:n,type:o}:!1}function k(t,e,n){var a,i,r=t.video;return"youtube"===r.type?(i=_()+"img.youtube.com/vi/"+r.id+"/default.jpg",a=i.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?o.ajax({url:_()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(o){t.thumbsReady=!0,S(e,{img:o[0].thumbnail_large,thumb:o[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:a,thumb:i}}function S(t,e,n,a){for(var i=0,r=t.length;r>i;i++){var s=t[i];if(s.i===n&&s.thumbsReady){var u={videoReady:!0};u[$n]=u[An]=u[qn]=!1,a.splice(i,1,o.extend({},s,u,e));break}}}function F(t){function e(t,e,a){var i=t.children("img").eq(0),r=t.attr("href"),s=t.attr("src"),u=i.attr("src"),c=e.video,l=a?T(r,c===!0):!1;l?r=!1:l=c,n(t,i,o.extend(e,{video:l,img:e.img||r||s||u,thumb:e.thumb||u||s||r}))}function n(t,e,n){var a=n.thumb&&n.img!==n.thumb,i=d(n.width||t.attr("width")),r=d(n.height||t.attr("height"));o.extend(n,{width:i,height:r,thumbratio:W(n.thumbratio||d(n.thumbwidth||e&&e.attr("width")||a||i)/d(n.thumbheight||e&&e.attr("height")||a||r))})}var a=[];return t.children().each(function(){var t=o(this),i=R(o.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))e(t,i,!0);else{if(t.is(":empty"))return;n(t,null,o.extend(i,{html:this,_html:t.html()}))}a.push(i)}),a}function M(t){return 0===t.offsetWidth&&0===t.offsetHeight}function P(t){return!o.contains(e.documentElement,t)}function E(t,e,n){t()?e():setTimeout(function(){E(t,e)},n||100)}function j(t){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+t)}function $(t,e,n){var o=t.data(),a=o.measures;if(a&&(!o.l||o.l.W!==a.width||o.l.H!==a.height||o.l.r!==a.ratio||o.l.w!==e.w||o.l.h!==e.h||o.l.m!==n)){var i=a.width,r=a.height,u=e.w/e.h,c=a.ratio>=u,l="scaledown"===n,f="contain"===n,d="cover"===n;c&&(l||f)||!c&&d?(i=s(e.w,0,l?i:1/0),r=i/a.ratio):(c&&d||!c&&(l||f))&&(r=s(e.h,0,l?r:1/0),i=r*a.ratio),t.css({width:Math.ceil(i),height:Math.ceil(r),marginLeft:Math.floor(-i/2),marginTop:Math.floor(-r/2)}),o.l={W:a.width,H:a.height,r:a.ratio,w:e.w,h:e.h,m:n}}return!0}function q(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}function A(t,e,n){return e===n?!1:e>=t?"left":t>=n?"right":"left right"}function D(t,e,n,o){if(!n)return!1;if(!isNaN(t))return t-(o?0:1);for(var a,i=0,r=e.length;r>i;i++){var s=e[i];if(s.id===t){a=i;break}}return a}function N(t,e,n){n=n||{},t.each(function(){var t,a=o(this),i=a.data();i.clickOn||(i.clickOn=!0,o.extend(V(a,{onStart:function(e){t=e,(n.onStart||r).call(this,e)},onMove:n.onMove||r,onEnd:function(o){o.moved||n.tail.checked||e.call(this,t)}}),n.tail))})}function L(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function z(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function O(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function I(t,e){pn.scrollLeft(t).scrollTop(e)}function R(t){if(t){var e={};return o.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function W(t){if(t){var e=+t;return isNaN(e)?(e=t.split("/"),+e[0]/+e[1]||a):e}}function H(t,e){var n=Math.round(e.pos),a=e.onEnd||r;"undefined"!=typeof e.overPos&&e.overPos!==e.pos&&(n=e.overPos,a=function(){H(t,o.extend({},e,{overPos:e.pos,time:Math.max(Sn,e.time/2)}))});var i=o.extend(l(n,e._001),{width:e.width});yn?(t.css(o.extend(f(e.time),i)),e.time>10?w(t,"transform",a,e.time):a()):t.stop().animate(i,e.time,Dn,a)}function K(t,e,n,a,i,s){var u="undefined"!=typeof s;if(u||(i.push(arguments),Array.prototype.push.call(arguments,i.length),!(i.length>1))){t=t||o(t),e=e||o(e);var c=t[0],l=e[0],f="crossfade"===a.method,d=function(){if(!d.done){d.done=!0;var t=(u||i.shift())&&i.shift();t&&K.apply(this,t),(a.onEnd||r)(!!t)}},h=a.time/(s||1);n.not(t.addClass(Re).removeClass(Ie)).not(e.addClass(Ie).removeClass(Re)).removeClass(Re+" "+Ie),t.stop(),e.stop(),f&&l&&t.fadeTo(0,0),t.fadeTo(f?h:1,1,f&&d),e.fadeTo(h,0,d),c&&f||l||d()}}function B(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY}function V(n,a){function i(t){return m=o(t.target),x.checked=g=w=!1,d||x.flow||t.touches&&t.touches.length>1||t.which>1||ie&&ie.type!==t.type&&se||(g=a.select&&m.is(a.select,y))?g:(v=t.type.match(/^t/),w=m.is("a, a *",y),B(t),h=ie=t,re=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),p=x.control,(a.onStart||r).call(y,t,{control:p,$target:m}),d=x.flow=!0,void((!v||x.go)&&t.preventDefault()))}function s(t){if(t.touches&&t.touches.length>1||Tn&&!t.isPrimary||re!==t.type||!d)return void(d&&u());B(t);var e=Math.abs(t._x-h._x),n=Math.abs(t._y-h._y),o=e-n,i=(x.go||x.x||o>0)&&!x.noSwipe,s=0>o;v&&!x.checked?(d=i)&&t.preventDefault():(t.preventDefault(),(a.onMove||r).call(y,t,{touch:v})),x.checked=x.checked||i||s}function u(t){var e=d;x.control=d=!1,e&&(x.flow=!1),!e||w&&!x.checked||(t&&t.preventDefault(),se=!0,clearTimeout(ue),ue=setTimeout(function(){se=!1},1e3),(a.onEnd||r).call(y,{moved:x.checked,$target:m,control:p,touch:v,startEvent:h,aborted:!t}))}function c(){x.flow||(clearTimeout(f),f=setTimeout(function(){x.flow=!0},10))}function l(){x.flow&&(clearTimeout(f),f=setTimeout(function(){x.flow=!1},kn))}var f,d,h,m,p,v,g,w,y=n[0],x={};return Tn?(y[Nn]("MSPointerDown",i,!1),e[Nn]("MSPointerMove",s,!1),e[Nn]("MSPointerCancel",u,!1),e[Nn]("MSPointerUp",u,!1)):(y[Nn]&&(y[Nn]("touchstart",i,!1),y[Nn]("touchmove",s,!1),y[Nn]("touchend",u,!1),e[Nn]("touchstart",c,!1),e[Nn]("touchend",l,!1),e[Nn]("touchcancel",l,!1),t[Nn]("scroll",l,!1)),n.on("mousedown",i),vn.on("mousemove",s).on("mouseup",u)),n.on("click","a",function(t){x.checked&&t.preventDefault()}),x}function Q(t,e){function n(n){c=f=n._x,v=o.now(),p=[[v,c]],d=h=M.noMove?0:y(t,e.getPos&&e.getPos(),e._001),(e.onStart||r).call(S,n)}function a(t,e){w=F.min,x=F.max,_=F.snap,C=t.altKey,k=!1,T=e.control,T||n(t)}function i(a,i){T&&(T=!1,n(a)),M.noSwipe||(f=a._x,p.push([o.now(),f]),h=d-(c-f),m=A(h,w,x),w>=h?h=b(h,w):h>=x&&(h=b(h,x)),M.noMove||(t.css(l(h,e._001)),k||(k=!0,i.touch||Tn||t.addClass(nn)),(e.onMove||r).call(S,a,{pos:h,edge:m})))}function u(n){if(!T){n.touch||Tn||t.removeClass(nn),g=(new Date).getTime();for(var a,i,u,c,l,m,v,y,b,k=g-kn,F=null,M=Sn,P=e.friction,E=p.length-1;E>=0;E--){if(a=p[E][0],i=Math.abs(a-k),null===F||u>i)F=a,c=p[E][1];else if(F===k||i>u)break;u=i}v=s(h,w,x);var j=c-f,$=j>=0,q=g-F,A=q>kn,D=!A&&h!==d&&v===h;_&&(v=s(Math[D?$?"floor":"ceil":"round"](h/_)*_,w,x),w=x=v),D&&(_||v===h)&&(b=-(j/q),M*=s(Math.abs(b),e.timeLow,e.timeHigh),l=Math.round(h+b*M/P),_||(v=l),(!$&&l>x||$&&w>l)&&(m=$?w:x,y=l-m,_||(v=m),y=s(v+.03*y,m-50,m+50),M=Math.abs((h-y)/(b/P)))),M*=C?10:1,(e.onEnd||r).call(S,o.extend(n,{pos:h,newPos:v,overPos:y,time:M,moved:A&&_||n.moved}))}}var c,f,d,h,m,p,v,g,w,x,_,C,T,k,S=t[0],F=t.data(),M={};return M=o.extend(V(e.$wrap,{onStart:a,onMove:i,onEnd:u,select:e.select,control:e.control}),M)}function U(){o.each(o.Fotorama.instances,function(t,e){e.index=t})}function X(t){o.Fotorama.instances.push(t),U()}function Y(t){o.Fotorama.instances.splice(t.index,1),U()}var G={},J=function(t,e,n){function o(t){g.cssText=t}function a(t,e){return typeof t===e}function i(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var o in t){var a=t[o];if(!i(a,"-")&&g[a]!==n)return"pfx"==e?a:!0}return!1}function s(t,e,o){for(var i in t){var r=e[t[i]];if(r!==n)return o===!1?t[i]:a(r,"function")?r.bind(o||e):r}return!1}function u(t,e,n){var o=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+x.join(o+" ")+o).split(" ");return a(e,"string")||a(e,"undefined")?r(i,e):(i=(t+" "+b.join(o+" ")+o).split(" "),s(i,e,n))}var c,l,f,d="2.6.2",h={},m=e.documentElement,p="modernizr",v=e.createElement(p),g=v.style,w=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),y="Webkit Moz O ms",x=y.split(" "),b=y.toLowerCase().split(" "),_={},C=[],T=C.slice,k=function(t,n,o,a){var i,r,s,u,c=e.createElement("div"),l=e.body,f=l||e.createElement("body");if(parseInt(o,10))for(;o--;)s=e.createElement("div"),s.id=a?a[o]:p+(o+1),c.appendChild(s);return i=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),c.id=p,(l?c:f).innerHTML+=i,f.appendChild(c),l||(f.style.background="",f.style.overflow="hidden",u=m.style.overflow,m.style.overflow="hidden",m.appendChild(f)),r=n(c,t),l?c.parentNode.removeChild(c):(f.parentNode.removeChild(f),m.style.overflow=u),!!r},S={}.hasOwnProperty;f=a(S,"undefined")||a(S.call,"undefined")?function(t,e){return e in t&&a(t.constructor.prototype[e],"undefined")}:function(t,e){return S.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=T.call(arguments,1),o=function(){if(this instanceof o){var a=function(){};a.prototype=e.prototype;var i=new a,r=e.apply(i,n.concat(T.call(arguments)));return Object(r)===r?r:i}return e.apply(t,n.concat(T.call(arguments)))};return o}),_.csstransforms3d=function(){var t=!!u("perspective");return t};for(var F in _)f(_,F)&&(l=F.toLowerCase(),h[l]=_[F](),C.push((h[l]?"":"no-")+l));return h.addTest=function(t,e){if("object"==typeof t)for(var o in t)f(t,o)&&h.addTest(o,t[o]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(m.className+=" "+(e?"":"no-")+t),h[t]=e}return h},o(""),v=c=null,h._version=d,h._prefixes=w,h._domPrefixes=b,h._cssomPrefixes=x,h.testProp=function(t){return r([t])},h.testAllProps=u,h.testStyles=k,h.prefixed=function(t,e,n){return e?u(t,e,n):u(t,"pfx")},h}(t,e),Z={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},te="webkit moz o ms khtml".split(" ");if("undefined"!=typeof e.cancelFullScreen)Z.ok=!0;else for(var ee=0,ne=te.length;ne>ee;ee++)if(Z.prefix=te[ee],"undefined"!=typeof e[Z.prefix+"CancelFullScreen"]){Z.ok=!0;break}Z.ok&&(Z.event=Z.prefix+"fullscreenchange",Z.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},Z.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Z.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var oe,ae,ie,re,se,ue,ce="fotorama",le="fullscreen",fe=ce+"__wrap",de=fe+"--css3",he=fe+"--video",me=fe+"--fade",pe=fe+"--slide",ve=fe+"--no-controls",ge=fe+"--no-shadows",we=fe+"--pan-y",ye=ce+"__stage",xe=ye+"__frame",be=xe+"--video",_e=ye+"__shaft",Ce=ye+"--only-active",Te=ce+"__grab",ke=ce+"__pointer",Se=ce+"__arr",Fe=Se+"--disabled",Me=Se+"--prev",Pe=Se+"--next",Ee=Se+"__arr",je=ce+"__nav",$e=je+"-wrap",qe=je+"__shaft",Ae=je+"--dots",De=je+"--thumbs",Ne=je+"__frame",Le=Ne+"--dot",ze=Ne+"--thumb",Oe=ce+"__fade",Ie=Oe+"-front",Re=Oe+"-rear",We=ce+"__shadow",He=We+"s",Ke=He+"--left",Be=He+"--right",Ve=ce+"__active",Qe=ce+"__select",Ue=ce+"--hidden",Xe=ce+"--fullscreen",Ye=ce+"__fullscreen-icon",Ge=ce+"__error",Je=ce+"__loading",Ze=ce+"__loaded",tn=Ze+"--full",en=Ze+"--img",nn=ce+"__grabbing",on=ce+"__img",an=on+"--full",rn=ce+"__dot",sn=ce+"__thumb",un=sn+"-border",cn=ce+"__html",ln=ce+"__video",fn=ln+"-play",dn=ln+"-close",hn=ce+"__caption",mn=ce+"__oooo",pn=o(t),vn=o(e),gn="quirks"===n.hash.replace("#",""),wn=J.csstransforms3d,yn=wn&&!gn,xn=wn||"CSS1Compat"===e.compatMode,bn=Z.ok,_n=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Cn=!yn||_n,Tn=t.navigator.msPointerEnabled,kn=250,Sn=300,Fn=5e3,Mn=2,Pn=64,En=500,jn=333,$n="$stageFrame",qn="$navDotFrame",An="$navThumbFrame",Dn=i([.1,0,.25,1]),Nn="addEventListener";jQuery.Fotorama=function(t,i){function u(){o.each(oo,function(t,e){if(!e.i){e.i=Ro++;var n=T(e.video,!0);if(n){var o={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:o=k(e,oo,Lo),S(oo,{img:o.img,thumb:o.thumb},e.i,Lo)}}})}function c(t){var e="keydown."+ce,n="keydown."+ce+zo,o="resize."+ce+zo;t?(vn.on(n,function(t){ro&&27===t.keyCode?(t.preventDefault(),Xn(ro,!0,!0)):(Lo.fullScreen||i.keyboard&&!Lo.index)&&(27===t.keyCode?(t.preventDefault(),Lo.cancelFullScreen()):39===t.keyCode||40===t.keyCode&&Lo.fullScreen?(t.preventDefault(),Lo.show({index:">",slow:t.altKey,direct:!0})):(37===t.keyCode||38===t.keyCode&&Lo.fullScreen)&&(t.preventDefault(),Lo.show({index:"<",slow:t.altKey,direct:!0})))}),Lo.index||vn.off(e).on(e,"textarea, input, select",function(t){!ae.hasClass(le)&&t.stopPropagation()}),pn.on(o,Lo.resize)):(vn.off(n),pn.off(o))}function l(e){e!==l.f&&(e?(t.html("").addClass(Oo).append(Bo).before(Ho).before(Ko),X(Lo)):(Bo.detach(),Ho.detach(),Ko.detach(),t.html(Wo.urtext).removeClass(Oo),Y(Lo)),c(e),l.f=e)}function g(){oo=Lo.data=oo||O(i.data)||F(t),ao=Lo.size=oo.length,!no.ok&&i.shuffle&&z(oo),u(),fa=B(fa),ao&&l(!0)}function w(){var t=2>ao||ro;ma.noMove=t||_o,ma.noSwipe=t||!i.swipe,Qo.toggleClass(Te,!ma.noMove&&!ma.noSwipe),Tn&&Bo.toggleClass(we,!ma.noSwipe)}function b(t){t===!0&&(t=""),i.autoplay=Math.max(+t||Fn,1.5*ko)}function _(t){return t?"add":"remove"}function C(){Lo.options=i=R(i),_o="crossfade"===i.transition||"dissolve"===i.transition,vo=i.loop&&(ao>2||_o),ko=+i.transitionduration||Sn;var t={add:[],remove:[]};ao>1?(go=i.nav,yo="top"===i.navposition,t.remove.push(Qe),Go.toggle(i.arrows),wn()):(go=!1,Go.hide()),i.autoplay&&b(i.autoplay),Co=d(i.thumbwidth)||Pn,To=d(i.thumbheight)||Pn,w(),Rn(i,!0),wo="thumbs"===go,wo?(Oe(ao,"navThumb"),io=na,No=An,q(Ho,o.Fotorama.jst.style({w:Co,h:To,m:Mn,s:zo,q:!xn})),Zo.addClass(De).removeClass(Ae)):"dots"===go?(Oe(ao,"navDot"),io=ea,No=qn,Zo.addClass(Ae).removeClass(De)):(go=!1,Zo.removeClass(De+" "+Ae)),go&&(yo?Jo.insertBefore(Vo):Jo.insertAfter(Vo),nn.nav=!1,nn(io,ta,"nav")),xo=i.allowfullscreen,xo?(ra.appendTo(Vo),bo=bn&&"native"===xo):(ra.detach(),bo=!1),t[_(_o)].push(me),t[_(!_o)].push(pe),So=i.shadows&&!Cn,t[_(!So)].push(ge),se(),Bo.addClass(t.add.join(" ")).removeClass(t.remove.join(" ")),da=o.extend({},i)}function M(t){return 0>t?(ao+t%ao)%ao:t>=ao?t%ao:t}function B(t){return s(t,0,ao-1)}function V(t){return vo?M(t):B(t)}function U(t){return t>0||vo?t-1:!1}function G(t){return ao-1>t||vo?t+1:!1}function J(){oa.min=vo?-1/0:-p(ao-1,ha.w,Mn,co),oa.max=vo?1/0:-p(0,ha.w,Mn,co),oa.snap=ha.w+Mn}function te(){aa.min=Math.min(0,ha.w-ta.width()),aa.max=0,ta.toggleClass(Te,!(pa.noMove=aa.min===aa.max))}function ee(t,e,n){if("number"==typeof t){t=new Array(t);var a=!0}return o.each(t,function(t,o){if(a&&(o=t),"number"==typeof o){var i=oo[M(o)];if(i){var r="$"+e+"Frame",s=i[r];n.call(this,t,o,i,s,r,s&&s.data())}}})}function ne(t,e,n,o){(!Fo||"*"===Fo&&o===po)&&(t=m(i.width)||m(t)||En,e=m(i.height)||m(e)||jn,Lo.resize({width:t,ratio:i.ratio||n||t/e},0,o===po?!0:"*"))}function ie(t,e,n,a,r){ee(t,e,function(t,s,u,c,l,f){function d(t){var e=M(s);Wn(t,{index:e,src:b,frame:oo[e]})}function h(){w.remove(),o.Fotorama.cache[b]="error",u.html&&"stage"===e||!_||_===b?(b&&!u.html?(c.trigger("f:error").removeClass(Je).addClass(Ge),d("error")):"stage"===e&&(c.trigger("f:load").removeClass(Je+" "+Ge).addClass(Ze),d("load"),ne()),f.state="error",!(ao>1)||u.html||u.deleted||u.video||v||(u.deleted=!0,Lo.splice(s,1))):(u[x]=b=_,ie([s],e,n,a,!0))}function m(){var t=g.width,r=g.height,l=t/r;y.measures={width:t,height:r,ratio:l},ne(t,r,l,s),w.off("load error").addClass(on+(v?" "+an:"")).prependTo(c),$(w,n||ha,a||u.fit||i.fit),o.Fotorama.cache[b]="loaded",f.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(Je+" "+Ge).addClass(Ze+" "+(v?tn:en)),"stage"===e&&d("load")},5)}function p(){var t=10;E(function(){return!Ao||!t--&&!Cn},function(){m()})}if(c){var v=Lo.fullScreen&&u.full&&!f.$full&&"stage"===e;if(!f.$img||r||v){var g=new Image,w=o(g),y=w.data();f[v?"$full":"$img"]=w;var x="stage"===e?v?"full":"img":"thumb",b=u[x],_=v?null:u["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=f.$wrap),!b)return void h();o.Fotorama.cache[b]?function C(){"error"===o.Fotorama.cache[b]?h():"loaded"===o.Fotorama.cache[b]?setTimeout(p,0):setTimeout(C,100)}():(o.Fotorama.cache[b]="*",w.on("load",p).on("error",h)),g.src=b}}})}function re(t){se(!0),_a.appendTo(t),ba=0,Ca(),xa=setInterval(Ca,200)}function se(t){t||_a.detach(),clearInterval(xa)}function ue(){var t=Lo.activeFrame[$n];t&&!t.data().state&&(re(t),t.on("f:load f:error",function(){t.off("f:load f:error"),se()}))}function Oe(t,e){ee(t,e,function(t,n,a,r,s,u){r||(r=a[s]=Bo[s].clone(),u=r.data(),u.data=a,"stage"===e?(a.html&&o('<div class="'+cn+'"></div>').append(a._html?o(a.html).removeAttr("id").html(a._html):a.html).appendTo(r),i.captions&&a.caption&&o('<div class="'+hn+'"></div>').append(a.caption).appendTo(r),a.video&&r.addClass(be).append(ua.clone()),Uo=Uo.add(r)):"navDot"===e?ea=ea.add(r):"navThumb"===e&&(u.$wrap=r.children(":first"),na=na.add(r),a.video&&r.append(ua.clone())))})}function Ie(t,e,n){return t&&t.length&&$(t,e,n)}function Re(t){ee(t,"stage",function(t,e,n,a,r,s){if(a){ga[$n][M(e)]=a.css(o.extend({left:_o?0:p(e,ha.w,Mn,co)},_o&&f(0))),P(a[0])&&(a.appendTo(Qo),Xn(n.$video));var u=n.fit||i.fit;Ie(s.$img,ha,u),Ie(s.$full,ha,u)}})}function We(t,e){if("thumbs"===go&&!isNaN(t)){var n=-t,a=-t+ha.w;na.each(function(){var t=o(this),i=t.data(),r=i.eq,s={h:To},u="cover";s.w=i.w,i.l+i.w<n||i.l>a||Ie(i.$img,s,u)||e&&ie([r],"navThumb",s,u)})}}function nn(t,e,n){if(!nn[n]){var a="nav"===n&&wo,i=0;e.append(t.filter(function(){for(var t,e=o(this),n=e.data(),a=0,i=oo.length;i>a;a++)if(n.data===oo[a]){t=!0,n.eq=a;break}return t||e.remove()&&!1}).sort(function(t,e){return o(t).data().eq-o(e).data().eq}).each(function(){if(a){var t=o(this),e=t.data(),n=Math.round(To*e.data.thumbratio)||Co;e.l=i,e.w=n,t.css({width:n}),i+=n+Mn}})),nn[n]=!0}}function ln(t){return t-wa>ha.w/3}function gn(t){return!(vo||fa+t&&fa-ao+t||ro)}function wn(){Go.each(function(t){o(this).toggleClass(Fe,gn(t))})}function _n(t){var e,n,o=t.data();return wo?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*Mn,max:-e+ha.w-n-10*Mn}}function Dn(t){var e=Lo.activeFrame[No].data();H(ia,{time:.9*t,pos:e.l,width:e.w-2*Mn})}function Nn(t){var e=oo[t.guessIndex][No];if(e){var n=aa.min!==aa.max,o=n&&_n(Lo.activeFrame[No]),a=n&&(t.keep&&Nn.l?Nn.l:s((t.coo||ha.w/2)-_n(e).c,o.min,o.max)),i=n&&s(a,aa.min,aa.max),r=.9*t.time;H(ta,{time:r,pos:i||0,onEnd:function(){We(i,!0)}}),r&&We(i),Un(Zo,A(i,aa.min,aa.max)),Nn.l=a}}function Ln(){zn(No),va[No].push(Lo.activeFrame[No].addClass(Ve))}function zn(t){for(var e=va[t];e.length;)e.shift().removeClass(Ve)}function On(t){var e=ga[t];o.each(uo,function(t,n){delete e[n]}),o.each(e,function(t,n){delete e[t],n.detach()})}function In(t){co=lo=fa;var e=Lo.activeFrame,n=e[$n];n&&(zn($n),va[$n].push(n.addClass(Ve)),t||Lo.show.onEnd(!0),y(Qo,0,!0),On($n),Re(uo),J(),te())}function Rn(t,e){t&&o.extend(ha,{width:t.width||ha.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:W(t.ratio)})&&!e&&o.extend(i,{width:ha.width,height:ha.height,minwidth:ha.minwidth,maxwidth:ha.maxwidth,minheight:ha.minheight,maxheight:ha.maxheight,ratio:ha.ratio})}function Wn(e,n,o){t.trigger(ce+":"+e,[Lo,n]),Lo.prevent[e]?delete Lo.prevent[e]:(o||r)()}function Hn(){clearTimeout(Kn.t),Ao=1,i.stopautoplayontouch?Lo.stopAutoplay():jo=!0}function Kn(){Kn.t=setTimeout(function(){Ao=0},Sn+kn)}function Bn(){jo=!(!ro&&!$o)}function Vn(){if(clearTimeout(Vn.t),!i.autoplay||jo)return void(Lo.autoplay&&(Lo.autoplay=!1,Wn("stopautoplay")));Lo.autoplay||(Lo.autoplay=!0,Wn("startautoplay"));var t=fa,e=Lo.activeFrame[$n].data();E(function(){return e.state||t!==fa},function(){Vn.t=setTimeout(function(){jo||t!==fa||Lo.show(vo?">":M(fa+1))},i.autoplay)})}function Qn(){Lo.fullScreen&&(Lo.fullScreen=!1,bn&&Z.cancel(Io),ae.removeClass(le),oe.removeClass(le),t.removeClass(Xe).insertAfter(Ko),ha=o.extend({},qo),Xn(ro,!0,!0),Zn("x",!1),Lo.resize(),ie(uo,"stage"),I(Po,Mo),Wn("fullscreenexit"))}function Un(t,e){So&&(t.removeClass(Ke+" "+Be),e&&!ro&&t.addClass(e.replace(/^|\s/g," "+He+"--")))}function Xn(t,e,n){e&&(Bo.removeClass(he),ro=!1,w()),t&&t!==ro&&(t.remove(),Wn("unloadvideo")),n&&(Bn(),Vn())}function Yn(t){Bo.toggleClass(ve,t)}function Gn(t){if(!ma.flow){var e=t?t.pageX:Gn.x,n=t&&!gn(ln(e))&&i.click;Gn.p===n||!_o&&i.swipe||!Vo.toggleClass(ke,n)||(Gn.p=n,Gn.x=e)}}function Jn(t,e){var n=t.target,r=o(n);r.hasClass(fn)?Lo.playVideo():n===sa?Lo[(Lo.fullScreen?"cancel":"request")+"FullScreen"]():ro?n===la&&Xn(ro,!0,!0):Wn("stagetap",a,function(){e?Yn():i.click&&Lo.show({index:t.shiftKey||!ln(t._x)?"<":">",slow:t.altKey,direct:!0})})}function Zn(t,e){ma[t]=pa[t]=e}function to(t,e){var n=o(this).data().eq;Lo.show({index:n,slow:t.altKey,direct:!0,coo:t._x-Zo.offset().left,time:e})}function eo(){if(g(),C(),!no.ok){var t;((t=i.startindex)||i.hash&&n.hash)&&(po=D(t||n.hash.replace(/^#/,""),oo,0===Lo.index||t,t)),fa=co=lo=fo=po=V(po)||0}ao?(ro&&Xn(ro,!0),uo=[],On($n),Lo.show({index:fa,time:0}),Lo.resize()):Lo.destroy()}function no(){no.ok||(no.ok=!0,Wn("ready"))}oe=oe||o("html"),ae=ae||o("body");var oo,ao,io,ro,so,uo,co,lo,fo,ho,mo,po,vo,go,wo,yo,xo,bo,_o,Co,To,ko,So,Fo,Mo,Po,Eo,jo,$o,qo,Ao,Do,No,Lo=this,zo=o.now(),Oo=ce+zo,Io=t[0],Ro=1,Wo=t.data(),Ho=o("<style></style>"),Ko=o(L(Ue)),Bo=o(L(fe)),Vo=o(L(ye)).appendTo(Bo),Qo=(Vo[0],o(L(_e)).appendTo(Vo)),Uo=o(),Xo=o(L(Se+" "+Me,L(Ee))),Yo=o(L(Se+" "+Pe,L(Ee))),Go=Xo.add(Yo).appendTo(Vo),Jo=o(L($e)),Zo=o(L(je)).appendTo(Jo),ta=o(L(qe)).appendTo(Zo),ea=o(),na=o(),oa=Qo.data(),aa=ta.data(),ia=o(L(un)).appendTo(ta),ra=o(L(Ye)),sa=ra[0],ua=o(L(fn)),ca=o(L(dn)).appendTo(Vo),la=ca[0],fa=!1,da={},ha={},ma={},pa={},va={},ga={},wa=0,ya=[];Bo[$n]=o(L(xe)),Bo[An]=o(L(Ne+" "+ze,L(sn))),Bo[qn]=o(L(Ne+" "+Le,L(rn))),va[$n]=[],va[An]=[],va[qn]=[],ga[$n]={},Lo.prevent={},yn&&Bo.addClass(de),Wo.fotorama=this;var xa,ba,_a=o(L("",L(mn))),Ca=function(){_a.attr("class",mn+" "+mn+"--"+ba),ba++,ba>4&&(ba=0)};Lo.startAutoplay=function(t){return Lo.autoplay?this:(jo=$o=!1,b(t||i.autoplay),Vn(),this)},Lo.stopAutoplay=function(){return Lo.autoplay&&(jo=$o=!0,Vn()),this},Lo.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?lo+1:"<"===e?lo-1:"<<"===e?0:">>"===e?ao-1:e,e=isNaN(e)?D(e,oo,!0):e,e="undefined"==typeof e?fa||0:e,Lo.activeIndex=fa=V(e),ho=U(fa),mo=G(fa),uo=[fa,ho,mo],lo=vo?e:fa;var n=Math.abs(fo-lo),o=x(t.time,function(){return Math.min(ko*(1+(n-1)/12),2*ko)}),a=t.overPos;t.slow&&(o*=10),Lo.activeFrame=so=oo[fa],Xn(ro,so.i!==oo[M(co)].i),Oe(uo,"stage"),Re([lo,U(lo),G(lo)]),Zn("go",!0),Wn("show",t.direct);var r=Lo.show.onEnd=function(e){r.ok||(r.ok=!0,ue(),ie(uo,"stage"),e||In(!0),Wn("showend",t.direct),Zn("go",!1),Gn(),Bn(),Vn())};if(_o){var u=so[$n],c=fa!==fo?oo[fo][$n]:null;K(u,c,Uo,{time:o,method:i.transition,onEnd:r},ya)}else H(Qo,{pos:-p(lo,ha.w,Mn,co),overPos:a,time:o,onEnd:r,_001:!0});if(wn(),go){Ln();var l=B(fa+s(lo-fo,-1,1));Nn({time:o,coo:l!==fa&&t.coo,guessIndex:"undefined"!=typeof t.coo?l:fa}),wo&&Dn(o)}return Eo="undefined"!=typeof fo&&fo!==fa,fo=fa,i.hash&&Eo&&!Lo.eq&&j(so.id||fa+1),this},Lo.requestFullScreen=function(){return xo&&!Lo.fullScreen&&(Mo=pn.scrollTop(),Po=pn.scrollLeft(),I(0,0),Zn("x",!0),qo=o.extend({},ha),t.addClass(Xe).appendTo(ae.addClass(le)),oe.addClass(le),Xn(ro,!0,!0),Lo.fullScreen=!0,bo&&Z.request(Io),Lo.resize(),ie(uo,"stage"),Wn("fullscreenenter")),this},Lo.cancelFullScreen=function(){return bo&&Z.is()?Z.cancel(e):Qn(),this},e.addEventListener&&e.addEventListener(Z.event,function(){!oo||Z.is()||ro||Qn()},!1),Lo.resize=function(t){if(!oo)return this;Rn(Lo.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:R(t),Lo.fullScreen);var e=arguments[1]||0,n=arguments[2],o=ha.width,a=ha.height,i=ha.ratio,r=pn.height()-(go?Zo.height():0);return m(o)&&(Bo.css({width:o,minWidth:ha.minwidth,maxWidth:ha.maxwidth}),o=ha.w=Bo.width(),a=h(a)/100*r||d(a),a=a||i&&o/i,a&&(o=Math.round(o),a=ha.h=Math.round(s(a,h(ha.minheight)/100*r||d(ha.minheight),h(ha.maxheight)/100*r||d(ha.maxheight))),In(),Vo.addClass(Ce).stop().animate({width:o,height:a},e,function(){Vo.removeClass(Ce)}),go&&(Zo.stop().animate({width:o},e),Nn({guessIndex:fa,time:e,keep:!0}),wo&&nn.nav&&Dn(e)),Fo=n||!0,no())),wa=Vo.offset().left,this},Lo.setOptions=function(t){return o.extend(i,t),eo(),this},Lo.shuffle=function(){return oo&&z(oo)&&eo(),this},Lo.destroy=function(){return Lo.cancelFullScreen(),Lo.stopAutoplay(),oo=Lo.data=null,l(),uo=[],On($n),this},Lo.playVideo=function(){var t=Lo.activeFrame,e=t.video,n=fa;return"object"==typeof e&&t.videoReady&&(bo&&Lo.fullScreen&&Lo.cancelFullScreen(),E(function(){return!Z.is()||n!==fa},function(){n===fa&&(t.$video=t.$video||o(o.Fotorama.jst.video(e)),t.$video.appendTo(t[$n]),Bo.addClass(he),ro=t.$video,w(),Wn("loadvideo"))})),this},Lo.stopVideo=function(){return Xn(ro,!0,!0),this},Vo.on("mousemove",Gn),ma=Q(Qo,{onStart:Hn,onMove:function(t,e){Un(Vo,e.edge)},onEnd:function(t){Un(Vo),Kn();var e=(Tn&&!Do||t.touch)&&i.arrows;if(t.moved||e&&t.pos!==t.newPos){var n=v(t.newPos,ha.w,Mn,co);Lo.show({index:n,time:_o?ko:t.time,overPos:t.overPos,direct:!0})}else t.aborted||Jn(t.startEvent,e)},getPos:function(){return-p(lo,ha.w,Mn,co)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+Qe+", ."+Qe+" *",$wrap:Vo}),pa=Q(ta,{onStart:Hn,onMove:function(t,e){Un(Zo,e.edge)},onEnd:function(t){function e(){Nn.l=t.newPos,Bn(),Vn(),We(t.newPos,!0)}if(Kn(),t.moved)t.pos!==t.newPos?(H(ta,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),We(t.newPos),Un(Zo,A(t.newPos,aa.min,aa.max))):e();else{var n=t.$target.closest("."+Ne,ta)[0];n&&to.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Zo}),Bo.hover(function(){setTimeout(function(){Ao||(Do=!0,Yn(!Do))},0)},function(){Do&&(Do=!1,Yn(!Do))}),N(Go,function(t){t.preventDefault(),ro?Xn(ro,!0,!0):(Kn(),Lo.show({index:Go.index(this)?">":"<",slow:t.altKey,direct:!0}))},{onStart:function(){Hn(),ma.control=!0},tail:ma}),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){Lo[e]=function(){return oo=oo||[],"load"!==e?Array.prototype[e].apply(oo,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(oo=arguments[0]),eo(),Lo}}),eo()},o.fn.fotorama=function(t){return this.each(function(){var e=this,n=o(this),a=n.data(),i=a.fotorama;i?i.setOptions(t):E(function(){return!M(e)},function(){a.urtext=n.html(),new o.Fotorama(n,o.extend({},{width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,nav:"dots",navposition:"bottom",thumbwidth:Pn,thumbheight:Pn,arrows:!0,click:!0,swipe:!0,allowfullscreen:!1,fit:"contain",transition:"slide",transitionduration:Sn,captions:!0,hash:!1,startindex:0,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,loop:!1,shuffle:!1,shadows:!0},t,a))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o=o||{},o.Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.style=function(t){var e,n="";return G.escape,n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.m*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.m)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.video=function(t){function e(){n+=o.call(arguments,"")}var n="",o=(G.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="',e("youtube"==t.type?"http://youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?"http://player.vimeo.com/video/"+t.id+"?autoplay=1&amp;badge=0":t.id),n+='" frameborder="0" allowfullscreen></iframe></div>'},o(function(){o("."+ce+':not([data-auto="false"])').fotorama()})}(window,document,location,jQuery);