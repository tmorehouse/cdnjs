{"version":3,"file":"jsforce-core.min.js","sources":["jsforce-core.js"],"names":["e","exports","module","define","amd","f","window","global","self","jsforce","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"parseHeaders","hs","headers","split","forEach","line","pair","name","toLowerCase","value","stream","_","supported","Sfdc","canvas","createRequest","signedRequest","params","callback","send","body","settings","client","method","data","contentType","success","responseHeaders","payload","isString","JSON","stringify","response","statusCode","status","str","end","failure","err","ajax","url","Duplex","_read","push","bufs","sent","_write","chunk","encoding","toString","on","join","test","underscore",2,"popupWin","w","h","left","screen","width","top","height","open","handleCallbackResponse","res","checkCallbackResponse","state","localStorage","getItem","removeItem","states","prefix","promptType","cli","Client","_storeTokens","location","hash","_storeError","close","qs","parse","substring","access_token","search","error","events","inherits","Connection","OAuth2","clientIdx","this","_prefix","connection","EventEmitter","prototype","init","config","tokens","_getTokens","initialize","setTimeout","emit","login","options","isFunction","extend","_prompt","oauth2","rand","Math","random","setItem","authzUrl","getAuthorizationUrl","response_type","scope","size","pw","href","_removeTokens","pid","setInterval","closed","clearInterval","_getError","error_description","isLoggedIn","accessToken","logout","regexp","RegExp","document","cookie","match","issuedAt","Number","Date","now","userInfo","idUrl","ids","id","pop","organizationId","instanceUrl","instance_url","issued_at","../connection","../oauth2","querystring",3,"crequire","browser","modules","paths","p","replace","_0","_1","_2","toUpperCase","shift","../core-require","../jsforce","./client",4,"_index","jsonpParam","timeout","cbFuncName","callbacks","indexOf","script","createElement","type","src","documentElement","appendChild","cleanup","content-type","clearTimeout","removeChild",5,"createCacheKey","namespace","args","Array","slice","apply","map","CacheEntry","fetching","get","once","isUndefined","_value","set","clear","Cache","_entries","key","entry","k","makeResponseCacheable","fn","cache","arguments","result","ret","then","undefined","makeCacheable","$fn",6,"Buffer","oauthRefreshFn","conn","refreshToken","parseIdUrl","parseSignedRequest","sr","msg","json","formatDate","date","pad","number","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","idUrls","userId","orgId","createUsernamePasswordRefreshFn","username","password","esc","String","Promise","Logger","Query","SObject","QuickAction","HttpApi","Transport","defaults","loginUrl","version","Bulk","Streaming","Tooling","Analytics","Chatter","Apex","Metadata","Process","_logger","logLevel","clientId","clientSecret","redirectUri","maxRequest","_transport","proxyUrl","ProxyTransport","callOptions","streaming","bulk","tooling","analytics","chatter","metadata","apex","process","refreshFn","_refreshDelegate","SessionRefreshDelegate","cacheOptions","describe$","describe","describeSObject$","describeSObject","describeGlobal$","describeGlobal","serverUrl","sessionId","oauthToken","limitInfo","sobjects","bind","types","so","each","sobject","_sessionType","_baseUrl","_normalizeUrl","request","httpApi","apiUsage","used","parseInt","limit","thenCall","requestGet","requestPost","requestPut","requestPatch","requestDelete","query","soql","run","queryAll","scanAll","queryMore","locator","retrieve","isArray","reject","all","results","insert","create","records","record","sobjectType","attributes","clone","Id","Content-Type","update","noContentResponse","errors","upsert","extIdField","extId","del","destroy","sosl","encodeURIComponent","identity","jsonp","user_id","organization_id","authorize","logger","requestToken","debug","refresh_token","loginByOAuth2","loginBySoap","authenticate","soapLoginEndpoint","httpRequest","SOAPAction","m","faultstring","logoutByOAuth2","logoutBySoap","revokeToken","recent","isNumber","recentItems","updated","start","deleted","tabs","limits","theme","quickActions","quickAction","actionName","./cache","./http-api","./logger","./oauth2","./process","./promise","./query","./quick-action","./sobject","./transport","buffer",7,"./browser/canvas","./browser/jsonp","./connection","./csv","./date","./record","./record-stream","./soql-builder","q","xml2js",8,"toCSV","extractHeaders","rows","recordToCSV","arrayToCSV","hasOwnProperty","keys","row","header","nullValue","arr","escapeCSV","parseCSV","token","parser","CSVParser","nextLine","nextToken","isNull","text","cursor","cell","dquoted","firstChar","charAt","dq","delim","comma","cr","lf","pivot","min","c",9,"zeropad","createLiteralBuilder","literal","num","SfDate","_literal","toJSON","toDateLiteral","parseDate","yy","getFullYear","mm","getMonth","dd","getDate","dstr","toDateTimeLiteral","hh","mi","ss","dtstr","d","setUTCFullYear","setUTCDate","setUTCMonth","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","offset","setTime","getTime","setFullYear","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","SfDateLiterals","YESTERDAY","TODAY","TOMORROW","LAST_WEEK","THIS_WEEK","NEXT_WEEK","LAST_MONTH","THIS_MONTH","NEXT_MONTH","LAST_90_DAYS","NEXT_90_DAYS","LAST_N_DAYS","NEXT_N_DAYS","NEXT_N_WEEKS","LAST_N_WEEKS","NEXT_N_MONTHS","LAST_N_MONTHS","THIS_QUARTER","LAST_QUARTER","NEXT_QUARTER","NEXT_N_QUARTERS","LAST_N_QUARTERS","THIS_YEAR","LAST_YEAR","NEXT_YEAR","NEXT_N_YEARS","LAST_N_YEARS","THIS_FISCAL_QUARTER","LAST_FISCAL_QUARTER","NEXT_FISCAL_QUARTER","NEXT_N_FISCAL_QUARTERS","LAST_N_FISCAL_QUARTERS","THIS_FISCAL_YEAR","LAST_FISCAL_YEAR","NEXT_FISCAL_YEAR","NEXT_N_FISCAL_YEARS","LAST_N_FISCAL_YEARS",10,"parseJSON","parseXML","parseString","explicitArray","parseText","_conn","_responseType","responseType","transport","_noContentResponse","refreshDelegate","getRefreshDelegate","deferred","defer","onResume","resolve","_refreshing","promise","beforeSend","requestTime","responseTime","isSessionExpired","refresh","isErrorResponse","getError","getResponseBody","Authorization","getResponseContentType","parseResponseBody","parseBody","hasErrorInResponseBody","content","parseError","isObject","message","errorCode","_refreshFn","since","_lastRefreshedAt",11,"RecordStream",12,"createLoggerFunction","level","log","LogLevels","INFO","_logLevel","DEBUG","WARN","ERROR","FATAL","console",13,"authzServiceUrl","tokenServiceUrl","revokeServiceUrl","client_id","redirect_uri","_postParams","grant_type","client_secret",14,"ProcessRule","rule","approval","ApprovalProcess","list","rules","trigger","contextIds","approvals","requests","req","_request","_createRequest","actionType","contextId","comments","ApprovalProcessRequest","submit","approve","workitemId","_process","onResolve","onReject","_promise","rets",15,"Q","nextTick","fail","done","when","reason","Deferred","_deferred",16,"SOQLBuilder","super_","receivable","_soql","_config","select","fields","includes","include","_locator","_buffer","_paused","_closed","_fields","where","conditions","skip","sort","orderby","dir","childRelName","childConfig","table","childQuery","SubQuery","_children","crname","_maxFetch","maxFetch","_autoFetch","autoFetch","_scanAll","ResponseTargets","_responseTarget","QueryResult","setResponseTarget","responseTarget","pause","resume","totalFetched","_finished","execute","exec","promiseCallback","Records","_chaining","onRecord","removeListener","_execute","toSOQL","totalSize","SingleRecord","Count","nextRecordsUrl","_expandFields","findRelationTable","rname","ptable","_parent","describeCache","upperRname","childRelation","find","childRelationships","relationshipName","childSObject","expandAsteriskField","field","fpath","rfield","rtable","referenceTo","fpaths","expandedFields","flatten","explain","createSOQL","pipe","dest","batch","deleteBulk","handleError","mapping","updateStream","recordMapStream","updateBulk","parent",17,"path","_path","defaultValues",18,"Stream","PassThrough","CSV","sendable","reciebable","destroySoon","source","onDrain","didOnEnd","onEnd","onClose","onError","listeners","filter","recStream","CSVStream","rstream","rec","noeval","evalMapping","$0","prop","v","mapped","wroteHeaders","_stream","_handleData","_handleEnd","enc",19,"RecordReference","blob","fieldName",20,"Record","layouts$","layouts","compactLayouts$","compactLayouts","approvalLayouts$","approvalLayouts","findOne","count","count()","bulkload","operation","input","load","insertBulk","createBulk","upsertBulk","destroyBulk","deleteHardBulk","destroyHardBulk","layoutName","listviews","listview","ListView",21,"createFieldsClause","cond","createConditionClause","createOrderByClause","childQueries","values","cquery","concat","operator","depth","conds","op","createFieldExpression","expr","paren","sfop","opMap","valueExpr","createValueExpression","escapeSOQLString","flag","=","$eq","!=","$ne",">","$gt","<","$lt",">=","$gte","<=","$lte","$like","$nlike","$in","$nin","$exists",22,"streamify","factory","_then","newPromise","normalizeApiHost","apiHost","followAllRedirects","env","HTTP_PROXY","proxy","HTTP_TIMEOUT","baseUrl","LOCATION_BASE_URL","host","_proxyUrl","proxyParams","salesforceproxy-endpoint",23,"getResponseHeaderNames","xhr","headerLines","getAllResponseHeaders","headerLine","XMLHttpRequest","setRequestHeader","onreadystatechange","readyState","headerNames","headerName","getResponseHeader",24,"subject","noZero","byteLength","TypeError","kMaxLength","RangeError","TYPED_ARRAY_SUPPORT","_augment","Uint8Array","_isBuffer","_set","isArrayish","isBuffer","readUInt8","write","poolSize","rootParent","SlowBuffer","buf","hexWrite","string","remaining","strLen","byte","substr","isNaN","utf8Write","charsWritten","blitBuffer","utf8ToBytes","asciiWrite","asciiToBytes","binaryWrite","base64Write","base64ToBytes","utf16leWrite","utf16leToBytes","base64Slice","base64","fromByteArray","utf8Slice","tmp","decodeUtf8Char","fromCharCode","asciiSlice","binarySlice","hexSlice","len","out","toHex","utf16leSlice","bytes","checkOffset","ext","checkInt","max","objectWriteUInt16","littleEndian","j","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","stringtrim","INVALID_BASE64_RE","trim","units","Infinity","codePoint","leadSurrogate","charCodeAt","byteArray","hi","lo","toByteArray","dst","unitSize","decodeURIComponent","INSPECT_MAX_BYTES","ArrayBuffer","foo","subarray","b","compare","x","y","isEncoding","totalLength","pos","item","copy","loweredCase","equals","inspect","writeUInt8","isFinite","swap","_arr","newBuf","sliceLen","readUIntLE","val","mul","readUIntBE","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","target","target_start","fill","toArrayBuffer","BP","constructor","_get","toLocaleString","base64-js","is-array",25,"lookup","decode","elt","PLUS","PLUS_URL_SAFE","SLASH","SLASH_URL_SAFE","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","placeHolders","Arr","uint8ToBase64","uint8","encode","tripletToBase64","temp","extraBytes","output","base64js",26,"isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2",27,"Object",28,"_events","_maxListeners","arg","defaultMaxListeners","setMaxListeners","er","handler","addListener","listener","newListener","warned","trace","g","fired","position","splice","removeAllListeners","listenerCount","emitter",29,"drainQueue","draining","currentQueue","queue","noop","fun","title","argv","off","binding","cwd","chdir","umask",30,"obj","sep","eq","maxKeys","kstr","vstr","idx","xs",31,"stringifyPrimitive","objectKeys","ks",32,"./decode","./encode",33,"EE","Readable","Writable","Transform","ondata","writable","ondrain","readable","onend","onclose","onerror","_isStdio","readable-stream/duplex.js","readable-stream/passthrough.js","readable-stream/readable.js","readable-stream/transform.js","readable-stream/writable.js",34,"assertEncoding","isBufferEncoding","passThroughWrite","utf16DetectIncompleteChar","charReceived","charLength","base64DetectIncompleteChar","StringDecoder","surrogateSize","detectIncompleteChar","charBuffer","charStr","available","charCode",35,"ctor","superCtor","enumerable","configurable","TempCtor",36,"definition","bootstrap","ses","ok","makeQ","uncurryThis","isStopIteration","exception","object_toString","QReturnValue","makeStackTraceLong","hasStacks","stack","STACK_JUMP_SEPARATOR","stacks","unshift","concatedStacks","filterStackString","stackString","lines","desiredLines","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qFileName","qStartingLine","qEndingLine","captureLine","firstLine","deprecate","alternative","warn","isPromiseAlike","coerce","fulfill","become","resolvedPromise","array_reduce","messages","promiseDispatch","progressListeners","object_create","operands","array_slice","valueOf","nearerValue","nearer","isPromise","longStackSupport","notify","progress","progressListener","resolver","race","answerPs","descriptor","fallback","inspected","fulfilled","rejected","progressed","object","isPending","isFulfilled","isRejected","resetUnhandledRejections","unhandledReasons","unhandledRejections","trackUnhandledRejections","trackRejection","untrackRejection","at","array_indexOf","rejection","rhs","delete","post","thisp","object_keys","master","isDef","dispatch","spread","async","makeGenerator","continuer","verb","StopIteration","generator","errback","spawn","_return","promised","promises","countDown","index","snapshot","allResolved","array_map","allSettled","nodeify","nodeback","flush","head","next","task","domain","enter","isNodeJS","exit","flushing","tail","requestTick","setImmediate","MessageChannel","channel","port1","onmessage","requestPortTick","port2","postMessage","Function","reduce","basis","collect","Type","object_hasOwnProperty","ReturnValue","Q_DEBUG","makeNodeResolver","passByCopy","that","makePromise","_fulfilled","_rejected","newException","_progressed","newValue","threw","tap","fcall","thenResolve","thenReject","getUnhandledReasons","stopUnhandledRejectionTracking","array","mapply","mcall","invoke","fapply","fbind","regardless","fin","onUnhandledError","ms","timeoutId","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke",37,"./lib/_stream_duplex.js",38,"allowHalfOpen","_writableState","ended","util","./_stream_readable","./_stream_writable","core-util-is",39,"_transform","cb","./_stream_transform",40,"ReadableState","hwm","highWaterMark","pipes","pipesCount","flowing","endEmitted","reading","calledRead","sync","needReadable","emittedReadable","readableListening","objectMode","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readableAddChunk","addToFront","chunkInvalid","onEofChunk","emitReadable","maybeReadMore","needMoreData","roundUpToNextPowerOf2","MAX_HWM","howMuchToRead","endReadable","emitReadable_","maybeReadMore_","pipeOnDrain","flow","written","emitDataEvents","pipeOnReadable","startPaused","paused","fromList","stringMode","cpy","setEncoding","nOrig","doRead","pipeOpts","onunpipe","onfinish","needDrain","unpipe","doEnd","stdout","stderr","endFn","dests","ev","wrap","_fromList","isarray","string_decoder/",41,"TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","rs","_flush","ws","writeencoding","./_stream_duplex",42,"WriteReq","WritableState","ending","finished","noDecode","decodeStrings","writing","bufferProcessing","onwrite","writelen","errorEmitted","writeAfterEnd","validChunk","valid","decodeChunk","writeOrBuffer","doWrite","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","need","endWritable",43,"ar","isBoolean","isNullOrUndefined","isSymbol","isRegExp","re","objectToString","isDate","isError","isPrimitive",44,45,"dup",46,"./lib/_stream_passthrough.js",47,"./lib/_stream_readable.js","./lib/_stream_transform.js","./lib/_stream_writable.js",48,49,50,"root","previousUnderscore","ArrayProto","ObjProto","FuncProto","nativeIsArray","nativeKeys","nativeBind","_wrapped","VERSION","createCallback","func","context","argCount","other","collection","accumulator","iteratee","matches","property","currentKey","reduceError","foldl","inject","memo","reduceRight","foldr","detect","predicate","some","negate","every","any","contains","isFunc","pluck","attrs","findWhere","computed","lastComputed","shuffle","shuffled","sample","guard","sortBy","criteria","right","group","behavior","groupBy","has","indexBy","countBy","sortedIndex","low","high","mid","toArray","partition","pass","first","take","initial","last","rest","drop","compact","shallow","strict","isArguments","without","difference","uniq","unique","isSorted","seen","union","intersection","argsLength","zip","lastIndexOf","from","range","stop","step","ceil","Ctor","partial","boundArgs","bindAll","memoize","hasher","address","wait","throttle","previous","later","leading","trailing","debounce","immediate","timestamp","callNow","wrapper","compose","after","times","before","pairs","invert","functions","methods","names","pick","omit","interceptor","aStack","bStack","className","aCtor","bCtor","isEqual","isEmpty","isElement","nodeType","parseFloat","noConflict","constant","accum","escapeMap","&","\"","'","`","unescapeMap","createEscaper","escaper","testRegexp","replaceRegexp","escape","unescape","idCounter","uniqueId","templateSettings","evaluate","interpolate","noMatch","escapes","\\","\r","\n"," "," ","escapeChar","template","oldSettings","matcher","variable","render","argument","chain","instance","_chain","mixin",51,"stripBOM","../lib/xml2js",52,"prefixMatch","normalize","firstCharLowerCase","stripPrefix",53,"bom","builder","escapeCDATA","processName","processors","requiresCDATA","sax","wrapCDATA","__hasProp","__extends","child","__super__","__bind","me","thing","processedName","_i","_len","0.1","explicitCharkey","normalizeTags","attrkey","charkey","ignoreAttrs","mergeAttrs","explicitRoot","validator","xmlns","explicitChildren","childkey","charsAsChildren","attrNameProcessors","tagNameProcessors","emptyTag","0.2","rootName","xmldec","standalone","doctype","renderOpts","pretty","indent","newline","headless","chunkSize","cdata","ValidationError","_super","Builder","opts","_ref","buildObject","rootObj","rootElement","_this","element","attr","raw","txt","att","ele","up","callee","Parser","reset","assignOrPush","processAsync","xmlnskey","saxParser","ontext","errThrown","EXPLICIT_CHARKEY","resultObject","onopentag","node","processedKey","uri","local","onclosetag","emptyStr","nodeName","old","xpath","_results","_error","getOwnPropertyNames","oncdata","./bom","./processors","xmlbuilder",54,"SAXParser","opt","clearBuffers","bufferCheckPosition","MAX_BUFFER_LENGTH","lowercase","lowercasetags","looseCase","tags","closedRoot","sawRoot","tag","noscript","S","BEGIN","ENTITIES","attribList","ns","rootNS","trackPosition","column","checkBufferLength","maxAllowed","maxActual","buffers","closeText","emitNode","flushBuffers","createStream","SAXStream","_parser","_decoder","streamWraps","defineProperty","charClass","is","charclass","not","event","textNode","textopts","strictFail","TEXT","newTag","tagName","qname","attribute","qualName","attrib","attribName","attribValue","qn","XML_NAMESPACE","XMLNS_NAMESPACE","openTag","selfClosing","nv","isSelfClosing","SCRIPT","closeTag","closeTo","parseEntity","entity","entityLC","numStr","fromCodePoint","OPEN_WAKA","startTagPosition","whitespace","starti","TEXT_ENTITY","SCRIPT_ENDING","CLOSE_TAG","SGML_DECL","sgmlDecl","nameStart","OPEN_TAG","PROC_INST","procInstName","procInstBody","CDATA","COMMENT","comment","DOCTYPE","quote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","OPEN_TAG_SLASH","ATTRIB","ATTRIB_NAME","ATTRIB_VALUE","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","attribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","returnState","EVENTS","__proto__","getPrototypeOf","ex","SD","letter","xml","STATE","COMMENT_STARTING","amp","gt","lt","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","divide","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","stringFromCharCode","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","string_decoder",55,"XMLAttribute","attName","attValue","lodash/object/create",56,"XMLBuilder","XMLDeclaration","XMLDocType","XMLElement","XMLStringifier","isRoot","documentObject","rootObject","declaration","pubID","sysID","_ref1","_ref2","./XMLDeclaration","./XMLDocType","./XMLElement","./XMLStringifier",57,"XMLCData","XMLNode","space","./XMLNode",58,"XMLComment",59,"XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","eleName","dtdAttType","dtdAttDefault",60,"XMLDTDElement","dtdElementValue","lodash/lang/isArray",61,"XMLDTDEntity","pe","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","lodash/lang/isObject",62,"XMLDTDNotation",63,"xmlVersion","xmlEncoding","xmlStandalone",64,"XMLProcessingInstruction","children","attList","pEntity","notation","instruction","_ref3","ent","pent","dat","com","ins","doc","./XMLCData","./XMLComment","./XMLDTDAttList","./XMLDTDElement","./XMLDTDEntity","./XMLDTDNotation","./XMLProcessingInstruction",65,"instructions","clonedSelf","clonedChild","skipNullAttributes","removeAttribute","insTarget","insValue","_j","_len1","_ref4","_ref5","./XMLAttribute","lodash/collection/every","lodash/lang/isFunction",66,"XMLRaw","XMLText","lastChild","ignoreDecorators","convertAttKey","convertPIKey","convertListKey","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","insertBefore","removed","insertAfter","remove","prev","importXMLBuilder","clonedRoot","nod","dec","dtd","./XMLRaw","./XMLText","lodash/lang/isEmpty",67,68,69,"assertLegalChar","allowSurrogateChars","eleText","elEscape","attEscape","chars","chr",70,71,"assign","./XMLBuilder","lodash/object/assign",72,"thisArg","arrayEvery","baseEvery","baseCallback","../internal/arrayEvery","../internal/baseCallback","../internal/baseEvery","../lang/isArray",73,74,"baseAssign","customizer","props","baseCopy","../object/keys","./baseCopy",75,"isBindable","bindCallback","baseMatches","baseProperty","baseMatchesProperty","../utility/identity","./baseMatches","./baseMatchesProperty","./baseProperty","./bindCallback","./isBindable",76,77,"baseCreate","../lang/isObject",78,"baseEach","isLength","baseForOwn","iterable","toObject","./baseForOwn","./isLength","./toObject",79,"./baseEach",80,"baseFor","keysFunc",81,"./baseFor",82,"baseIsEqual","isWhere","stackA","stackB","valType","othType","baseIsEqualDeep","./baseIsEqualDeep",83,"equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","objToString","argsTag","objectTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","valWrapped","othWrapped","equalArrays","equalObjects","objectProto","../lang/isTypedArray","./equalArrays","./equalByTag","./equalObjects",84,"baseIsMatch","strictCompareFlags","noCustomizer","objValue","srcValue","./baseIsEqual",85,"isStrictComparable","./baseIsMatch","./isStrictComparable",86,87,88,"metaMap","baseSetData","./metaMap",89,"baseToString",90,91,"createAssigner","assigner","isIterateeCall","./isIterateeCall",92,"arrLength","othLength","arrValue","othValue","othIndex",93,"boolTag","dateTag","errorTag","numberTag","regexpTag","stringTag",94,"objProps","objLength","othProps","hasCtor","objCtor","othCtor",95,"support","funcNames","funcDecomp","fnToString","reFuncName","reThis","isNative","../lang/isNative","../support","./baseSetData",96,"isIndex","MAX_SAFE_INTEGER",97,"prereq","./isIndex",98,99,"isObjectLike",100,101,"WeakMap",102,"shimKeys","keysIn","propsLength","allowIndexes","nonEnumArgs","../lang/isArguments","../object/keysIn",103,104,"../internal/isLength","../internal/isObjectLike",105,"./isNative",106,"./isArguments","./isArray","./isFunction","./isString",107,"funcTag",108,"reNative","reHostCtor","escapeRegExp","../string/escapeRegExp",109,110,111,"typedArrayTags","mapTag","setTag","weakMapTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag",112,"../internal/baseAssign","../internal/createAssigner",113,"properties","../internal/baseCopy","../internal/baseCreate","../internal/isIterateeCall","./keys",114,"../internal/shimKeys",115,"isProto","skipIndexes","../internal/isIndex",116,"reHasRegExpChars","reRegExpChars","../internal/baseToString",117,"propertyIsEnumerable","WinRTError","dom","createDocumentFragment","./lang/isNative",118],"mappings":"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","sourcesContent":["!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.jsforce=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*global Sfdc */\nvar stream = require('stream'),\n    _ = require('underscore');\n\nfunction parseHeaders(hs) {\n  var headers = {};\n  hs.split(/\\n/).forEach(function(line) {\n    var pair = line.split(/\\s*:\\s*/);\n    var name = pair[0].toLowerCase();\n    var value = pair[1];\n    headers[name] = value;\n  });\n  return headers;\n}\n\nmodule.exports = {\n  \n  supported: typeof Sfdc === 'object' && typeof Sfdc.canvas !== 'undefined',\n\n  createRequest: function(signedRequest) {\n    return function(params, callback) {\n      var response;\n      var str = new stream.Duplex();\n      str._read = function(size) {\n        if (response) {\n          str.push(response.body);\n        }\n      };\n      var bufs = [];\n      var sent = false;\n      str._write = function(chunk, encoding, callback) {\n        bufs.push(chunk.toString(encoding));\n        callback();\n      };\n      str.on('finish', function() {\n        if (!sent) {\n          send(bufs.join(''));\n          sent = true;\n        }\n      });\n      if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n        send(params.body);\n        sent = true;\n      }\n\n      function send(body) {\n        var settings = {\n          client: signedRequest.client,\n          method: params.method,\n          data: body\n        };\n        if (params.headers) {\n          settings.headers = {};\n          for (var name in params.headers) {\n            if (name.toLowerCase() === 'content-type') {\n              settings.contentType = params.headers[name];\n            } else {\n              settings.headers[name] = params.headers[name];\n            }\n          }\n        }\n        settings.success = function(data) {\n          var headers = parseHeaders(data.responseHeaders);\n          var body = data.payload;\n          if (!_.isString(body)) {\n            body = JSON.stringify(body);\n          }\n          response = {\n            statusCode : data.status,\n            headers: headers,\n            body: body\n          };\n          if (callback) {\n            callback(null, response, response.body);\n          }\n          str.end();\n        };\n        settings.failure = function(err) {\n          if (callback) {\n            callback(err);\n          }\n        };\n        Sfdc.canvas.client.ajax(params.url, settings);\n      }\n      return str;\n    };\n  }\n};\n\n\n},{\"stream\":33,\"underscore\":50}],2:[function(require,module,exports){\n/**\n * @file Browser client connection management class\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar events = require('events'),\n    inherits = require('inherits'),\n    qs = require('querystring'),\n    _ = require('underscore'),\n    Connection = require('../connection'),\n    OAuth2 = require('../oauth2');\n\n/**\n * @private\n */\nfunction popupWin(url, w, h) {\n  var left = (screen.width/2)-(w/2);\n  var top = (screen.height/2)-(h/2);\n  return window.open(url, null, 'location=yes,toolbar=no,status=no,menubar=no,width='+w+',height='+h+',top='+top+',left='+left);\n}\n\nfunction handleCallbackResponse() {\n  var res = checkCallbackResponse();\n  var state = localStorage.getItem('jsforce_state');\n  if (res && state && res.body.state === state) {\n    localStorage.removeItem('jsforce_state');\n    var states = state.split('.');\n    var prefix = states[0], promptType = states[1];\n    var cli = new Client(prefix);\n    if (res.success) {\n      cli._storeTokens(res.body);\n      location.hash = '';\n    } else {\n      cli._storeError(res.body);\n    }\n    if (promptType === 'popup') { window.close(); }\n    return true;\n  }\n}\n\n/**\n * @private\n */\nfunction checkCallbackResponse() {\n  var params;\n  if (window.location.hash) {\n    params = qs.parse(window.location.hash.substring(1));\n    if (params.access_token) {\n      return { success: true, body: params };\n    }\n  } else if (window.location.search) {\n    params = qs.parse(window.location.search.substring(1));\n    if (params.error) {\n      return { success: false, body: params };\n    }\n  }\n}\n\n/** @private **/\nvar clientIdx = 0;\n\n\n/**\n * @class\n * @todo add document\n */\nvar Client = function(prefix) {\n  this._prefix = prefix || 'jsforce' + clientIdx++;\n  this.connection = null;\n};\n\ninherits(Client, events.EventEmitter);\n\n/**\n *\n */\nClient.prototype.init = function(config) {\n  if (handleCallbackResponse()) { return; }\n  this.config = config;\n  this.connection = new Connection(config);\n  var tokens = this._getTokens();\n  if (tokens) {\n    this.connection.initialize(tokens);\n    var self = this;\n    setTimeout(function() {\n      self.emit('connect', self.connection);\n    }, 10);\n  }\n};\n\n/** \n *\n */\nClient.prototype.login = function(options, callback) {\n  if (_.isFunction(options)) {\n    callback = options;\n    options = {};\n  }\n  options = options || {}; \n  callback = callback || function(){ };\n  _.extend(options, this.config);\n  var self = this;\n  this._prompt(options, callback);\n};\n\n\nClient.prototype._prompt = function(options, callback) {\n  var self = this;\n  var oauth2 = new OAuth2(options);\n  var rand = Math.random().toString(36).substring(2);\n  var state = [ this._prefix, \"popup\", rand ].join('.');\n  localStorage.setItem(\"jsforce_state\", state);\n  var authzUrl = oauth2.getAuthorizationUrl({\n    response_type: 'token',\n    scope : options.scope,\n    state: state\n  });\n  var size = options.size || {};\n  var pw = popupWin(authzUrl, size.width || 912, size.height || 513);\n  if (!pw) {\n    state = [ this._prefix, \"redirect\", rand ].join('.');\n    localStorage.setItem(\"jsforce_state\", state);\n    authzUrl = oauth2.getAuthorizationUrl({\n      response_type: 'token',\n      scope : options.scope,\n      state: state\n    });\n    location.href = authzUrl;\n    return;\n  }\n  self._removeTokens();\n  var pid = setInterval(function() {\n    try {\n      if (!pw || pw.closed) {\n        clearInterval(pid);\n        var tokens = self._getTokens();\n        if (tokens) {\n          self.connection.initialize(tokens);\n          self.emit('connect', self.connection);\n          callback(null, { status: 'connect' });\n        } else {\n          var err = self._getError();\n          if (err) {\n            callback(new Error(err.error + \": \" + err.error_description));\n          } else {\n            callback(null, { status: 'cancel' });\n          }\n        }\n      }\n    } catch(e) {}\n  }, 1000);\n};\n\n/**\n *\n */\nClient.prototype.isLoggedIn = function() {\n  return !!(this.connection && this.connection.accessToken);\n};\n\n/**\n * \n */\nClient.prototype.logout = function() {\n  this.connection.logout();\n  this._removeTokens();\n  this.emit('disconnect');\n};\n\n/**\n * @private\n */\nClient.prototype._getTokens = function() {\n  var regexp = new RegExp(\"(^|;\\\\s*)\"+this._prefix+\"_loggedin=true(;|$)\");\n  if (document.cookie.match(regexp)) {\n    var issuedAt = Number(localStorage.getItem(this._prefix+'_issued_at'));\n    if (Date.now() < issuedAt + 2 * 60 * 60 * 1000) { // 2 hours\n      var userInfo;\n      var idUrl = localStorage.getItem(this._prefix + '_id');\n      if (idUrl) {\n        var ids = idUrl.split('/');\n        userInfo = { id: ids.pop(), organizationId: ids.pop(), url: idUrl };\n      }\n      return {\n        accessToken: localStorage.getItem(this._prefix + '_access_token'),\n        instanceUrl: localStorage.getItem(this._prefix + '_instance_url'),\n        userInfo: userInfo\n      };\n    }\n  }\n  return null;\n};\n\n/**\n * @private\n */\nClient.prototype._storeTokens = function(params) {\n  localStorage.setItem(this._prefix + '_access_token', params.access_token);\n  localStorage.setItem(this._prefix + '_instance_url', params.instance_url);\n  localStorage.setItem(this._prefix + '_issued_at', params.issued_at);\n  localStorage.setItem(this._prefix + '_id', params.id);\n  document.cookie = this._prefix + '_loggedin=true;';\n};\n\n/**\n * @private\n */\nClient.prototype._removeTokens = function() {\n  localStorage.removeItem(this._prefix + '_access_token');\n  localStorage.removeItem(this._prefix + '_instance_url');\n  localStorage.removeItem(this._prefix + '_issued_at');\n  localStorage.removeItem(this._prefix + '_id');\n  document.cookie = this._prefix + '_loggedin=';\n};\n\n/**\n * @private\n */\nClient.prototype._getError = function() {\n  try {\n    var err = JSON.parse(localStorage.getItem(this._prefix + '_error'));\n    localStorage.removeItem(this._prefix + '_error');\n    return err;\n  } catch(e) {}\n};\n\n/**\n * @private\n */\nClient.prototype._storeError = function(err) {\n  localStorage.setItem(this._prefix + '_error', JSON.stringify(err));\n};\n\n/**\n *\n */\nmodule.exports = new Client();\n\nmodule.exports.Client = Client;\n\n},{\"../connection\":6,\"../oauth2\":13,\"events\":28,\"inherits\":35,\"querystring\":32,\"underscore\":50}],3:[function(require,module,exports){\nvar jsforce = require('../jsforce');\nvar crequire;\n\n// core-require code will be automatically generated in grunt process before making browser build\ntry {\n  crequire = require('../core-require'); \n} catch(e) {}\n\njsforce.browser = require('./client');\njsforce.modules = jsforce.modules || {};\njsforce.require = function(name) {\n  try {\n    return crequire(name);\n  } catch(e) {\n    if (name === \"jsforce\" || name === \"./jsforce\") { return jsforce; }\n    if (name.substring(0, 2) === \"./\") {\n      var paths = name.substring(2).split(\"/\");\n      var p = paths.pop();\n      paths.push(p.replace(/(^|\\-)([a-zA-Z])/g, function(_0, _1, _2) {\n        return _2.toUpperCase();\n      }));\n      var o = jsforce.modules;\n      while (o && paths.length > 0) {\n        o = o[paths.shift()];\n      }\n      return o;\n    }\n  }\n};\n\nmodule.exports = jsforce;\n},{\"../core-require\":7,\"../jsforce\":11,\"./client\":2}],4:[function(require,module,exports){\n/*global window, document */\nvar _index = 0;\n\nmodule.exports = {\n\n  supported: typeof window !== 'undefined',\n\n  createRequest: function(jsonpParam, timeout) {\n    jsonpParam = jsonpParam || 'callback';\n    timeout = timeout || 10000;\n\n    return function(params, callback) {\n      if (params.method.toUpperCase() !== 'GET') {\n        return callback(new Error('JSONP only supports GET request.'));\n      }\n      var cbFuncName = '_jsforce_jsonpCallback_' + (++_index);\n      var callbacks = window;\n      var url = params.url;\n      url += url.indexOf('?')>0 ? '&' : '?';\n      url += jsonpParam + '=' + cbFuncName;\n\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = url;\n      document.documentElement.appendChild(script);\n\n      var pid = setTimeout(function() {\n        cleanup();\n        callback(new Error(\"JSONP call time out.\"));\n      }, timeout);\n\n      callbacks[cbFuncName] = function(res) {\n        cleanup();\n        callback(null, {\n          statusCode: 200,\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify(res)\n        });\n      };\n\n      var cleanup = function() {\n        clearTimeout(pid);\n        document.documentElement.removeChild(script);\n        delete callbacks[cbFuncName];\n      };\n    };\n\n  }\n\n};\n},{}],5:[function(require,module,exports){\n/**\n * @file Manages asynchronous method response cache\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar events = require('events'),\n    inherits = require('inherits'),\n    _      = require('underscore')._;\n\n/**\n * Class for managing cache entry\n *\n * @private\n * @class\n * @constructor\n * @template T\n */\nvar CacheEntry = function() {\n  this.fetching = false;\n};\n\ninherits(CacheEntry, events.EventEmitter);\n\n/**\n * Get value in the cache entry\n *\n * @param {Callback.<T>} [callback] - Callback function callbacked the cache entry updated\n * @returns {T|undefined}\n */\nCacheEntry.prototype.get = function(callback) {\n  if (!callback) {\n    return this._value;\n  } else {\n    this.once('value', callback);\n    if (!_.isUndefined(this._value)) {\n      this.emit('value', this._value);\n    }\n  }\n};\n\n/**\n * Set value in the cache entry\n *\n * @param {T} [value] - A value for caching\n */\nCacheEntry.prototype.set = function(value) {\n  this._value = value;\n  this.emit('value', this._value);\n};\n\n/**\n * Clear cached value\n */\nCacheEntry.prototype.clear = function() {\n  this.fetching = false;\n  delete this._value;\n};\n\n\n/**\n * Caching manager for async methods\n *\n * @class\n * @constructor\n */\nvar Cache = function() {\n  this._entries = {};\n};\n\n/**\n * retrive cache entry, or create if not exists.\n *\n * @param {String} [key] - Key of cache entry\n * @returns {CacheEntry}\n */\nCache.prototype.get = function(key) {\n  if (key && this._entries[key]) {\n    return this._entries[key];\n  } else {\n    var entry = new CacheEntry();\n    this._entries[key] = entry;\n    return entry;\n  }\n};\n\n/**\n * clear cache entries prefix matching given key\n * @param {String} [key] - Key prefix of cache entry to clear\n */\nCache.prototype.clear = function(key) {\n  for (var k in this._entries) {\n    if (!key || k.indexOf(key) === 0) {\n      this._entries[k].clear();\n    }\n  }\n};\n\n/**\n * create and return cache key from namespace and serialized arguments.\n * @private\n */\nfunction createCacheKey(namespace, args) {\n  args = Array.prototype.slice.apply(args);\n  return namespace + '(' + _.map(args, function(a){ return JSON.stringify(a); }).join(',') + ')';\n}\n\n/**\n * Enable caching for async call fn to intercept the response and store it to cache.\n * The original async calll fn is always invoked.\n *\n * @protected\n * @param {Function} fn - Function to covert cacheable\n * @param {Object} [scope] - Scope of function call\n * @param {Object} [options] - Options\n * @return {Function} - Cached version of function\n */\nCache.prototype.makeResponseCacheable = function(fn, scope, options) {\n  var cache = this;\n  options = options || {};\n  return function() {\n    var args = Array.prototype.slice.apply(arguments);\n    var callback = args.pop();\n    if (!_.isFunction(callback)) {\n      args.push(callback);\n      callback = null;\n    }\n    var key = _.isString(options.key) ? options.key :\n              _.isFunction(options.key) ? options.key.apply(scope, args) :\n              createCacheKey(options.namespace, args);\n    var entry = cache.get(key);\n    entry.fetching = true;\n    if (callback) {\n      args.push(function(err, result) {\n        entry.set({ error: err, result: result });\n        callback(err, result);\n      });\n    }\n    var ret, error;\n    try {\n      ret = fn.apply(scope || this, args);\n    } catch(e) {\n      error = e;\n    }\n    if (ret && _.isFunction(ret.then)) { // if the returned value is promise\n      if (!callback) {\n        return ret.then(function(result) {\n          entry.set({ error: undefined, result: result });\n          return result;\n        }, function(err) {\n          entry.set({ error: err, result: undefined });\n          throw err;\n        });\n      } else {\n        return ret;\n      }\n    } else {\n      entry.set({ error: error, result: ret });\n      if (error) { throw error; }\n      return ret;\n    }\n  };\n};\n\n/**\n * Enable caching for async call fn to lookup the response cache first, then invoke original if no cached value.\n *\n * @protected\n * @param {Function} fn - Function to covert cacheable\n * @param {Object} [scope] - Scope of function call\n * @param {Object} [options] - Options\n * @return {Function} - Cached version of function\n */\nCache.prototype.makeCacheable = function(fn, scope, options) {\n  var cache = this;\n  options = options || {};\n  var $fn = function() {\n    var args = Array.prototype.slice.apply(arguments);\n    var callback = args.pop();\n    if (!_.isFunction(callback)) {\n      args.push(callback);\n    }\n    var key = _.isString(options.key) ? options.key :\n              _.isFunction(options.key) ? options.key.apply(scope, args) :\n              createCacheKey(options.namespace, args);\n    var entry = cache.get(key);\n    if (!_.isFunction(callback)) { // if callback is not given in last arg, return cached result (immediate).\n      var value = entry.get();\n      if (!value) { throw new Error('Function call result is not cached yet.'); }\n      if (value.error) { throw value.error; }\n      return value.result;\n    }\n    entry.get(function(value) {\n      callback(value.error, value.result);\n    });\n    if (!entry.fetching) { // only when no other client is calling function\n      entry.fetching = true;\n      args.push(function(err, result) {\n        entry.set({ error: err, result: result });\n      });\n      fn.apply(scope || this, args);\n    }\n  };\n  $fn.clear = function() {\n    var key = _.isString(options.key) ? options.key :\n              _.isFunction(options.key) ? options.key.apply(scope, arguments) :\n              createCacheKey(options.namespace, arguments);\n    cache.clear(key);\n  };\n  return $fn;\n};\n\n\nmodule.exports = Cache;\n\n},{\"events\":28,\"inherits\":35,\"underscore\":50}],6:[function(require,module,exports){\n(function (Buffer){\n/*global Buffer */\n/**\n * @file Connection class to keep the API session information and manage requests\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar events  = require('events'),\n    inherits = require('inherits'),\n    _       = require('underscore')._,\n    Promise = require('./promise'),\n    Logger  = require('./logger'),\n    OAuth2  = require('./oauth2'),\n    Query   = require('./query'),\n    SObject = require('./sobject'),\n    QuickAction = require('./quick-action'),\n    HttpApi = require('./http-api'),\n    Transport = require('./transport'),\n    Cache   = require('./cache');\n\nvar defaults = {\n  loginUrl: \"https://login.salesforce.com\",\n  instanceUrl: \"\",\n  version: \"33.0\"\n};\n\n/**\n * Connection class to keep the API session information and manage requests\n *\n * @constructor\n * @extends events.EventEmitter\n * @param {Object} [options] - Connection options\n * @param {OAuth2|Object} [options.oauth2] - OAuth2 instance or options to be passed to OAuth2 constructor\n * @param {String} [options.logLevel] - Output logging level (DEBUG|INFO|WARN|ERROR|FATAL)\n * @param {String} [options.version] - Salesforce API Version (without \"v\" prefix)\n * @param {Number} [options.maxRequest] - Max number of requests allowed in parallel call\n * @param {String} [options.loginUrl] - Salesforce Login Server URL (e.g. https://login.salesforce.com/)\n * @param {String} [options.instanceUrl] - Salesforce Instance URL (e.g. https://na1.salesforce.com/)\n * @param {String} [options.serverUrl] - Salesforce SOAP service endpoint URL (e.g. https://na1.salesforce.com/services/Soap/u/28.0)\n * @param {String} [options.accessToken] - Salesforce OAuth2 access token\n * @param {String} [options.sessionId] - Salesforce session ID\n * @param {String} [options.refreshToken] - Salesforce OAuth2 refresh token\n * @param {String|Object} [options.signedRequest] - Salesforce Canvas signed request (Raw Base64 string, JSON string, or deserialized JSON)\n * @param {String} [options.proxyUrl] - Cross-domain proxy server URL, used in browser client, non Visualforce app.\n * @param {Object} [options.callOptions] - Call options used in each SOAP/REST API request. See manual.\n */\nvar Connection = module.exports = function(options) {\n  var Bulk    = jsforce.require('./api/bulk'),\n      Streaming = jsforce.require('./api/streaming'),\n      Tooling = jsforce.require('./api/tooling'),\n      Analytics = jsforce.require('./api/analytics'),\n      Chatter = jsforce.require('./api/chatter'),\n      Apex    = jsforce.require('./api/apex'),\n      Metadata = jsforce.require('./api/metadata'),\n      Process = require('./process');\n\n  options = options || {};\n\n  this._logger = new Logger(options.logLevel);\n\n  var oauth2 = options.oauth2 || {\n    loginUrl : options.loginUrl,\n    clientId : options.clientId,\n    clientSecret : options.clientSecret,\n    redirectUri : options.redirectUri\n  };\n\n  /**\n   * OAuth2 object\n   * @member {OAuth2} Connection#oauth2\n   */\n  this.oauth2 = oauth2 = oauth2 instanceof OAuth2 ? oauth2 : new OAuth2(oauth2);\n\n  this.loginUrl = options.loginUrl || oauth2.loginUrl || defaults.loginUrl;\n  this.version = options.version || defaults.version;\n  this.maxRequest = options.maxRequest || this.maxRequest || 10;\n\n  /** @private */\n  this._transport =\n    options.proxyUrl ? new Transport.ProxyTransport(options.proxyUrl) : new Transport();\n\n  this.callOptions = options.callOptions;\n\n  /**\n   * Streaming API object\n   * @member {Streaming} Connection#streaming\n   */\n  if (Streaming) {\n    this.streaming = new Streaming(this);\n  }\n  /**\n   * Bulk API object\n   * @member {Bulk} Connection#bulk\n   */\n  if (Bulk) {\n    this.bulk = new Bulk(this);\n  }\n  /**\n   * Tooling API object\n   * @member {Tooling} Connection#tooling\n   */\n  if (Tooling) {\n    this.tooling = new Tooling(this);\n  }\n  /**\n   * Analytics API object\n   * @member {Analytics} Connection#analytics\n   */\n  if (Analytics) {\n    this.analytics = new Analytics(this);\n  }\n  /**\n   * Chatter API object\n   * @member {Chatter} Connection#chatter\n   */\n  if (Chatter) {\n    this.chatter = new Chatter(this);\n  }\n  /**\n   * Metadata API object\n   * @member {Metadata} Connection#metadata \n   */\n  if (Metadata) {\n    this.metadata = new Metadata(this);\n  }\n  /**\n   * Apex REST API object\n   * @member {Apex} Connection#apex\n   */\n  if (Apex) {\n    this.apex = new Apex(this);\n  }\n\n  /**\n   * @member {Process} Connection#process\n   */\n  this.process = new Process(this);\n\n  /**\n   * Cache object for result\n   * @member {Cache} Connection#cache\n   */\n  this.cache = new Cache();\n\n  // Allow to delegate connection refresh to outer function\n  var self = this;\n  var refreshFn = options.refreshFn;\n  if (!refreshFn && this.oauth2.clientId && this.oauth2.clientSecret) {\n    refreshFn = oauthRefreshFn;\n  }\n  if (refreshFn) {\n    this._refreshDelegate = new HttpApi.SessionRefreshDelegate(this, refreshFn);\n  }\n\n  var cacheOptions = {\n    key: function(type) { return type ? \"describe.\" + type : \"describe\"; }\n  };\n  this.describe$ = this.cache.makeCacheable(this.describe, this, cacheOptions);\n  this.describe = this.cache.makeResponseCacheable(this.describe, this, cacheOptions);\n  this.describeSObject$ = this.describe$;\n  this.describeSObject = this.describe;\n\n  cacheOptions = { key: 'describeGlobal' };\n  this.describeGlobal$ = this.cache.makeCacheable(this.describeGlobal, this, cacheOptions);\n  this.describeGlobal = this.cache.makeResponseCacheable(this.describeGlobal, this, cacheOptions);\n\n  this.initialize(options);\n};\n\ninherits(Connection, events.EventEmitter);\n\n/**\n * Initialize connection.\n *\n * @protected\n * @param {Object} options - Initialization options\n * @param {String} [options.instanceUrl] - Salesforce Instance URL (e.g. https://na1.salesforce.com/)\n * @param {String} [options.serverUrl] - Salesforce SOAP service endpoint URL (e.g. https://na1.salesforce.com/services/Soap/u/28.0)\n * @param {String} [options.accessToken] - Salesforce OAuth2 access token\n * @param {String} [options.sessionId] - Salesforce session ID\n * @param {String} [options.refreshToken] - Salesforce OAuth2 refresh token\n * @param {String|Object} [options.signedRequest] - Salesforce Canvas signed request (Raw Base64 string, JSON string, or deserialized JSON)\n * @param {UserInfo} [options.userInfo] - Logged in user information\n */\nConnection.prototype.initialize = function(options) {\n  if (!options.instanceUrl && options.serverUrl) {\n    options.instanceUrl = options.serverUrl.split('/').slice(0, 3).join('/');\n  }\n  this.instanceUrl = options.instanceUrl || options.serverUrl || this.instanceUrl || defaults.instanceUrl;\n\n  this.accessToken = options.sessionId || options.accessToken || this.accessToken;\n  this.refreshToken = options.refreshToken || this.refreshToken;\n  if (this.refreshToken && !this._refreshDelegate) {\n    throw new Error(\"Refresh token is specified without oauth2 client information or refresh function\");\n  }\n\n  this.signedRequest = options.signedRequest && parseSignedRequest(options.signedRequest);\n  if (this.signedRequest) {\n    this.accessToken = this.signedRequest.client.oauthToken;\n  }\n\n  if (options.userInfo) {\n    this.userInfo = options.userInfo;\n  }\n\n  this.limitInfo = {};\n\n  this.sobjects = {};\n  this.cache.clear();\n  this.cache.get('describeGlobal').on('value', _.bind(function(res) {\n    if (res.result) {\n      var types = _.map(res.result.sobjects, function(so) { return so.name; });\n      _.each(types, this.sobject, this);\n    }\n  }, this));\n\n  if (this.tooling) {\n    this.tooling.initialize();\n  }\n\n  this._sessionType = options.sessionId ? \"soap\" : \"oauth2\";\n\n};\n\n/** @private **/\nfunction oauthRefreshFn(conn, callback) {\n  conn.oauth2.refreshToken(conn.refreshToken, function(err, res) {\n    if (err) { return callback(err); }\n    var userInfo = parseIdUrl(res.id);\n    conn.initialize({\n      instanceUrl : res.instance_url,\n      accessToken : res.access_token,\n      userInfo : userInfo\n    });\n    callback(null, res.access_token, res);\n  });\n}\n\n/** @private **/\nfunction parseSignedRequest(sr) {\n  if (_.isString(sr)) {\n    if (sr[0] === '{') { // might be JSON\n      return JSON.parse(sr);\n    } else { // might be original base64-encoded signed request\n      var msg = sr.split('.').pop(); // retrieve latter part\n      var json = new Buffer(msg, 'base64').toString('utf-8');\n      return JSON.parse(json);\n    }\n    return null;\n  }\n  return sr;\n}\n\n\n/** @private **/\nConnection.prototype._baseUrl = function() {\n  return [ this.instanceUrl, \"services/data\", \"v\" + this.version ].join('/');\n};\n\n/**\n * Convert path to absolute url\n * @private\n */\nConnection.prototype._normalizeUrl = function(url) {\n  if (url[0] === '/') {\n    if (url.indexOf('/services/') === 0) {\n      return this.instanceUrl + url;\n    } else {\n      return this._baseUrl() + url;\n    }\n  } else {\n    return url;\n  }\n};\n\n/**\n * Send REST API request with given HTTP request info, with connected session information.\n *\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\n * , or relative path from version root ('/sobjects/Account/describe').\n *\n * @param {String|Object} request - HTTP request object or URL to GET request\n * @param {String} request.method - HTTP method URL to send HTTP request\n * @param {String} request.url - URL to send HTTP request\n * @param {Object} [request.headers] - HTTP request headers in hash object (key-value)\n * @param {Object} [options] - HTTP API request options\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nConnection.prototype.request = function(request, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  options = options || {};\n  var self = this;\n\n  // if request is simple string, regard it as url in GET method\n  if (_.isString(request)) {\n    request = { method: 'GET', url: request };\n  }\n  // if url is given in relative path, prepend base url or instance url before.\n  request.url = this._normalizeUrl(request.url);\n\n  var httpApi = new HttpApi(this, options);\n\n  // log api usage and its quota\n  httpApi.on('response', function(response) {\n    if (response.headers && response.headers[\"sforce-limit-info\"]) {\n      var apiUsage = response.headers[\"sforce-limit-info\"].match(/api\\-usage=(\\d+)\\/(\\d+)/);\n      if (apiUsage) {\n        self.limitInfo = {\n          apiUsage: {\n            used: parseInt(apiUsage[1], 10),\n            limit: parseInt(apiUsage[2], 10)\n          }\n        };\n      }\n    }\n  });\n  return httpApi.request(request).thenCall(callback);\n};\n\n/**\n * Send HTTP GET request\n *\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\n * , or relative path from version root ('/sobjects/Account/describe').\n *\n * @param {String} url - Endpoint URL to request HTTP GET\n * @param {Object} [options] - HTTP API request options\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nConnection.prototype.requestGet = function(url, options, callback) {\n  var request = {\n    method: \"GET\",\n    url: url\n  };\n  return this.request(request, options, callback);\n};\n\n\n/**\n * Send HTTP POST request with JSON body, with connected session information\n *\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\n * , or relative path from version root ('/sobjects/Account/describe').\n *\n * @param {String} url - Endpoint URL to request HTTP POST\n * @param {Object} body - Any JS object which can be serialized to JSON\n * @param {Object} [options] - HTTP API request options\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nConnection.prototype.requestPost = function(url, body, options, callback) {\n  var request = {\n    method: \"POST\",\n    url: url,\n    body: JSON.stringify(body),\n    headers: { \"content-type\": \"application/json\" }\n  };\n  return this.request(request, options, callback);\n};\n\n/**\n * Send HTTP PUT request with JSON body, with connected session information\n *\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\n * , or relative path from version root ('/sobjects/Account/describe').\n *\n * @param {String} url - Endpoint URL to request HTTP PUT\n * @param {Object} body - Any JS object which can be serialized to JSON\n * @param {Object} [options] - HTTP API request options\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nConnection.prototype.requestPut = function(url, body, options, callback) {\n  var request = {\n    method: \"PUT\",\n    url: url,\n    body: JSON.stringify(body),\n    headers: { \"content-type\": \"application/json\" }\n  };\n  return this.request(request, options, callback);\n};\n\n/**\n * Send HTTP PATCH request with JSON body\n *\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\n * , or relative path from version root ('/sobjects/Account/describe').\n *\n * @param {String} url - Endpoint URL to request HTTP PATCH\n * @param {Object} body - Any JS object which can be serialized to JSON\n * @param {Object} [options] - HTTP API request options\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nConnection.prototype.requestPatch = function(url, body, options, callback) {\n  var request = {\n    method: \"PATCH\",\n    url: url,\n    body: JSON.stringify(body),\n    headers: { \"content-type\": \"application/json\" }\n  };\n  return this.request(request, options, callback);\n};\n\n/**\n * Send HTTP DELETE request\n *\n * Endpoint URL can be absolute URL ('https://na1.salesforce.com/services/data/v32.0/sobjects/Account/describe')\n * , relative path from root ('/services/data/v32.0/sobjects/Account/describe')\n * , or relative path from version root ('/sobjects/Account/describe').\n *\n * @param {String} url - Endpoint URL to request HTTP DELETE\n * @param {Object} [options] - HTTP API request options\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nConnection.prototype.requestDelete = function(url, options, callback) {\n  var request = {\n    method: \"DELETE\",\n    url: url\n  };\n  return this.request(request, options, callback);\n};\n\n\n/** @private */\nfunction formatDate(date) {\n  function pad(number) {\n    if (number < 10) {\n      return '0' + number;\n    }\n    return number;\n  }\n\n  return date.getUTCFullYear() +\n    '-' + pad(date.getUTCMonth() + 1) +\n    '-' + pad(date.getUTCDate()) +\n    'T' + pad(date.getUTCHours()) +\n    ':' + pad(date.getUTCMinutes()) +\n    ':' + pad(date.getUTCSeconds()) +\n    '+00:00';\n}\n\n\n/** @private **/\nfunction parseIdUrl(idUrl) {\n  var idUrls = idUrl.split(\"/\");\n  var userId = idUrls.pop(), orgId = idUrls.pop();\n  return {\n    id: userId,\n    organizationId: orgId,\n    url: idUrl\n  };\n}\n\n/**\n * @callback Callback\n * @type {Function}\n * @param {Error} err - Callback error\n * @param {T} response - Callback response\n * @template T\n */\n\n/**\n * @typedef {Object} QueryResult\n * @prop {Boolean} done - Flag if the query is fetched all records or not\n * @prop {String} [nextRecordsUrl] - URL locator for next record set, (available when done = false)\n * @prop {Number} totalSize - Total size for query\n * @prop {Array.<Record>} [records] - Array of records fetched\n */\n\n/**\n * Execute query by using SOQL\n * \n * @param {String} soql - SOQL string\n * @param {Callback.<QueryResult>} [callback] - Callback function\n * @returns {Query.<QueryResult>}\n */\nConnection.prototype.query = function(soql, callback) {\n  var query = new Query(this, soql);\n  if (callback) {\n    query.run(callback);\n  }\n  return query;\n};\n\n/**\n * Execute query by using SOQL, including deleted records\n * \n * @param {String} soql - SOQL string\n * @param {Callback.<QueryResult>} [callback] - Callback function\n * @returns {Query.<QueryResult>}\n */\nConnection.prototype.queryAll = function(soql, callback) {\n  var query = new Query(this, soql);\n  query.scanAll(true);\n  if (callback) {\n    query.run(callback);\n  }\n  return query;\n};\n\n/**\n * Query next record set by using query locator\n * \n * @param {String} locator - Next record set locator\n * @param {Callback.<QueryResult>} [callback] - Callback function\n * @returns {Query.<QueryResult>}\n */\nConnection.prototype.queryMore = function(locator, callback) {\n  var query = new Query(this, null, locator);\n  if (callback) {\n    query.run(callback);\n  }\n  return query;\n};\n\n/**\n * Retrieve specified records\n *\n * @param {String} type - SObject Type\n * @param {String|Array.<String>} ids - A record ID or array of record IDs \n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<Record|Array.<Record>>} [callback] - Callback function\n * @returns {Promise.<Record|Array.<Record>>}\n */\nConnection.prototype.retrieve = function(type, ids, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  var self = this;\n  var isArray = _.isArray(ids);\n  ids = isArray ? ids : [ ids ];\n  if (ids.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(ids, function(id) {\n      var url = [ self._baseUrl(), \"sobjects\", type, id ].join('/');\n      return self.request(url);\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n\n/**\n * @typedef RecordResult\n * @prop {Boolean} success - The result is succeessful or not\n * @prop {String} [id] - Record ID\n * @prop {Array.<String>} [errors] - Errors (available when success = false)\n */\n\n/**\n * Synonym of Connection#create()\n *\n * @method Connection#insert\n * @param {String} type - SObject Type\n * @param {Object|Array.<Object>} records - A record or array of records to create\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Create records\n *\n * @method Connection#create\n * @param {String} type - SObject Type\n * @param {Record|Array.<Record>} records - A record or array of records to create\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nConnection.prototype.insert =\nConnection.prototype.create = function(type, records, options, callback) {\n  if (!_.isString(type)) {\n    // reverse order\n    callback = options;\n    options = records;\n    records = type;\n    type = null;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  var self = this;\n  var isArray = _.isArray(records);\n  records = isArray ? records : [ records ];\n  if (records.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(records, function(record) {\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\n      if (!sobjectType) {\n        throw new Error('No SObject Type defined in record');\n      }\n      record = _.clone(record);\n      delete record.Id;\n      delete record.type;\n      delete record.attributes;\n\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType ].join('/');\n      return self.request({\n        method : 'POST',\n        url : url,\n        body : JSON.stringify(record),\n        headers : _.defaults(options.headers || {}, {\n          \"Content-Type\" : \"application/json\"\n        })\n      });\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n/**\n * Update records\n *\n * @param {String} type - SObject Type\n * @param {Record|Array.<Record>} records - A record or array of records to update\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nConnection.prototype.update = function(type, records, options, callback) {\n  if (!_.isString(type)) {\n    // reverse order\n    callback = options;\n    options = records;\n    records = type;\n    type = null;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  var self = this;\n  var isArray = _.isArray(records);\n  records = isArray ? records : [ records ];\n  if (records.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(records, function(record) {\n      var id = record.Id;\n      if (!id) {\n        throw new Error('Record id is not found in record.');\n      }\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\n      if (!sobjectType) {\n        throw new Error('No SObject Type defined in record');\n      }\n      record = _.clone(record);\n      delete record.Id;\n      delete record.type;\n      delete record.attributes;\n\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType, id ].join('/');\n      return self.request({\n        method : 'PATCH',\n        url : url,\n        body : JSON.stringify(record),\n        headers : _.defaults(options.headers || {}, {\n          \"Content-Type\" : \"application/json\"\n        })\n      }, {\n        noContentResponse: { id : id, success : true, errors : [] }\n      });\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n/**\n * Upsert records\n *\n * @param {String} type - SObject Type\n * @param {Record|Array.<Record>} records - Record or array of records to upsert\n * @param {String} extIdField - External ID field name\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nConnection.prototype.upsert = function(type, records, extIdField, options, callback) {\n  // You can omit \"type\" argument, when the record includes type information.\n  if (!_.isString(type)) {\n    // reverse order\n    callback = options;\n    options = extIdField;\n    extIdField = records;\n    records = type;\n    type = null;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  var self = this;\n  var isArray = _.isArray(records);\n  records = isArray ? records : [ records ];\n  if (records.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(records, function(record) {\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\n      var extId = record[extIdField];\n      if (!extId) {\n        return Promise.reject(new Error('External ID is not defined in the record'));\n      }\n      record = _.clone(record);\n      delete record[extIdField];\n      delete record.type;\n      delete record.attributes;\n\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType, extIdField, extId ].join('/');\n      return self.request({\n        method : 'PATCH',\n        url : url,\n        body : JSON.stringify(record),\n        headers : _.defaults(options.headers || {}, {\n          \"Content-Type\" : \"application/json\"\n        }) \n      }, {\n        noContentResponse: { success : true, errors : [] }\n      });\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n/**\n * Synonym of Connection#destroy()\n *\n * @method Connection#delete\n * @param {String} type - SObject Type\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Synonym of Connection#destroy()\n *\n * @method Connection#del\n * @param {String} type - SObject Type\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Delete records\n *\n * @method Connection#destroy\n * @param {String} type - SObject Type\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nConnection.prototype[\"delete\"] =\nConnection.prototype.del =\nConnection.prototype.destroy = function(type, ids, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  var self = this;\n  var isArray = _.isArray(ids);\n  ids = isArray ? ids : [ ids ];\n  if (ids.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(ids, function(id) {\n      var url = [ self._baseUrl(), \"sobjects\", type, id ].join('/');\n      return self.request({\n        method : 'DELETE',\n        url : url,\n        headers: options.headers || null\n      }, {\n        noContentResponse: { id : id, success : true, errors : [] }\n      });\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n/**\n * Execute search by SOSL\n * \n * @param {String} sosl - SOSL string\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<RecordResult>>}\n */\nConnection.prototype.search = function(sosl, callback) {\n  var url = this._baseUrl() + \"/search?q=\" + encodeURIComponent(sosl);\n  return this.request(url).thenCall(callback);\n};\n\n/**\n * Result returned by describeSObject call\n *\n * @typedef {Object} DescribeSObjectResult\n */\n/**\n * Synonym of Connection#describe()\n *\n * @method Connection#describeSObject\n * @param {String} type - SObject Type\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\n * @returns {Promise.<DescribeSObjectResult>}\n */\n/**\n * Describe SObject metadata\n *\n * @method Connection#describe\n * @param {String} type - SObject Type\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\n * @returns {Promise.<DescribeSObjectResult>}\n */\nConnection.prototype.describe = \nConnection.prototype.describeSObject = function(type, callback) {\n  var url = [ this._baseUrl(), \"sobjects\", type, \"describe\" ].join('/');\n  return this.request(url).thenCall(callback);\n};\n\n\n/**\n * Result returned by describeGlobal call\n *\n * @typedef {Object} DescribeGlobalResult\n */\n/**\n * Describe global SObjects\n *\n * @param {Callback.<DescribeGlobalResult>} [callback] - Callback function\n * @returns {Promise.<DescribeGlobalResult>}\n */\nConnection.prototype.describeGlobal = function(callback) {\n  var url = this._baseUrl() + \"/sobjects\";\n  return this.request(url).thenCall(callback);\n};\n\n\n/**\n * Get SObject instance\n *\n * @param {String} type - SObject Type\n * @returns {SObject}\n */\nConnection.prototype.sobject = function(type) {\n  this.sobjects = this.sobjects || {};\n  var sobject = this.sobjects[type] = \n    this.sobjects[type] || new SObject(this, type);\n  return sobject;\n};\n\n/**\n * Get identity information of current user\n *\n * @param {Callback.<IdentityInfo>} [callback] - Callback function\n * @returns {Promise.<IdentityInfo>}\n */\nConnection.prototype.identity = function(callback) {\n  var self = this;\n  var idUrl = this.userInfo && this.userInfo.url;\n  return new Promise(\n    idUrl ? \n    { identity: idUrl } :\n    this.request(this._baseUrl())\n  ).then(function(res) {\n    var url = res.identity;\n    url += '?format=json&oauth_token=' + encodeURIComponent(self.accessToken);\n    return self.request(url, null, { jsonp : 'callback' });\n  }).then(function(res) {\n    self.userInfo = {\n      id: res.user_id,\n      organizationId: res.organization_id,\n      url: res.id\n    };\n    return res;\n  }).thenCall(callback);\n};\n\n/**\n * @typedef UserInfo\n * @prop {String} id - User ID\n * @prop {String} organizationId - Organization ID\n * @prop {String} url - Identity URL of the user\n */\n\n/**\n * Authorize (using oauth2 web server flow)\n *\n * @param {String} code - Authorization code\n * @param {Callback.<UserInfo>} [callback] - Callback function\n * @returns {Promise.<UserInfo>}\n */\nConnection.prototype.authorize = function(code, callback) {\n  var self = this;\n  var logger = this._logger;\n\n  return this.oauth2.requestToken(code).then(function(res) {\n    logger.debug(\"OAuth2 token response = \" + JSON.stringify(res));\n    var userInfo = parseIdUrl(res.id);\n    self.initialize({\n      instanceUrl : res.instance_url,\n      accessToken : res.access_token,\n      refreshToken : res.refresh_token,\n      userInfo: userInfo\n    });\n    logger.debug(\"<login> completed. user id = \" + userInfo.id + \", org id = \" + userInfo.organizationId);\n    return userInfo;\n\n  }).thenCall(callback);\n\n};\n\n\n/**\n * Login to Salesforce\n * \n * @param {String} username - Salesforce username\n * @param {String} password - Salesforce password (and security token, if required)\n * @param {Callback.<UserInfo>} [callback] - Callback function\n * @returns {Promise.<UserInfo>}\n */\nConnection.prototype.login = function(username, password, callback) {\n  // register refreshDelegate for session expiration\n  this._refreshDelegate = new HttpApi.SessionRefreshDelegate(this, createUsernamePasswordRefreshFn(username, password));\n  if (this.oauth2 && this.oauth2.clientId && this.oauth2.clientSecret) {\n    return this.loginByOAuth2(username, password, callback);\n  } else {\n    return this.loginBySoap(username, password, callback);\n  }\n};\n\n/** @private **/\nfunction createUsernamePasswordRefreshFn(username, password) {\n  return function(conn, callback) {\n    conn.login(username, password, function(err) {\n      if (err) { return callback(err); }\n      callback(null, conn.accessToken);\n    });\n  };\n}\n\n/**\n * Login by OAuth2 username & password flow\n *\n * @param {String} username - Salesforce username\n * @param {String} password - Salesforce password (and security token, if required)\n * @param {Callback.<UserInfo>} [callback] - Callback function\n * @returns {Promise.<UserInfo>}\n */\nConnection.prototype.loginByOAuth2 = function(username, password, callback) {\n  var self = this;\n  var logger = this._logger;\n  return this.oauth2.authenticate(username, password).then(function(res) {\n    logger.debug(\"OAuth2 token response = \" + JSON.stringify(res));\n    var userInfo = parseIdUrl(res.id);\n    self.initialize({\n      instanceUrl : res.instance_url,\n      accessToken : res.access_token,\n      userInfo: userInfo\n    });\n    logger.debug(\"<login> completed. user id = \" + userInfo.id + \", org id = \" + userInfo.organizationId);\n    return userInfo;\n\n  }).thenCall(callback);\n\n};\n\n/**\n * @private\n */\nfunction esc(str) {\n  return str && String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;')\n                           .replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\n/**\n * Login by SOAP web service API\n *\n * @param {String} username - Salesforce username\n * @param {String} password - Salesforce password (and security token, if required)\n * @param {Callback.<UserInfo>} [callback] - Callback function\n * @returns {Promise.<UserInfo>}\n */\nConnection.prototype.loginBySoap = function(username, password, callback) {\n  var self = this;\n  var logger = this._logger;\n  var body = [\n    '<se:Envelope xmlns:se=\"http://schemas.xmlsoap.org/soap/envelope/\">',\n      '<se:Header/>',\n      '<se:Body>',\n        '<login xmlns=\"urn:partner.soap.sforce.com\">',\n          '<username>' + esc(username) + '</username>',\n          '<password>' + esc(password) + '</password>',\n        '</login>',\n      '</se:Body>',\n    '</se:Envelope>'\n  ].join('');\n\n  var soapLoginEndpoint = [ this.loginUrl, \"services/Soap/u\", this.version ].join('/');\n\n  return this._transport.httpRequest({\n    method : 'POST',\n    url : soapLoginEndpoint,\n    body : body,\n    headers : {\n      \"Content-Type\" : \"text/xml\",\n      \"SOAPAction\" : '\"\"'\n    }\n  }).then(function(response) {\n    var m;\n    if (response.statusCode >= 400) {\n      m = response.body.match(/<faultstring>([^<]+)<\\/faultstring>/);\n      var faultstring = m && m[1];\n      throw new Error(faultstring || response.body);\n    }\n    logger.debug(\"SOAP response = \" + response.body);\n    m = response.body.match(/<serverUrl>([^<]+)<\\/serverUrl>/);\n    var serverUrl = m && m[1];\n    m = response.body.match(/<sessionId>([^<]+)<\\/sessionId>/);\n    var sessionId = m && m[1];\n    m = response.body.match(/<userId>([^<]+)<\\/userId>/);\n    var userId = m && m[1];\n    m = response.body.match(/<organizationId>([^<]+)<\\/organizationId>/);\n    var orgId = m && m[1];\n    var idUrl = soapLoginEndpoint.split('/').slice(0, 3).join('/');\n    idUrl += \"/id/\" + orgId + \"/\" + userId;\n    var userInfo = {\n      id: userId,\n      organizationId: orgId,\n      url: idUrl\n    };\n    self.initialize({ \n      serverUrl: serverUrl.split('/').slice(0, 3).join('/'), \n      sessionId: sessionId,\n      userInfo: userInfo\n    });\n    logger.debug(\"<login> completed. user id = \" + userId + \", org id = \" + orgId);\n    return userInfo;\n\n  }).thenCall(callback);\n\n};\n\n/**\n * Logout the current session\n *\n * @param {Callback.<undefined>} [callback] - Callback function\n * @returns {Promise.<undefined>}\n */\nConnection.prototype.logout = function(callback) {\n  if (this._sessionType === \"oauth2\") {\n    return this.logoutByOAuth2(callback);\n  } else {\n    return this.logoutBySoap(callback);\n  }\n};\n\n/**\n * Logout the current session by revoking access token via OAuth2 session revoke\n *\n * @param {Callback.<undefined>} [callback] - Callback function\n * @returns {Promise.<undefined>}\n */\nConnection.prototype.logoutByOAuth2 = function(callback) {\n  var self = this;\n  var logger = this._logger;\n\n  return this.oauth2.revokeToken(this.accessToken).then(function() {\n    // Destroy the session bound to this connection\n    self.accessToken = null;\n    self.userInfo = null;\n    self.refreshToken = null;\n    self.instanceUrl = null;\n    self.cache.clear();\n\n    // nothing useful returned by logout API, just return\n    return undefined;\n  }).thenCall(callback);\n};\n\n\n/**\n * Logout the session by using SOAP web service API\n *\n * @param {Callback.<undefined>} [callback] - Callback function\n * @returns {Promise.<undefined>}\n */\nConnection.prototype.logoutBySoap = function(callback) {\n  var self = this;\n  var logger = this._logger;\n\n  var body = [\n    '<se:Envelope xmlns:se=\"http://schemas.xmlsoap.org/soap/envelope/\">',\n      '<se:Header>',\n        '<SessionHeader xmlns=\"urn:partner.soap.sforce.com\">',\n          '<sessionId>' + esc(this.accessToken) + '</sessionId>',\n        '</SessionHeader>',\n      '</se:Header>',\n      '<se:Body>',\n        '<logout xmlns=\"urn:partner.soap.sforce.com\"/>',\n      '</se:Body>',\n    '</se:Envelope>'\n  ].join('');\n\n  return this._transport.httpRequest({\n    method : 'POST',\n    url : [ this.instanceUrl, \"services/Soap/u\", this.version ].join('/'),\n    body : body,\n    headers : {\n      \"Content-Type\" : \"text/xml\",\n      \"SOAPAction\" : '\"\"'\n    }\n  }).then(function(response) {\n    logger.debug(\"SOAP statusCode = \" + response.statusCode + \", response = \" + response.body);\n    if (response.statusCode >= 400) {\n      var m = response.body.match(/<faultstring>([^<]+)<\\/faultstring>/);\n      var faultstring = m && m[1];\n      throw new Error(faultstring || response.body);\n    }\n\n    // Destroy the session bound to this connection\n    self.accessToken = null;\n    self.userInfo = null;\n    self.refreshToken = null;\n    self.instanceUrl = null;\n    self.cache.clear();\n\n    // nothing useful returned by logout API, just return\n    return undefined;\n\n  }).thenCall(callback);\n};\n\n/**\n * List recently viewed records\n * \n * @param {String} [type] - SObject type\n * @param {Number} [limit] - Limit num to fetch\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<RecordResult>>}\n */\nConnection.prototype.recent = function(type, limit, callback) {\n  if (!_.isString(type)) {\n    callback = limit;\n    limit = type;\n    type = undefined;\n  }\n  if (!_.isNumber(limit)) {\n    callback = limit;\n    limit = undefined;\n  }\n  var url;\n  if (type) {\n    url = [ this._baseUrl(), \"sobjects\", type ].join('/');\n    return this.request(url).then(function(res) {\n      return limit ? res.recentItems.slice(0, limit) : res.recentItems;\n    }).thenCall(callback);\n  } else {\n    url = this._baseUrl() + \"/recent\";\n    if (limit) { \n      url += \"?limit=\" + limit;\n    }\n    return this.request(url).thenCall(callback);\n  }\n\n};\n\n/**\n * @typedef {Object} UpdatedRecordsInfo\n * @prop {String} latestDateCovered - The timestamp of the last date covered. \n * @prop {Array.<String>} ids - Updated record IDs.\n */\n\n/**\n * Retrieve updated records\n *\n * @param {String} type - SObject Type\n * @param {String|Date} start - start date or string representing the start of the interval\n * @param {String|Date} end - start date or string representing the end of the interval must be > start\n * @param {Callback.<UpdatedRecordsInfo>} [callback] - Callback function\n * @returns {Promise.<UpdatedRecordsInfo>}\n */\nConnection.prototype.updated = function (type, start, end, callback) {\n  var url = [ this._baseUrl(), \"sobjects\", type, \"updated\" ].join('/');\n\n  if (typeof start === 'string') {\n    start = new Date(start);\n  }\n\n  if (start instanceof Date) {\n    start = formatDate(start);\n  }\n\n  if (start) {\n    url += \"?start=\" + encodeURIComponent(start);\n  }\n\n  if (typeof end === 'string') {\n    end = new Date(end);\n  }\n\n  if (end instanceof Date) {\n    end = formatDate(end);\n  }\n\n  if (end) {\n    url += \"&end=\" + encodeURIComponent(end);\n  }\n\n  return this.request(url).thenCall(callback);\n};\n\n/**\n * @typedef {Object} DeletedRecordsInfo\n * @prop {String} earliestDateAvailable - The timestamp of the earliest date available\n * @prop {String} latestDateCovered - The timestamp of the last date covered\n * @prop {Array.<Object>} deletedRecords - Updated records\n * @prop {String} deletedRecords.id - Record ID\n * @prop {String} deletedRecords.deletedDate - The timestamp when this record was deleted\n */\n\n/**\n * Retrieve deleted records\n *\n * @param {String} type - SObject Type\n * @param {String|Date} start - start date or string representing the start of the interval\n * @param {String|Date} end - start date or string representing the end of the interval\n * @param {Callback.<DeletedRecordsInfo>} [callback] - Callback function\n * @returns {Promise.<DeletedRecordsInfo>}\n */\nConnection.prototype.deleted = function (type, start, end, callback) {\n  var url = [ this._baseUrl(), \"sobjects\", type, \"deleted\" ].join('/');\n\n  if (typeof start === 'string') {\n    start = new Date(start);\n  }\n\n  if (start instanceof Date) {\n    start = formatDate(start);\n  }\n\n  if (start) {\n    url += \"?start=\" + encodeURIComponent(start);\n  }\n\n  if (typeof end === 'string') {\n    end = new Date(end);\n  }\n\n  if (end instanceof Date) {\n    end = formatDate(end);\n  }\n\n  if (end) {\n    url += \"&end=\" + encodeURIComponent(end);\n  }\n\n  return this.request(url).thenCall(callback);\n};\n\n\n/**\n * @typedef {Object} TabsInfo - See the API document for detail structure\n */\n\n/**\n * Returns a list of all tabs\n *\n * @param {Callback.<TabsInfo>} [callback] - Callback function\n * @returns {Promise.<TabsInfo>}\n */\nConnection.prototype.tabs = function(callback) {\n  var url = [ this._baseUrl(), \"tabs\" ].join('/');\n  return this.request(url).thenCall(callback);\n};\n\n\n/**\n * @typedef {Object} LimitsInfo - See the API document for detail structure\n */\n\n/**\n * Returns curren system limit in the organization\n *\n * @param {Callback.<LimitsInfo>} [callback] - Callback function\n * @returns {Promise.<LimitsInfo>}\n */\nConnection.prototype.limits = function(callback) {\n  var url = [ this._baseUrl(), \"limits\" ].join('/');\n  return this.request(url).thenCall(callback);\n};\n\n\n/**\n * @typedef {Object} ThemeInfo - See the API document for detail structure\n */\n\n/**\n * Returns a theme info\n *\n * @param {Callback.<ThemeInfo>} [callback] - Callback function\n * @returns {Promise.<ThemeInfo>}\n */\nConnection.prototype.theme = function(callback) {\n  var url = [ this._baseUrl(), \"theme\" ].join('/');\n  return this.request(url).thenCall(callback);\n};\n\n/**\n * Returns all registered global quick actions \n *\n * @param {Callback.<Array.<QuickAction~QuickActionInfo>>} [callback] - Callback function\n * @returns {Promise.<Array.<QuickAction~QuickActionInfo>>}\n */\nConnection.prototype.quickActions = function(callback) {\n  return this.request(\"/quickActions\").thenCall(callback);\n};\n\n/**\n * Get reference for specified global quick aciton\n *\n * @param {String} actionName - Name of the global quick action\n * @returns {QuickAction}\n */\nConnection.prototype.quickAction = function(actionName) {\n  return new QuickAction(this, \"/quickActions/\" + actionName);\n};\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"./cache\":5,\"./http-api\":10,\"./logger\":12,\"./oauth2\":13,\"./process\":14,\"./promise\":15,\"./query\":16,\"./quick-action\":17,\"./sobject\":20,\"./transport\":22,\"buffer\":24,\"events\":28,\"inherits\":35,\"underscore\":50}],7:[function(require,module,exports){\nmodule.exports = function(name) { return require(name); };\nrequire(\"events\");\nrequire(\"inherits\");\nrequire(\"underscore\");\nrequire(\"./promise\");\nrequire(\"./logger\");\nrequire(\"./oauth2\");\nrequire(\"./query\");\nrequire(\"./sobject\");\nrequire(\"./quick-action\");\nrequire(\"./http-api\");\nrequire(\"./transport\");\nrequire(\"./cache\");\nrequire(\"./process\");\nrequire(\"./date\");\nrequire(\"xml2js\");\nrequire(\"./csv\");\nrequire(\"./connection\");\nrequire(\"./record-stream\");\nrequire(\"querystring\");\nrequire(\"q\");\nrequire(\"./soql-builder\");\nrequire(\"stream\");\nrequire(\"./record\");\nrequire(\"request\");\nrequire(\"./browser/canvas\");\nrequire(\"./browser/jsonp\");\n},{\"./browser/canvas\":1,\"./browser/jsonp\":4,\"./cache\":5,\"./connection\":6,\"./csv\":8,\"./date\":9,\"./http-api\":10,\"./logger\":12,\"./oauth2\":13,\"./process\":14,\"./promise\":15,\"./query\":16,\"./quick-action\":17,\"./record\":19,\"./record-stream\":18,\"./sobject\":20,\"./soql-builder\":21,\"./transport\":22,\"events\":28,\"inherits\":35,\"q\":36,\"querystring\":32,\"request\":23,\"stream\":33,\"underscore\":50,\"xml2js\":53}],8:[function(require,module,exports){\nvar _      = require('underscore'),\n    SfDate = require('./date');\n\n/**\n * @private\n */\nfunction toCSV(records, headers, options) {\n  options = options || {};\n  if (!headers) {\n    headers = extractHeaders(records, options);\n  }\n  var rows = _.map(records, function(record){ return recordToCSV(record, headers, options); });\n  return arrayToCSV(headers) + \"\\n\" + rows.join(\"\\n\");\n}\n\n/**\n * @private\n */\nfunction extractHeaders(records, options) {\n  options = options || {};\n  var headers = {};\n  _.forEach(records, function(record) {\n    for (var key in record) {\n      var value = record[key];\n      if (record.hasOwnProperty(key) && (value === null || typeof value !== 'object')) {\n        headers[key] = true;\n      }\n    }\n  });\n  return _.keys(headers);\n}\n\n/**\n * @private\n */\nfunction recordToCSV(record, headers, options) {\n  options = options || {};\n  var row = [];\n  _.forEach(headers, function(header) {\n    var value = record[header];\n    if (value === null && typeof options.nullValue !== 'undefined') {\n      value = options.nullValue;\n    }\n    if (typeof value === 'undefined') { value = null; }\n    row.push(value);\n  });\n  return arrayToCSV(row);\n}\n\n/**\n * @private\n */\nfunction arrayToCSV(arr) {\n  return _.map(arr, escapeCSV).join(',');\n}\n\n/**\n * @private\n */\nfunction escapeCSV(str) {\n  if (str === null || typeof str === 'undefined') { str = ''; }\n  str = String(str);\n  if (str.indexOf('\"') >= 0 || str.indexOf(',') >= 0 || /[\\n\\r]/.test(str)) {\n    str = '\"' + str.replace(/\"/g, '\"\"') + '\"';\n  }\n  return str;\n}\n\n\n\n/**\n * @private\n * @class\n * @constructor\n * @param {String} text - CSV string\n */\nvar CSVParser = function(text) {\n  this.text = text;\n  this.cursor = 0;\n};\n\nCSVParser.prototype = {\n\n  nextToken : function() {\n    var cell;\n    var dquoted = false;\n    var firstChar = this.text.charAt(this.cursor);\n    if (firstChar === '' || firstChar === '\\r' || firstChar === '\\n') {\n      return null;\n    }\n    if (firstChar === '\"') {\n      dquoted = true;\n    }\n    if (dquoted) {\n      var dq = this.cursor;\n      while(true) {\n        dq++;\n        dq = this.text.indexOf('\"', dq);\n        if (dq<0 || this.text.charAt(dq+1) !== '\"') {\n          break;\n        } else {\n          dq++;\n        }\n      }\n      if (dq>=0) {\n        var delim = this.text.charAt(dq+1);\n        cell = this.text.substring(this.cursor, dq+1);\n        this.cursor = dq + (delim === ',' ? 2 : 1);\n      } else {\n        cell = this.text.substring(this.cursor);\n        this.cursor = this.text.length;\n      }\n      return cell.replace(/\"\"/g,'\"').replace(/^\"/,'').replace(/\"$/,'');\n    } else {\n      var comma = this.text.indexOf(',', this.cursor);\n      var cr = this.text.indexOf('\\r', this.cursor);\n      var lf = this.text.indexOf('\\n', this.cursor);\n      comma = comma<0 ? this.text.length+1 : comma;\n      cr = cr<0 ? this.text.length+1 : cr;\n      lf = lf<0 ? this.text.length+1 : lf;\n      var pivot = Math.min(comma, cr, lf, this.text.length);\n      cell = this.text.substring(this.cursor, pivot);\n      this.cursor = pivot;\n      if (comma === pivot) {\n        this.cursor++;\n      }\n      return cell;\n    }\n  },\n\n  nextLine : function() {\n    for (var c = this.text.charAt(this.cursor);\n        c === '\\r' || c === '\\n';\n        c = this.text.charAt(++this.cursor))\n      {}\n    return this.cursor !== this.text.length;\n  }\n\n};\n\n/**\n * @private\n */\nfunction parseCSV(str) {\n  var parser = new CSVParser(str);\n  var headers = [];\n  var token;\n  if (parser.nextLine()) {\n    token = parser.nextToken();\n    while (!_.isUndefined(token) && !_.isNull(token)) {\n      headers.push(token);\n      token = parser.nextToken();\n    }\n  }\n  var rows = [];\n  while (parser.nextLine()) {\n    var row = {};\n    token = parser.nextToken();\n    var i = 0;\n    while (!_.isUndefined(token) && !_.isNull(token)) {\n      var header = headers[i++];\n      row[header] = token;\n      token = parser.nextToken();\n    }\n    rows.push(row);\n  }\n  return rows;\n}\n\n\n/**\n * @protected\n */\nmodule.exports = {\n  toCSV : toCSV,\n  extractHeaders : extractHeaders,\n  recordToCSV : recordToCSV,\n  arrayToCSV : arrayToCSV,\n  parseCSV : parseCSV\n};\n  \n},{\"./date\":9,\"underscore\":50}],9:[function(require,module,exports){\nvar _ = require(\"underscore\")._;\n\n/**\n * A date object to keep Salesforce date literal\n *\n * @class\n * @constructor\n * @see http://www.salesforce.com/us/developer/docs/soql_sosl/Content/sforce_api_calls_soql_select_dateformats.htm\n */\nvar SfDate = module.exports = function(literal) {\n  this._literal = literal;\n};\n\n/**\n * Returns literal when converted to string\n *\n * @override\n */\nSfDate.prototype.toString =\nSfDate.prototype.toJSON = function() { return this._literal; };\n\n\n/** @private **/\nfunction zeropad(n) { return (n<10 ? \"0\" : \"\") + n; }\n\n/**\n * Convert JavaScript date object to ISO8601 Date format (e.g. 2012-10-31)\n *\n * @param {String|Number|Date} date - Input date\n * @returns {SfDate} - Salesforce date literal with ISO8601 date format\n */\nSfDate.toDateLiteral = function(date) {\n  if (_.isNumber(date)) {\n    date = new Date(date);\n  } else if (_.isString(date)) {\n    date = SfDate.parseDate(date);\n  }\n  var yy = date.getFullYear();\n  var mm = date.getMonth()+1;\n  var dd = date.getDate();\n  var dstr = [ yy, zeropad(mm), zeropad(dd) ].join(\"-\");\n  return new SfDate(dstr);\n};\n\n/**\n * Convert JavaScript date object to ISO8601 DateTime format\n * (e.g. 2012-10-31T12:34:56Z)\n *\n * @param {String|Number|Date} date - Input date\n * @returns {SfDate} - Salesforce date literal with ISO8601 datetime format\n */\nSfDate.toDateTimeLiteral = function(date) {\n  if (_.isNumber(date)) {\n    date = new Date(date);\n  } else if (_.isString(date)) {\n    date = SfDate.parseDate(date);\n  }\n  var yy = date.getUTCFullYear();\n  var mm = date.getUTCMonth()+1;\n  var dd = date.getUTCDate();\n  var hh = date.getUTCHours();\n  var mi = date.getUTCMinutes();\n  var ss = date.getUTCSeconds();\n  var dtstr =\n    [ yy, zeropad(mm), zeropad(dd) ].join(\"-\") + \"T\" +\n    [ zeropad(hh), zeropad(mi), zeropad(ss) ].join(\":\") + \"Z\";\n  return new SfDate(dtstr);\n};\n\n/**\n * Parse IS08601 date(time) formatted string and return date instance\n *\n * @param {String} str\n * @returns {Date}\n */\nSfDate.parseDate = function(str) {\n  var d = new Date();\n  var regexp = /^([\\d]{4})-?([\\d]{2})-?([\\d]{2})(T([\\d]{2}):?([\\d]{2}):?([\\d]{2})(.([\\d]{3}))?(Z|([\\+\\-])([\\d]{2}):?([\\d]{2})))?$/;\n  var m = str.match(regexp);\n  if (m) {\n    d = new Date(0);\n    if (!m[4]) {\n      d.setFullYear(parseInt(m[1], 10));\n      d.setDate(parseInt(m[3], 10));\n      d.setMonth(parseInt(m[2], 10) - 1);\n      d.setHours(0);\n      d.setMinutes(0);\n      d.setSeconds(0);\n      d.setMilliseconds(0);\n    } else {\n      d.setUTCFullYear(parseInt(m[1], 10));\n      d.setUTCDate(parseInt(m[3], 10));\n      d.setUTCMonth(parseInt(m[2], 10) - 1);\n      d.setUTCHours(parseInt(m[5], 10));\n      d.setUTCMinutes(parseInt(m[6], 10));\n      d.setUTCSeconds(parseInt(m[7], 10));\n      d.setUTCMilliseconds(parseInt(m[9] || '0', 10));\n      if (m[10] && m[10] !== 'Z') {\n        var offset = parseInt(m[12],10) * 60 + parseInt(m[13], 10);\n        d.setTime((m[11] === '+' ? -1 : 1) * offset * 60 * 1000 +d.getTime());\n      }\n    }\n    return d;\n  } else {\n    throw new Error(\"Invalid date format is specified : \" + str);\n  }\n};\n\n/*\n * Pre-defined Salesforce Date Literals\n */\nvar SfDateLiterals = {\n  YESTERDAY: 1,\n  TODAY: 1,\n  TOMORROW: 1,\n  LAST_WEEK: 1,\n  THIS_WEEK: 1,\n  NEXT_WEEK: 1,\n  LAST_MONTH: 1,\n  THIS_MONTH: 1,\n  NEXT_MONTH: 1,\n  LAST_90_DAYS: 1,\n  NEXT_90_DAYS: 1,\n  LAST_N_DAYS: 2,\n  NEXT_N_DAYS: 2,\n  NEXT_N_WEEKS: 2,\n  LAST_N_WEEKS: 2,\n  NEXT_N_MONTHS: 2,\n  LAST_N_MONTHS: 2,\n  THIS_QUARTER: 1,\n  LAST_QUARTER: 1,\n  NEXT_QUARTER: 1,\n  NEXT_N_QUARTERS: 2,\n  LAST_N_QUARTERS: 2,\n  THIS_YEAR: 1,\n  LAST_YEAR: 1,\n  NEXT_YEAR: 1,\n  NEXT_N_YEARS: 2,\n  LAST_N_YEARS: 2,\n  THIS_FISCAL_QUARTER: 1,\n  LAST_FISCAL_QUARTER: 1,\n  NEXT_FISCAL_QUARTER: 1,\n  NEXT_N_FISCAL_QUARTERS:2,\n  LAST_N_FISCAL_QUARTERS:2,\n  THIS_FISCAL_YEAR:1,\n  LAST_FISCAL_YEAR:1,\n  NEXT_FISCAL_YEAR:1,\n  NEXT_N_FISCAL_YEARS: 2,\n  LAST_N_FISCAL_YEARS: 2\n};\n\nfor (var literal in SfDateLiterals) {\n  var type = SfDateLiterals[literal];\n  SfDate[literal] =\n   type === 1 ? new SfDate(literal) : createLiteralBuilder(literal);\n}\n\n/** @private **/\nfunction createLiteralBuilder(literal) {\n  return function(num) { return new SfDate(literal + \":\" + num); };\n}\n\n},{\"underscore\":50}],10:[function(require,module,exports){\nvar inherits = require('inherits'),\n    events = require('events'),\n    _ = require('underscore'),\n    Promise = require('./promise');\n\n/**\n * HTTP based API class with authorization hook\n *\n * @constructor\n * @extends events.EventEmitter\n * @param {Connection} conn - Connection object\n * @param {Object} [options] - Http API Options\n * @param {String} [options.responseType] - Overriding content mime-type in response\n * @param {Transport} [options.transport] - Transport for http api\n * @param {Object} [options.noContentResponse] - Alternative response when no content returned in response (= HTTP 204)\n */\nvar HttpApi = function(conn, options) {\n  options = options || {};\n  this._conn = conn;\n  this.on('resume', function(err) { conn.emit('resume', err); });\n  this._responseType = options.responseType;\n  this._transport = options.transport || conn._transport;\n  this._noContentResponse = options.noContentResponse;\n};\n\ninherits(HttpApi, events.EventEmitter);\n\n/**\n * Callout to API endpoint using http\n *\n * @param {Object} request - Http Request object\n * @param {String} request.url - Endpoint URL to request\n * @param {String} request.method - Http method for request\n * @param {Object} [request.headers] - Http request headers in hash object\n * @param {Callback.<Object>} callback - Callback function\n * @returns {Promise.<Object>} - \n */\nHttpApi.prototype.request = function(request, callback) {\n  var self = this;\n  var conn = this._conn;\n  var logger = conn._logger;\n  var refreshDelegate = this.getRefreshDelegate();\n\n  var deferred = Promise.defer();\n\n  var onResume = function(err) {\n    if (err) {\n      deferred.reject(err);\n      return;\n    }\n    self.request(request).then(function(response) {\n      deferred.resolve(response);\n    }, function(err) {\n      deferred.reject(err);\n    });\n  };\n\n  if (refreshDelegate && refreshDelegate._refreshing) {\n    refreshDelegate.once('resume', onResume);\n    return deferred.promise.thenCall(callback);\n  }\n\n  // hook before sending\n  self.beforeSend(request);\n\n  self.emit('request', request);\n  logger.debug(\"<request> method=\" + request.method + \", url=\" + request.url);\n  var requestTime = Date.now();\n\n  return this._transport.httpRequest(request).then(function(response) {\n    var responseTime = Date.now();\n    logger.debug(\"elappsed time : \" + (responseTime - requestTime) + \"msec\");\n    logger.debug(\"<response> status=\" + response.statusCode + \", url=\" + request.url);\n\n    self.emit('response', response);\n    // Refresh token if session has been expired and requires authentication\n    // when session refresh delegate is available\n    if (self.isSessionExpired(response) && refreshDelegate) {\n      refreshDelegate.refresh(requestTime, onResume);\n      return deferred.promise;\n    }\n    if (self.isErrorResponse(response)) {\n      var err = self.getError(response);\n      throw err;\n    }\n    return self.getResponseBody(response);\n  }, function(err) {\n    var responseTime = Date.now();\n    logger.debug(\"elappsed time : \" + (responseTime - requestTime) + \"msec\");\n    logger.error(err);\n    throw err;\n  })\n  .thenCall(callback);\n};\n\n/**\n * @protected\n */\nHttpApi.prototype.getRefreshDelegate = function() {\n  return this._conn._refreshDelegate;\n};\n\n/**\n *\n * @protected\n */\nHttpApi.prototype.beforeSend = function(request) {\n  request.headers = request.headers || {};\n  if (this._conn.accessToken) {\n    request.headers.Authorization = \"Bearer \" + this._conn.accessToken;\n  }\n  if (this._conn.callOptions) {\n    var callOptions = [];\n    for (var name in this._conn.callOptions) {\n      callOptions.push(name + \"=\" + this._conn.callOptions[name]);\n    }\n    request.headers[\"Sforce-Call-Options\"] = callOptions.join(', ');\n  }\n};\n\n/**\n * Detect response content mime-type\n * @protected\n */\nHttpApi.prototype.getResponseContentType = function(response) {\n  return this._responseType || response.headers && response.headers[\"content-type\"];\n};\n\n/**\n *\n */\nHttpApi.prototype.parseResponseBody = function(response) {\n  var contentType = this.getResponseContentType(response);\n  var parseBody = /^(text|application)\\/xml(;|$)/.test(contentType) ? parseXML :\n         /^application\\/json(;|$)/.test(contentType) ? parseJSON :\n         /^text\\/csv(;|$)/.test(contentType) ? parseCSV :\n         parseText;\n  try {\n    return parseBody(response.body);\n  } catch(e) {\n    return response.body;\n  }\n};\n\n/**\n * Get response body\n * @protected\n */\nHttpApi.prototype.getResponseBody = function(response) {\n  if (response.statusCode === 204) { // No Content\n    return this._noContentResponse;\n  }\n  var body = this.parseResponseBody(response);\n  var err;\n  if (this.hasErrorInResponseBody(body)) {\n    err = this.getError(response, body);\n    throw err;\n  }\n  if (response.statusCode === 300) { // Multiple Choices\n    err = new Error('Multiple records found');\n    err.name = \"MULTIPLE_CHOICES\";\n    err.content = body;\n    throw err;\n  }\n  return body;\n};\n\n/** @private */\nfunction parseJSON(str) {\n  return JSON.parse(str);\n}\n\n/** @private */\nfunction parseXML(str) {\n  var ret = {};\n  require('xml2js').parseString(str, { explicitArray: false }, function(err, result) {\n    ret = { error: err, result : result };\n  });\n  if (ret.error) { throw ret.error; }\n  return ret.result;\n}\n\n/** @private */\nfunction parseCSV(str) {\n  return require('./csv').parseCSV(str);\n}\n\n/** @private */\nfunction parseText(str) { return str; }\n\n\n/**\n * Detect session expiry\n * @protected\n */\nHttpApi.prototype.isSessionExpired = function(response) {\n  return response.statusCode === 401;\n};\n\n/**\n * Detect error response\n * @protected\n */\nHttpApi.prototype.isErrorResponse = function(response) {\n  return response.statusCode >= 400;\n};\n\n/**\n * Detect error in response body\n * @protected\n */\nHttpApi.prototype.hasErrorInResponseBody = function(body) {\n  return false;\n};\n\n/**\n * Parsing error message in response\n * @protected\n */\nHttpApi.prototype.parseError = function(body) {\n  var errors = body;\n  return _.isArray(errors) ? errors[0] : errors;\n};\n\n/**\n * Get error message in response\n * @protected\n */\nHttpApi.prototype.getError = function(response, body) {\n  var error;\n  try {\n    error = this.parseError(body || this.parseResponseBody(response));\n  } catch(e) {}\n  error = _.isObject(error) && _.isString(error.message) ? error : {\n    errorCode: 'ERROR_HTTP_' + response.statusCode,\n    message : response.body\n  };\n  var err = new Error(error.message);\n  err.name = error.errorCode;\n  for (var key in error) { err[key] = error[key]; }\n  return err;\n};\n\n/*-------------------------------------------------------------------------*/\n\n/**\n * @protected\n */\nvar SessionRefreshDelegate = function(conn, refreshFn) {\n  this._conn = conn;\n  this._refreshFn = refreshFn;\n  this._refreshing = false;\n};\n\ninherits(SessionRefreshDelegate, events.EventEmitter);\n\n/**\n * Refresh access token\n * @private\n */\nSessionRefreshDelegate.prototype.refresh = function(since, callback) {\n  // Callback immediately When refreshed after designated time\n  if (this._lastRefreshedAt > since) { return callback(); }\n  var self = this;\n  var conn = this._conn;\n  var logger = conn._logger;\n  self.once('resume', callback);\n  if (self._refreshing) { return; }\n  logger.debug(\"<refresh token>\");\n  self._refreshing = true;\n  return self._refreshFn(conn, function(err, accessToken, res) {\n    if (!err) {\n      logger.debug(\"Connection refresh completed. Refreshed access token = \" + accessToken);\n      conn.accessToken = accessToken;\n      conn.emit(\"refresh\", accessToken, res);\n    }\n    self._lastRefreshedAt = Date.now();\n    self._refreshing = false;\n    self.emit('resume', err);\n  });\n};\n\n\n/**\n *\n */\nHttpApi.SessionRefreshDelegate = SessionRefreshDelegate;\nmodule.exports = HttpApi;\n},{\"./csv\":8,\"./promise\":15,\"events\":28,\"inherits\":35,\"underscore\":50,\"xml2js\":53}],11:[function(require,module,exports){\n/* global process */\n/**\n * @file JSforce API root object\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nexports.Connection = require('./connection');\nexports.OAuth2 = require('./oauth2');\nexports.Date = exports.SfDate = require(\"./date\");\nexports.RecordStream = require('./record-stream');\n\n},{\"./connection\":6,\"./date\":9,\"./oauth2\":13,\"./record-stream\":18}],12:[function(require,module,exports){\n/**\n * @protected\n * @class\n * @constructor\n * @param {String|Number} logLevel - Log level\n */\nvar Logger = module.exports = function(logLevel) {\n  if (typeof logLevel === 'string') {\n    logLevel = LogLevels[logLevel];\n  }\n  if (!logLevel) {\n    logLevel = LogLevels.INFO;\n  }\n  this._logLevel = logLevel;\n};\n\n/**\n * @memberof Logger\n */\nvar LogLevels = Logger.LogLevels = {\n  \"DEBUG\" : 1,\n  \"INFO\" : 2,\n  \"WARN\" : 3,\n  \"ERROR\" : 4,\n  \"FATAL\" : 5\n};\n\n/**\n * Output log\n *\n * @param {String} level - Logging target level\n * @param {String} message - Message to log\n */\nLogger.prototype.log = function(level, message) {\n  if (this._logLevel <= level) {\n    if (level < LogLevels.ERROR) {\n      console.log(message);\n    } else {\n      console.error(message);\n    }\n  }\n};\n\nfor (var level in LogLevels) {\n  Logger.prototype[level.toLowerCase()] = createLoggerFunction(LogLevels[level]);\n}\n\nfunction createLoggerFunction(level) {\n  return function(message) { this.log(level, message); };\n}\n\n},{}],13:[function(require,module,exports){\n/**\n * @file Manages Salesforce OAuth2 operations\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar querystring = require('querystring'),\n    _ = require('underscore'),\n    Transport = require('./transport');\n\nvar defaults = {\n  loginUrl : \"https://login.salesforce.com\"\n};\n\n/**\n * OAuth2 class\n *\n * @class\n * @constructor\n * @param {Object} options - OAuth2 config options\n * @param {String} [options.loginUrl] - Salesforce login server URL\n * @param {String} [options.authzServiceUrl] - OAuth2 authorization service URL. If not specified, it generates from default by adding to login server URL.\n * @param {String} [options.tokenServiceUrl] - OAuth2 token service URL. If not specified it generates from default by adding to login server URL.\n * @param {String} options.clientId - OAuth2 client ID.\n * @param {String} options.clientSecret - OAuth2 client secret.\n * @param {String} options.redirectUri - URI to be callbacked from Salesforce OAuth2 authorization service.\n */\nvar OAuth2 = module.exports = function(options) {\n  if (options.authzServiceUrl && options.tokenServiceUrl) {\n    this.loginUrl = options.authzServiceUrl.split('/').slice(0, 3).join('/');\n    this.authzServiceUrl = options.authzServiceUrl;\n    this.tokenServiceUrl = options.tokenServiceUrl;\n    this.revokeServiceUrl = options.revokeServiceUrl;\n  } else {\n    this.loginUrl = options.loginUrl || defaults.loginUrl;\n    this.authzServiceUrl = this.loginUrl + \"/services/oauth2/authorize\";\n    this.tokenServiceUrl = this.loginUrl + \"/services/oauth2/token\";\n    this.revokeServiceUrl = this.loginUrl + \"/services/oauth2/revoke\";\n  }\n  this.clientId = options.clientId;\n  this.clientSecret = options.clientSecret;\n  this.redirectUri = options.redirectUri;\n  this._transport =\n    options.proxyUrl ? new Transport.ProxyTransport(options.proxyUrl) : new Transport();\n};\n\n\n\n/**\n *\n */\n_.extend(OAuth2.prototype, /** @lends OAuth2.prototype **/ {\n  \n  /**\n   * Get Salesforce OAuth2 authorization page URL to redirect user agent.\n   *\n   * @param {Object} params - Parameters\n   * @param {String} params.scope - Scope values in space-separated string\n   * @param {String} params.state - State parameter\n   * @returns {String} Authorization page URL\n   */\n  getAuthorizationUrl : function(params) {\n    params = _.extend({\n      response_type : \"code\",\n      client_id : this.clientId,\n      redirect_uri : this.redirectUri\n    }, params || {});\n    return this.authzServiceUrl + \n      (this.authzServiceUrl.indexOf('?') >= 0 ? \"&\" : \"?\") + \n      querystring.stringify(params);\n  },\n\n  /**\n   * @typedef TokenResponse\n   * @type {Object}\n   * @property {String} access_token\n   * @property {String} refresh_token\n   */\n\n  /**\n   * OAuth2 Refresh Token Flow\n   * \n   * @param {String} refreshToken - Refresh token\n   * @param {Callback.<TokenResponse>} [callback] - Callback function\n   * @returns {Promise.<TokenResponse>}\n   */\n  refreshToken : function(refreshToken, callback) {\n    return this._postParams({\n      grant_type : \"refresh_token\",\n      refresh_token : refreshToken,\n      client_id : this.clientId,\n      client_secret : this.clientSecret\n    }, callback);\n  },\n\n  /**\n   * OAuth2 Web Server Authentication Flow (Authorization Code)\n   * Access Token Request\n   *\n   * @param {String} code - Authorization code\n   * @param {Callback.<TokenResponse>} [callback] - Callback function\n   * @returns {Promise.<TokenResponse>}\n   */\n  requestToken : function(code, callback) {\n    return this._postParams({\n      grant_type : \"authorization_code\",\n      code : code,\n      client_id : this.clientId,\n      client_secret : this.clientSecret,\n      redirect_uri : this.redirectUri\n    }, callback);\n  },\n\n  /**\n   * OAuth2 Username-Password Flow (Resource Owner Password Credentials)\n   *\n   * @param {String} username - Salesforce username\n   * @param {String} password - Salesforce password \n   * @param {Callback.<TokenResponse>} [callback] - Callback function\n   * @returns {Promise.<TokenResponse>}\n   */\n  authenticate : function(username, password, callback) {\n    return this._postParams({\n      grant_type : \"password\",\n      username : username,\n      password : password,\n      client_id : this.clientId,\n      client_secret : this.clientSecret,\n      redirect_uri : this.redirectUri\n    }, callback);\n  },\n\n  /**\n   * OAuth2 Revoke Session Token\n   *\n   * @param {String} accessToken - Access token to revoke\n   * @param {Callback.<undefined>} [callback] - Callback function\n   * @returns {Promise.<undefined>}\n   */\n  revokeToken : function(accessToken, callback) {\n    return this._transport.httpRequest({\n      method : 'POST',\n      url : this.revokeServiceUrl,\n      body: querystring.stringify({ token: accessToken }),\n      headers: {\n        \"content-type\" : \"application/x-www-form-urlencoded\"\n      }\n    }).then(function(response) {\n      if (response.statusCode >= 400) {\n        var res = querystring.parse(response.body);\n        if (!res || !res.error) {\n          res = { error: \"ERROR_HTTP_\"+response.statusCode, error_description: response.body };\n        }\n        var err = new Error(res.error_description);\n        err.name = res.error;\n        throw err;\n      }\n    }).thenCall(callback);\n  },\n\n  /**\n   * @private\n   */\n  _postParams : function(params, callback) {\n    return this._transport.httpRequest({\n      method : 'POST',\n      url : this.tokenServiceUrl,\n      body : querystring.stringify(params),\n      headers : {\n        \"content-type\" : \"application/x-www-form-urlencoded\"\n      }\n    }).then(function(response) {\n      var res;\n      try {\n        res = JSON.parse(response.body);\n      } catch(e) {}\n      if (response.statusCode >= 400) {\n        res = res || { error: \"ERROR_HTTP_\"+response.statusCode, error_description: response.body };\n        var err = new Error(res.error_description);\n        err.name = res.error;\n        throw err;\n      }\n      return res;\n    }).thenCall(callback);\n  }\n\n});\n\n},{\"./transport\":22,\"querystring\":32,\"underscore\":50}],14:[function(require,module,exports){\n/**\n * @file Process class to manage/run workflow rule and approval process\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _ = require('underscore'),\n    Promise = require('./promise'),\n    Conneciton = require('./connection');\n\n/**\n * A class which manages process rules and approval processes\n *\n * @class\n * @param {Connection} conn - Connection object\n */\nvar Process = module.exports = function(conn) {\n  /**\n   * Object which mangages process rules\n   * @member {Process~ProcessRule} Process#rule\n   */\n  this.rule = new ProcessRule(conn);\n  /**\n   * Object which mangages approval process\n   * @member {Process~ApprovalProcess} Process#approval\n   */\n  this.approval = new ApprovalProcess(conn);\n};\n\n/**\n * A class which manages process (workflow) rules\n * \n * @class Process~ProcessRule\n * @param {Connection} conn - Connection object\n */\nvar ProcessRule = function(conn) {\n  this._conn = conn;\n};\n\n/**\n * @typedef {Object} Process~ProcessRuleDefinition\n * @prop {String} id - Id of approval process definition\n * @prop {String} name - Name of process rule definition\n * @prop {String} object - SObject name which process rule is defined\n */\n\n/**\n * Get all process rule definitions registered to sobjects\n *\n * @method Process~ProcessRule#list\n * @param {Callback.<Map.<String, Array.<Process~ProcessRuleDefinition>>>} [callback] - Callback function\n * @returns {Promise.<Map.<String, Array.<Process~ProcessRuleDefinition>>>}\n */\nProcessRule.prototype.list = function(callback) {\n  return this._conn.request(\"/process/rules\").then(function(res) {\n    return res.rules;\n  }).thenCall(callback);\n};\n\n\n/**\n * @typedef {Object} Process~ProcessRuleTriggerResult\n * @prop {Boolean} success - Is process rule trigger succeeded or not\n * @prop {Array.<Object>} errors - Array of errors returned if the request failed\n */\n\n/**\n * Trigger process rule for given entities\n *\n * @method Process~ProcessRule#trigger\n * @param {String|Array.<String>} contextIds - Entity ID(s) to trigger workflow process\n * @param {Callback.<Process~ProcessRuleTriggerResult>} [callback] - Callback function\n * @returns {Promise.<Process~ProcessRuleTriggerResult>}\n */\nProcessRule.prototype.trigger = function(contextIds, callback) {\n  contextIds = _.isArray(contextIds) ? contextIds : [ contextIds ];\n  return this._conn.request({\n    method: \"POST\",\n    url: \"/process/rules/\",\n    body: JSON.stringify({\n      contextIds: contextIds\n    }),\n    headers: {\n      \"content-type\": \"application/json\"\n    }\n  }).thenCall(callback);\n};\n\n/**\n * A class which manages approval processes\n * \n * @class Process~ApprovalProcess\n * @param {Connection} conn - Connection object\n */\nvar ApprovalProcess = function(conn) {\n  this._conn = conn;\n};\n\n/**\n * @typedef {Object} Process~ApprovalProcessDefinition\n * @prop {String} id - Id of approval process definition\n * @prop {String} name - Name of approval process definition\n * @prop {String} object - SObject name which approval process is defined\n * @prop {Number} sortOrder - Processing order of approval in SObject \n */\n/**\n * Get all approval process definitions registered to sobjects\n *\n * @method Process~ApprovalProcess#list\n * @param {Callback.<Map.<String, Array.<ApprovalProcessDefinition>>>} [callback] - Callback function\n * @returns {Promise.<Map.<String, Array.<ApprovalProcessDefinition>>>}\n */\nApprovalProcess.prototype.list = function(callback) {\n  return this._conn.request(\"/process/approvals\").then(function(res) {\n    return res.approvals;\n  }).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Process~ApprovalProcessRequestResult\n * @prop {Boolean} success - True if processing or approval completed successfully\n * @prop {Array.<Object>} errors - The set of errors returned if the request failed\n * @prop {Array.<String>} actorIds - IDs of the users who are currently assigned to this approval step\n * @prop {String} entityId - Object being processed\n * @prop {String} instanceId - ID of the ProcessInstance associated with the object submitted for processing\n * @prop {String} instanceStatus - Status of the current process instance (not an individual object but the entire process instance)\n * @prop {Array.<String>} newWorkItemIds - Case-insensitive IDs that point to ProcessInstanceWorkitem items (the set of pending approval requests)\n */\n\n/**\n * Send bulk requests for approval process\n *\n * @method Process~ApprovalProcess#request\n * @param {Array.<ApprovalProcessRequest>} requests - Array of approval process request to send\n * @param {Callback.<Array.<ApprovalProcessRequestResult>>} - Callback function\n * @param {Promise.<Array.<ApprovalProcessRequestResult>>}\n */\nApprovalProcess.prototype.request = function(requests, callback) {\n  requests = requests.map(function(req) {\n    return req._request ? req._request : req;\n  });\n  return this._conn.request({\n    method: 'POST',\n    url: '/process/approvals',\n    headers: { \"content-type\": \"application/json\" },\n    body: JSON.stringify({ requests: requests })\n  }).thenCall(callback);\n};\n\n/**\n * Create approval process request\n *\n * @private\n */\nApprovalProcess.prototype._createRequest = function(actionType, contextId, comments, options, callback) {\n  if (typeof comments === \"function\") {\n    callback = comments;\n    options = null;\n    comments = null;\n  }\n  if (typeof options === \"function\") {\n    callback = options;\n    options = null;\n  }\n  options = options || {};\n  var request = {\n    actionType: actionType,\n    contextId: contextId,\n    comments: comments\n  };\n  _.extend(request, options);\n  return new ApprovalProcessRequest(this, request).thenCall(callback);\n};\n\n/**\n * Submit approval request for an item\n *\n * @method Process~ApprovalProcess#submit\n * @param {String} contextId - ID of the item that is being acted upon\n * @param {String} [comments] - Comment to add to the history step associated with this request\n * @param {Object} [options] - Request parameters\n * @param {Array.<String>} [options.nextApproverIds] - If the process requires specification of the next approval, the ID of the user to be assigned the next request\n * @param {String} [options.processDefinitionNameOrId] - Developer name or ID of the process definition\n * @param {Boolean} [options.skipEntryCriteria] - Determines whether to evaluate the entry criteria for the process (true) or not (false) if the process definition name or ID isn’t null\n * @param {Callback.<ApprovalProcessRequestResult>} [callback] - Callback function\n * @returns {ApprovalProcessRequest}\n */\nApprovalProcess.prototype.submit = function(contextId, comments, options, callback) {\n  return this._createRequest(\"Submit\", contextId, comments, options, callback);\n};\n\n/**\n * Approve approval request for an item\n *\n * @method Process~ApprovalProcess#approve\n * @param {String} workitemId - ID of the item that is being acted upon\n * @param {String} [comments] - Comment to add to the history step associated with this request\n * @param {Object} [options] - Request parameters\n * @param {Array.<String>} [options.nextApproverIds] - If the process requires specification of the next approval, the ID of the user to be assigned the next request\n * @param {String} [options.processDefinitionNameOrId] - Developer name or ID of the process definition\n * @param {Boolean} [options.skipEntryCriteria] - Determines whether to evaluate the entry criteria for the process (true) or not (false) if the process definition name or ID isn’t null\n * @param {Callback.<ApprovalProcessRequestResult>} [callback] - Callback function\n * @returns {ApprovalProcessRequest}\n */\nApprovalProcess.prototype.approve = function(workitemId, comments, options, callback) {\n  return this._createRequest(\"Approve\", workitemId, comments, options, callback);\n};\n\n/**\n * Reject approval request for an item\n *\n * @method Process~ApprovalProcess#reject\n * @param {String} workitemId - ID of the item that is being acted upon\n * @param {String} [comments] - Comment to add to the history step associated with this request\n * @param {Object} [options] - Request parameters\n * @param {Array.<String>} [options.nextApproverIds] - If the process requires specification of the next approval, the ID of the user to be assigned the next request\n * @param {String} [options.processDefinitionNameOrId] - Developer name or ID of the process definition\n * @param {Boolean} [options.skipEntryCriteria] - Determines whether to evaluate the entry criteria for the process (true) or not (false) if the process definition name or ID isn’t null\n * @param {Callback.<ApprovalProcessRequestResult>} [callback] - Callback function\n * @returns {ApprovalProcessRequest}\n */\nApprovalProcess.prototype.reject = function(workitemId, comments, options, callback) {\n  return this._createRequest(\"Reject\", workitemId, comments, options, callback);\n};\n\n/**\n * A class representing approval process request\n *\n * @protected\n * @class Process~ApprovalProcessRequest\n * @implements {Promise.<Processr~ApprovalProcessRequestResult}\n * @param {Process~ApprovalProcess} process - ApprovalProcess\n * @param {Object} request - Request parameters\n * @param {String} request.actionType - Represents the kind of action to take: Submit, Approve, or Reject\n * @param {String} request.contextId - ID of the item that is being acted upon\n * @param {String} request.comments - Comment to add to the history step associated with this request\n * @param {Array.<String>} [request.nextApproverIds] - If the process requires specification of the next approval, the ID of the user to be assigned the next request\n * @param {String} [request.processDefinitionNameOrId] - Developer name or ID of the process definition\n * @param {Boolean} [request.skipEntryCriteria] - Determines whether to evaluate the entry criteria for the process (true) or not (false) if the process definition name or ID isn’t null\n */\nvar ApprovalProcessRequest = function(process, request) {\n  this._process = process;\n  this._request = request;\n};\n\n/**\n * Promise/A+ interface\n * http://promises-aplus.github.io/promises-spec/\n *\n * @method Process~ApprovalProcessRequest#then\n */\nApprovalProcessRequest.prototype.then = function(onResolve, onReject) {\n  if (!this._promise) {\n    this._promise = this._process.request([ this ]).then(function(rets) {\n      return rets[0];\n    });\n  }\n  this._promise.then(onResolve, onReject);\n};\n\n/**\n * Promise/A+ extension\n * Call \"then\" using given node-style callback function\n *\n * @method Process~ApprovalProcessRequest#thenCall\n */\nApprovalProcessRequest.prototype.thenCall = function(callback) {\n  return callback ? this.then(function(res) {\n    callback(null, res);\n  }, function(err) {\n    callback(err);\n  }) :\n  this;\n};\n\n},{\"./connection\":6,\"./promise\":15,\"underscore\":50}],15:[function(require,module,exports){\n(function (process){\n/*global process*/\nvar Q = require('q'),\n    _ = require('underscore')._;\n\n/**\n * Promises/A+ spec compliant class, with a little extension\n * http://promises-aplus.github.io/promises-spec/\n *\n * @class Promise\n * @constructor\n * @param {Promise.<T>|T} o - Object to wrap with promise\n * @template T\n */\nvar Promise = function(o) {\n  this._promise = Q(o);\n};\n\n/**\n * @callback FulfilledCallback\n * @param {T} result - Fulfilled value\n * @returns {S}\n * @template T,S\n */\n\n/**\n * @callback RejectedCallback\n * @param {Error} reason - Rejected reason\n * @returns {S}\n * @template S\n */\n\n/**\n * The \"then\" method from the Promises/A+ specification\n *\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\n * @param {RejectedCallback.<S2>} [onRejected]\n * @returns {Promise.<S1|S2>}\n */\nPromise.prototype.then = function() {\n  // Delegate Q promise implementation and wrap by our Promise instance\n  return new Promise(this._promise.then.apply(this._promise, arguments));\n};\n\n/**\n * Call \"then\" using given node-style callback function\n *\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Promise}\n */\nPromise.prototype.thenCall = function(callback) {\n  if (_.isFunction(callback)) {\n    this.then(function(res) {\n      process.nextTick(function() {\n        callback(null, res);\n      });\n    }, function(err) {\n      process.nextTick(function() {\n        callback(err);\n      });\n    });\n  }\n  return this;\n};\n\n/**\n * A sugar method, equivalent to promise.then(undefined, onRejected).\n *\n * @param {RejectedCallback.<S>} onRejected\n * @returns {Promise.<S>}\n */\nPromise.prototype.fail = function() {\n  return new Promise(this._promise.fail.apply(this._promise, arguments));\n};\n\n/**\n * Alias for completion\n *\n * @param {FulfilledCallback.<T, S>} [onFulfilled]\n * @returns {Promise.<S>}\n */\nPromise.prototype.done = function() {\n  return new Promise(this._promise.done.apply(this._promise, arguments));\n};\n\n/**\n * @param {...Promise.<*>} p\n */\nPromise.when = function() {\n  return new Promise(Q.when.apply(Q, arguments));\n};\n\n/**\n * Returns rejecting promise with given reason\n *\n * @param {Error} reason - Rejecting reason\n * @returns {Promise}\n */\nPromise.reject = function(reason) {\n  return new Promise(Q.reject(reason));\n};\n\n/**\n * Returns a promise that is fulfilled with an array containing the fulfillment value of each promise, \n * or is rejected with the same rejection reason as the first promise to be rejected.\n *\n * @param {Array.<Promise.<*>|*>} promises\n * @returns {Promise.<Array.<*>>}\n */\nPromise.all = function() {\n  return new Promise(Q.all.apply(Q, arguments));\n};\n\n/**\n * Returns a deferred object\n *\n * @returns {Deferred}\n */\nPromise.defer = function() {\n  return new Deferred();\n};\n\n/**\n * Deferred object\n *\n * @protected\n * @constructor\n */\nvar Deferred = function() {\n  this._deferred = Q.defer();\n  this.promise = new Promise(this._deferred.promise);\n};\n\n/**\n * Resolve promise\n * @param {*} result - Resolving result\n */\nDeferred.prototype.resolve = function() {\n  return this._deferred.resolve.apply(this._promise, arguments);\n};\n\n/**\n * Reject promise\n * @param {Error} error - Rejecting reason\n */\nDeferred.prototype.reject = function() {\n  return this._deferred.reject.apply(this._promise, arguments);\n};\n\n/**\n *\n */\nmodule.exports = Promise;\n\n}).call(this,require('_process'))\n},{\"_process\":29,\"q\":36,\"underscore\":50}],16:[function(require,module,exports){\n(function (process){\n/*global process*/\n/**\n * @file Manages query for records in Salesforce \n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar inherits = require('inherits'),\n    events = require('events'),\n    _      = require('underscore')._,\n    Q      = require('q'),\n    Promise = require('./promise'),\n    SfDate = require(\"./date\"),\n    SOQLBuilder = require(\"./soql-builder\"),\n    RecordStream = require(\"./record-stream\");\n\n/**\n * Query (extends RecordStream implements Receivable)\n *\n * @protected\n * @class\n * @extends RecordStream\n * @implements Promise.<T>\n * @template T\n * @param {Connection} conn - Connection object\n * @param {Object|String} config - Query config object or SOQL string\n * @param {String} [locator] - Locator string to fetch next record set\n */\nvar Query = module.exports = function(conn, config, locator) {\n  Query.super_.apply(this);\n  this.receivable = true;\n\n  this._conn = conn;\n  if (config) {\n    if (_.isString(config)) { // if query config is string, it is given in SOQL.\n      this._soql = config;\n    } else {\n      this._config = config;\n      this.select(config.fields);\n      if (config.includes) {\n        this.include(config.includes);\n      }\n    }\n  }\n  if (locator && locator.indexOf(\"/\") >= 0) { // if locator given in url for next records\n    locator = locator.split(\"/\").pop();\n  }\n  this._locator = locator;\n  this._buffer = [];\n  this._paused = true;\n  this._closed = false;\n\n  this._deferred = Q.defer();\n};\n\ninherits(Query, RecordStream);\n\n/**\n * Select fields to include in the returning result\n * \n * @param {Object|Array.<String>|String} fields - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @returns {Query.<T>}\n */\nQuery.prototype.select = function(fields) {\n  if (this._soql) {\n    throw Error(\"Cannot set select fields for the query which has already built SOQL.\");\n  }\n  fields = fields || '*';\n  if (_.isString(fields)) {\n    fields = fields.split(/\\s*,\\s*/);\n  } else if (_.isObject(fields) && !_.isArray(fields)) {\n    var _fields =  [];\n    for (var k in fields) {\n      if (fields[k]) { _fields.push(k); }\n    }\n    fields = _fields;\n  }\n  this._config.fields = fields;\n  return this;\n};\n\n/**\n * Set query conditions to filter the result records\n *\n * @param {Object|String} conditions - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @returns {Query.<T>}\n */\nQuery.prototype.where = function(conditions) {\n  if (this._soql) {\n    throw Error(\"Cannot set where conditions for the query which has already built SOQL.\");\n  }\n  this._config.conditions = conditions;\n  return this;\n};\n\n/**\n * Limit the returning result\n *\n * @param {Number} limit - Maximum number of records the query will return.\n * @returns {Query.<T>}\n */\nQuery.prototype.limit = function(limit) {\n  if (this._soql) {\n    throw Error(\"Cannot set limit for the query which has already built SOQL.\");\n  }\n  this._config.limit = limit;\n  return this;\n};\n\n/**\n * Synonym of Query#skip()\n *\n * @method Query#offset\n * @param {Number} offset - Offset number where begins returning results.\n * @returns {Query.<T>}\n */\n/**\n * Skip records\n *\n * @method Query#offset\n * @param {Number} offset - Offset number where begins returning results.\n * @returns {Query.<T>}\n */\nQuery.prototype.skip =\nQuery.prototype.offset = function(offset) {\n  if (this._soql) {\n    throw Error(\"Cannot set skip/offset for the query which has already built SOQL.\");\n  }\n  this._config.offset = offset;\n  return this;\n};\n\n/**\n * Synonym of Query#sort()\n *\n * @memthod Query#orderby\n * @param {String|Object} sort - Sorting field or hash object with field name and sord direction\n * @param {String|Number} [dir] - Sorting direction (ASC|DESC|1|-1)\n * @returns {Query.<T>}\n */\n/**\n * Set query sort with direction\n *\n * @method Query#sort\n * @param {String|Object} sort - Sorting field or hash object with field name and sord direction\n * @param {String|Number} [dir] - Sorting direction (ASC|DESC|1|-1)\n * @returns {Query.<T>}\n */\nQuery.prototype.sort =\nQuery.prototype.orderby = function(sort, dir) {\n  if (this._soql) {\n    throw Error(\"Cannot set sort for the query which has already built SOQL.\");\n  }\n  if (_.isString(sort) && _.isString(dir)) {\n    sort = [ [ sort, dir ] ];\n  }\n  this._config.sort = sort;\n  return this;\n};\n\n/**\n * Include child relationship query\n *\n * @param {String} childRelName - Child relationship name to include in query result\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @param {Object} [options] - Query options.\n * @param {Number} [options.limit] - Maximum number of records the query will return.\n * @param {Number} [options.offset] - Offset number where begins returning results.\n * @param {Number} [options.skip] - Synonym of options.offset.\n * @returns {Query~SubQuery}\n */\nQuery.prototype.include = function(childRelName, conditions, fields, options) {\n  if (this._soql) {\n    throw Error(\"Cannot include child relationship into the query which has already built SOQL.\");\n  }\n  if (_.isObject(childRelName)) {\n    var includes = childRelName;\n    for (var crname in includes) {\n      var config = includes[crname];\n      this.include(crname, config.conditions, config.fields, config);\n    }\n    return;\n  }\n  var childConfig = {\n    table: childRelName,\n    conditions: conditions,\n    fields: fields,\n    limit: options && options.limit,\n    offset: options && (options.offset || options.skip)\n  };\n  this._config.includes = this._config.includes || [];\n  this._config.includes.push(childConfig);\n  var childQuery = new SubQuery(this._conn, this, childConfig);\n  this._children = this._children || [];\n  this._children.push(childQuery);\n  return childQuery;\n};\n\n\n/** @private **/\nQuery.prototype._maxFetch = 10000;\n/**\n * Setting maxFetch query option\n *\n * @param {Number} maxFetch - Max fetching records in auto fetch mode\n * @returns {Query.<T>}\n */\nQuery.prototype.maxFetch = function(maxFetch) {\n  this._maxFetch = maxFetch;\n  return this;\n};\n\n/** @private **/\nQuery.prototype._autoFetch = false;\n/**\n * Switching auto fetch mode\n *\n * @param {Boolean} autoFetch - Using auto fetch mode or not\n * @returns {Query.<T>}\n */\nQuery.prototype.autoFetch = function(autoFetch) {\n  this._autoFetch = autoFetch;\n  return this;\n};\n\n/** @private **/\nQuery.prototype._scanAll = false;\n/**\n * Set flag to scan all records including deleted and archived.\n *\n * @param {Boolean} scanAll - Flag whether include deleted/archived record or not. Default is false.\n * @returns {Query.<T>}\n */\nQuery.prototype.scanAll = function(scanAll) {\n  this._scanAll = scanAll;\n  return this;\n};\n\n/**\n * @private\n */\nvar ResponseTargets = Query.ResponseTargets = {};\n[ \"QueryResult\", \"Records\", \"SingleRecord\", \"Count\" ].forEach(function(f) {\n  ResponseTargets[f] = f;\n});\n\n/** @private **/\nQuery.prototype._responseTarget = ResponseTargets.QueryResult;\n/**\n * @protected\n * @param {String} responseTarget - Query response target\n * @returns {Query.<S>}\n */\nQuery.prototype.setResponseTarget = function(responseTarget) {\n  if (responseTarget in ResponseTargets) {\n    this._responseTarget = responseTarget;\n  }\n  return this;\n};\n\n\n/**\n * Pause record fetch\n * @override\n */\nQuery.prototype.pause = function() {\n  this._paused = true;\n};\n\n/**\n * Resume record fetch and query execution\n * @override\n */\nQuery.prototype.resume = function() {\n  if (this._closed) {\n    throw new Error(\"resuming already closed stream\");\n  }\n  if (!this._paused) { \n    return;\n  } // do nothing if not paused\n  this._paused = false;\n  while (!this._paused && this._buffer.length > 0) {\n    if (this.totalFetched >= this._maxFetch) {\n      this.close();\n      return;\n    }\n    var record = this._buffer.shift();\n    this.emit('record', record, this.totalFetched++, this);\n  }\n  if (!this._paused) {\n    if (this._finished) {\n      this.close();\n    } else {\n      this.execute({ autoFetch : true });\n    }\n  }\n};\n\n/**\n * Closing query. No operation for query is allowed after closing.\n */\nQuery.prototype.close = function() {\n  this.pause();\n  this._closed = true;\n  this.emit('end', this);\n};\n\n/**\n * Synonym of Query#execute()\n *\n * @method Query#run\n * @param {Object} [options] - Query options\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\n * @param {Boolean} [options.scanAll] - Including deleted records for query target or not\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Query.<T>}\n */\nQuery.prototype.run = \n/**\n * Synonym of Query#execute()\n *\n * @method Query#exec\n * @param {Object} [options] - Query options\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\n * @param {Boolean} [options.scanAll] - Including deleted records for query target or not\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Query.<T>}\n */\nQuery.prototype.exec = \n/**\n * Execute query and fetch records from server.\n *\n * @method Query#execute\n * @param {Object} [options] - Query options\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\n * @param {Boolean} [options.scanAll] - Including deleted records for query target or not\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Query.<T>}\n */\nQuery.prototype.execute = function(options, callback) {\n  var self = this;\n  var logger = this._conn._logger;\n  var deferred = this._deferred;\n\n  if (this._closed) {\n    deferred.reject(new Error(\"executing already closed query\"));\n    return this;\n  }\n  this._paused = false; // mark pause flag to false\n\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  options = {\n    responseTarget: options.responseTarget || self._responseTarget,\n    autoFetch: options.autoFetch || self._autoFetch,\n    maxFetch: options.maxFetch || self._maxFetch,\n    scanAll: options.scanAll || self._scanAll\n  };\n\n  // callback and promise resolution;\n  var promiseCallback = function(err, res) {\n    if (_.isFunction(callback)) {\n      try {\n        res = callback(err, res);\n        err = null;\n      } catch(e) {\n        err = e;\n      }\n    }\n    if (err) {\n      deferred.reject(err);\n    } else {\n      deferred.resolve(res);\n    }\n  };\n  this.once('response', function(res) {\n    promiseCallback(null, res);\n  });\n  this.once('error', function(err) {\n    promiseCallback(err);\n  });\n\n  // collect fetched records in array\n  // only when response target is Records and\n  // either callback or chaining promises are available to this query.\n  this.once('fetch', function() {\n    if (options.responseTarget === ResponseTargets.Records && (self._chaining || callback)) {\n      logger.debug('--- collecting all fetched records ---');\n      var records = [];\n      var onRecord = function(record) { records.push(record); };\n      self.on('record', onRecord);\n      self.once('end', function() {\n        self.removeListener('record', onRecord);\n        self.emit('response', records, self);\n      });\n    }\n  });\n\n  // start actual query\n  logger.debug('>>> Query start >>>');\n  this._execute(options).then(function() {\n    logger.debug('*** Query finished ***');\n  }).fail(function(err) {\n    logger.debug('--- Query error ---');\n    self.emit('error', err);\n  });\n\n  // return Query instance for chaining\n  return this;\n};\n\n/**\n * @private\n */\nQuery.prototype._execute = function(options) {\n  var self = this;\n  var logger = this._conn._logger;\n  var responseTarget = options.responseTarget;\n  var autoFetch = options.autoFetch;\n  var maxFetch = options.maxFetch;\n  var scanAll = options.scanAll;\n\n  return new Promise(\n    self._locator ?\n    self._conn._baseUrl() + \"/query/\" + self._locator :\n    self.toSOQL().then(function(soql) {\n      self.totalFetched = 0;\n      logger.debug(\"SOQL = \" + soql);\n      return self._conn._baseUrl() + \"/\" + (scanAll ? \"queryAll\" : \"query\") + \"?q=\" + encodeURIComponent(soql);\n    })\n  ).then(function(url) {\n    return self._conn.request(url);\n  }).then(function(data) {\n    self.emit(\"fetch\");\n    self.totalSize = data.totalSize;\n    var res;\n    switch(responseTarget) {\n      case ResponseTargets.SingleRecord:\n        res = data.records && data.records.length > 0 ? data.records[0] : null;\n        break;\n      case ResponseTargets.Records:\n        res = data.records;\n        break;\n      case ResponseTargets.Count:\n        res = data.totalSize;\n        break;\n      default:\n        res = data;\n    }\n    // only fire response event when it should be notified per fetch\n    if (responseTarget !== ResponseTargets.Records) {\n      self.emit(\"response\", res, self);\n    }\n\n    // streaming record instances\n    for (var i=0, l=data.records.length; i<l; i++) {\n      if (self.totalFetched >= maxFetch) {\n        self._finished = true;\n        break;\n      }\n      var record = data.records[i];\n      if (self._paused) {\n        self._buffer.push(record);\n      } else {\n        self.emit('record', record, self.totalFetched++, self);\n      }\n    }\n    self._finished = self._finished || data.done;\n    if (data.nextRecordsUrl) {\n      self._locator = data.nextRecordsUrl.split('/').pop();\n    }\n    if (autoFetch && !self._finished) {\n      if (!self._paused) {\n        return self._execute(options);\n      }\n    } else {\n      if (!self._paused) { self.close(); }\n    }\n    return res;\n  });\n};\n\n/**\n * @private\n */\nQuery.prototype._expandFields = function() {\n  if (this._soql) {\n    return Promise.reject(new Error(\"Cannot expand fields for the query which has already built SOQL.\"));\n  }\n  var self = this;\n  var logger = self._conn._logger;\n  var conn = this._conn;\n  var table = this._config.table;\n  var fields = this._config.fields || [];\n\n  logger.debug('_expandFields: table = ' + table + ', fields = ' + fields.join(', '));\n\n  return Promise.all([\n    new Promise(self._parent ? findRelationTable(table) : table)\n      .then(function(table) {\n        return Promise.all(\n          _.map(fields, function(field) { return expandAsteriskField(table, field); })\n        ).then(function(expandedFields) {\n          self._config.fields = _.flatten(expandedFields);\n        });\n      }),\n    Promise.all(\n      _.map(self._children || [], function(childQuery) {\n        return childQuery._expandFields();\n      })\n    )\n  ]);\n\n  function findRelationTable(rname) {\n    var ptable = self._parent._config.table;\n    logger.debug('finding table for relation \"' + rname + '\" in \"' + ptable + '\"...');\n    return describeCache(ptable).then(function(sobject) {\n      var upperRname = rname.toUpperCase();\n      var childRelation = _.find(sobject.childRelationships, function(cr) {\n        return (cr.relationshipName || '').toUpperCase() === upperRname;\n      });\n      return childRelation ? childRelation.childSObject :\n        Promise.reject(new Error(\"No child relationship found: \" + rname ));\n    });\n  }\n\n  function describeCache(table) {\n    logger.debug('describe cache: '+table);\n    var deferred = Promise.defer();\n    conn.describe$(table, function(err, sobject) {\n      logger.debug('... done.');\n      if (err) { deferred.reject(err); }\n      else { deferred.resolve(sobject); }\n    });\n    return deferred.promise;\n  }\n\n  function expandAsteriskField(table, field) {\n    logger.debug('expanding field \"'+ field + '\" in \"' + table + '\"...');\n    var fpath = field.split('.');\n    return fpath[fpath.length - 1] === '*' ?\n      describeCache(table).then(function(sobject) {\n        logger.debug('table '+table+'has been described');\n        if (fpath.length > 1) {\n          var rname = fpath.shift();\n          var rfield = _.find(sobject.fields, function(f) {\n            return f.relationshipName &&\n                   f.relationshipName.toUpperCase() === rname.toUpperCase();\n          });\n          if (rfield) {\n            var rtable = rfield.referenceTo.length === 1 ? rfield.referenceTo[0] : 'Name';\n            return expandAsteriskField(rtable, fpath.join('.')).then(function(fpaths) {\n              return _.map(fpaths, function(fpath) { return rname + '.' + fpath; });\n            });\n          } else {\n            return [];\n          }\n        } else {\n          return _.map(sobject.fields, function(f) { return f.name; });\n        }\n      }) :\n      new Promise([ field ]);\n  }\n};\n\n/**\n * Explain plan for executing query\n *\n * @param {Callback.<ExplainInfo>} [callback] - Callback function\n * @returns {Promise.<ExplainInfo>}\n */\nQuery.prototype.explain = function(callback) {\n  var self = this;\n  var logger = this._conn._logger;\n  return self.toSOQL().then(function(soql) {\n    logger.debug(\"SOQL = \" + soql);\n    var url = \"/query/?explain=\" + encodeURIComponent(soql);\n    return self._conn.request(url);\n  }).thenCall(callback);\n};\n\n/**\n * Return SOQL expression for the query\n *\n * @param {Callback.<String>} [callback] - Callback function\n * @returns {Promise.<String>}\n */\nQuery.prototype.toSOQL = function(callback) {\n  var self = this;\n  return new Promise(self._soql ||\n    self._expandFields().then(function() { return SOQLBuilder.createSOQL(self._config); })\n  ).thenCall(callback);\n};\n\n/**\n * Auto start query when pipe() is called.\n * @override\n */\nQuery.prototype.pipe = function() {\n  var dest = RecordStream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return dest;\n};\n\n/**\n * Synonym of Query#destroy()\n *\n * @method Query#delete\n * @param {String} [type] - SObject type. Required for SOQL based query object.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Synonym of Query#destroy()\n *\n * @method Query#del\n * @param {String} [type] - SObject type. Required for SOQL based query object.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Bulk delete queried records\n *\n * @method Query#destroy\n * @param {String} [type] - SObject type. Required for SOQL based query object.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<RecordResult>>}\n */\nQuery.prototype[\"delete\"] =\nQuery.prototype.del =\nQuery.prototype.destroy = function(type, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    type = null;\n  }\n  type = type || (this._config && this._config.table);\n  if (!type) {\n    throw new Error(\"SOQL based query needs SObject type information to bulk delete.\");\n  }\n  var batch = this._conn.sobject(type).deleteBulk();\n  var deferred = Promise.defer();\n  var handleError = function(err) {\n    if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records\n    else { deferred.reject(err); }\n  };\n  this.on('error', handleError)\n    .pipe(batch)\n    .on('response', function(res) { deferred.resolve(res); })\n    .on('error', handleError);\n  return deferred.promise.thenCall(callback);\n};\n\n/**\n * Bulk update queried records, using given mapping function/object\n *\n * @param {Record|RecordMapFunction} mapping - Mapping record or record mapping function\n * @param {String} [type] - SObject type. Required for SOQL based query object.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<RecordResult>>}\n */\nQuery.prototype.update = function(mapping, type, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    type = null;\n  }\n  type = type || (this._config && this._config.table);\n  if (!type) {\n    throw new Error(\"SOQL based query needs SObject type information to bulk update.\");\n  }\n  var updateStream = _.isFunction(mapping) ? RecordStream.map(mapping) : RecordStream.recordMapStream(mapping);\n  var batch = this._conn.sobject(type).updateBulk();\n  var deferred = Promise.defer();\n  var handleError = function(err) {\n    if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records\n    else { deferred.reject(err); }\n  };\n  this.on('error', handleError)\n    .pipe(updateStream)\n    .on('error', handleError)\n    .pipe(batch)\n    .on('response', function(res) { deferred.resolve(res); })\n    .on('error', handleError);\n  return deferred.promise.thenCall(callback);\n};\n\n/**\n * Promise/A+ interface\n * http://promises-aplus.github.io/promises-spec/\n *\n * Delegate to deferred promise, return promise instance for query result\n *\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\n * @param {RejectedCallback.<S2>} [onRejected]\n * @returns {Promise.<S1|S2>}\n */\nQuery.prototype.then = function(onResolved, onReject) {\n  this._chaining = true;\n  if (!this._closed && this._paused) { this.execute(); }\n  return this._deferred.promise.then.apply(this._deferred.promise, arguments);\n};\n\n/**\n * Promise/A+ extension\n * Call \"then\" using given node-style callback function\n *\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Query}\n */\nQuery.prototype.thenCall = function(callback) {\n  if (_.isFunction(callback)) {\n    this.then(function(res) {\n      process.nextTick(function() {\n        callback(null, res);\n      });\n    }, function(err) {\n      process.nextTick(function() {\n        callback(err);\n      });\n    });\n  }\n  return this;\n};\n\n/*--------------------------------------------*/\n\n/**\n * SubQuery object for representing child relationship query\n *\n * @protected\n * @class Query~SubQuery\n * @extends Query\n * @param {Connection} conn - Connection object\n * @param {Query} parent - Parent query object\n * @param {Object} config - Sub query configuration\n */\nvar SubQuery = function(conn, parent, config) {\n  SubQuery.super_.call(this, conn, config);\n  this._parent = parent;\n};\n\ninherits(SubQuery, Query);\n\n/**\n * @method Query~SubQuery#include\n * @override\n */\nSubQuery.prototype.include = function() {\n  throw new Error(\"Not allowed to include another subquery in subquery.\");\n};\n\n/**\n * Back the context to parent query object\n *\n * @method Query~SubQuery#end\n * @returns {Query}\n */\nSubQuery.prototype.end = function() {\n  return this._parent;\n};\n\n/**\n * If execute is called in subquery context, delegate it to parent query object\n *\n * @method Query~SubQuery#execute\n * @override\n */\nSubQuery.prototype.run =\nSubQuery.prototype.exec =\nSubQuery.prototype.execute = function() {\n  return this._parent.execute.apply(this._parent, arguments);\n};\n\n}).call(this,require('_process'))\n},{\"./date\":9,\"./promise\":15,\"./record-stream\":18,\"./soql-builder\":21,\"_process\":29,\"events\":28,\"inherits\":35,\"q\":36,\"underscore\":50}],17:[function(require,module,exports){\n/**\n * @file Represents Salesforce QuickAction\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\n\n/**\n * A class for quick action\n *\n * @protected\n * @constructor\n */\nvar QuickAction = module.exports = function(conn, path) {\n  this._conn = conn;\n  this._path = path;\n};\n\n/**\n * @typedef {Object} QuickAction~QuickActionInfo\n * @prop {String} type - Type of the action (e.g. Create, Update, Post, LogACall)\n * @prop {String} name - Name of the action\n * @prop {String} label - Label of the action\n * @prop {Object} urls - Endpoint URL information of the action\n */\n/**\n * @typedef {QuickAction~QuickActionInfo} QuickAction~QuickActionDescriveInfo\n * @prop {String} contextSobjectType - Object type used for the action\n * @prop {String} targetSobjectType - Object type of the action to target\n * @prop {String} targetParentField - Field name in the target object which refers parent(context) object record ID.\n * @prop {String} targetRecordTypeId - Record type of the targeted record\n * @prop {Object} layout - Layout sections that comprise an action\n */\n\n/**\n * Describe the action's information (including layout, etc.)\n *\n * @param {Callback.<QuickAction~QuickActionDescriveInfo>} [callback] - Callback function\n * @returns {Promise.<QuickAction~QuickActionDescriveInfo>}\n */\nQuickAction.prototype.describe = function(callback) {\n  var url = this._path + \"/describe\"\n  return this._conn.request(url).thenCall(callback);\n};\n\n/**\n * Retrieve default field values in the action (for given record, if specified)\n *\n * @param {String} [contextId] - ID of record to get default values specific to the record\n * @param {Callback.<Record>} [callback] - Callback function\n * @returns {Promise.<Record>}\n */\nQuickAction.prototype.defaultValues = function(contextId, callback) {\n  if (typeof contextId === 'function') {\n    callback = contextId;\n    contextId = null;\n  }\n  var url = this._path + \"/defaultValues\"\n  if (contextId) {\n    url += \"/\" + contextId;\n  }\n  return this._conn.request(url).thenCall(callback);\n}\n\n/**\n * @typedef {Object} QuickAction~QuickActionResult\n * @param {String} id - Record id of the action result\n * @param {Array.<String>} feedItemIds - List of IDs for feed item\n * @param {Boolean} success - True if the action successfully completed\n * @param {Boolean} created - True if the action yields a new record\n * @param {String} contextId - Context record ID of the action\n * @param {Array.<Object>} errors - Errors if the action failed\n */\n\n/**\n * Execute the action for given context Id and record information\n * \n * @param {String} contextId - Context record ID of the action\n * @param {Record} record - Input record information for the action\n * @param {Callback.<QuickAction~QuickActionResult>} [callback] - Callback function\n * @returns {Promise.<QuickAction~QuickActionResult>}\n */\nQuickAction.prototype.execute = function(contextId, record, callback) {\n  var body = {\n    contextId: contextId,\n    record: record\n  };\n  return this._conn.requestPost(this._path, body).thenCall(callback);\n};\n\n},{}],18:[function(require,module,exports){\n/**\n * @file Represents stream that handles Salesforce record as stream data\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar events = require('events'),\n    Stream = require('stream'),\n    PassThrough = Stream.PassThrough,\n    inherits = require('inherits'),\n    _      = require('underscore'),\n    CSV    = require('./csv');\n\n/**\n * Class for Record Stream\n *\n * @abstract\n * @class\n * @constructor\n * @extends events.EventEmitter\n */\nvar RecordStream = module.exports = function() {\n  this.sendable = false;\n  this.receivable = false;\n  this.on('error', function() {\n    this.sendable = false;\n    this.receivable = false;\n  });\n  this.on('end', function() {\n    this.receivable = false;\n  });\n};\n\ninherits(RecordStream, events.EventEmitter);\n\n\n/*--- Output Record Stream methods (Sendable) ---*/\n\n/**\n * Output record into stream.\n * \n * @param {Record} record - Record object\n */\nRecordStream.prototype.send = function(record) {\n  // abstract\n};\n\n/**\n * End sending records into stream. \n */\nRecordStream.prototype.end = function() {\n  this.sendable = false;\n};\n\n/**\n * Destroy record stream;\n */\nRecordStream.prototype.destroy = function() {\n  this.reciebable = false;\n  this.sendable = false;\n};\n\n/**\n * Destroy record stream after all record submission in the queue;\n */\nRecordStream.prototype.destroySoon = function() {\n  //\n};\n\n\n/*--- Input Record Stream methods (Receivable) ---*/\n\n/*\n * Pause record fetch\n * @abstract\n */\nRecordStream.prototype.pause = function() {\n  // abstract\n};\n\n/**\n * Resume record fetch and query execution\n * @abstract\n */\nRecordStream.prototype.resume = function() {\n  // abstract\n};\n\n/**\n * Streaming pipe for record manipulation\n * Originally from Node.js's Stream#pipe \n * https://github.com/joyent/node/blob/master/lib/stream.js\n *\n * @param {RecordStream} dest - Destination output stream for records\n * @param {Object} [options]\n * @returns {RecordStream}\n */\nRecordStream.prototype.pipe = function (dest, options) {\n  var source = this;\n\n  var onRecord = function(record) {\n    if (dest.send && false === dest.send(record)) { source.pause(); }\n  };\n\n  source.on('record', onRecord);\n\n  var onDrain = function() { source.resume(); };\n\n  dest.on('drain', onDrain);\n\n  var didOnEnd = false;\n  var onEnd = function() {\n    if (didOnEnd) { return; }\n    didOnEnd = true;\n    dest.end();\n  };\n\n  var onClose = function() {\n    if (didOnEnd) { return; }\n    didOnEnd = true;\n    if (typeof dest.destroy === 'function') { dest.destroy(); }\n  };\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!options || options.end !== false) {\n    source.on('end', onEnd);\n    source.on('close', onClose);\n  }\n\n  // don't leave dangling pipes when there are errors.\n  var onError = function(err) {\n    cleanup();\n    if (this.listeners('error').length === 0) {\n      throw err; // Unhandled stream error in pipe.\n    }\n  };\n\n  source.on('error', onError);\n  dest.on('error', onError);\n\n  // remove all the event listeners that were added.\n  var cleanup = function() {\n    source.removeListener('record', onRecord);\n    dest.removeListener('drain', onDrain);\n\n    source.removeListener('end', onEnd);\n    source.removeListener('close', onClose);\n\n    source.removeListener('error', onError);\n    dest.removeListener('error', onError);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('end', cleanup);\n    dest.removeListener('close', cleanup);\n  };\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('end', cleanup);\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n\n/**\n * Mapping incoming record from upstream, and pass to downstream\n *\n * @param {RecordMapFunction} fn - Record mapping function\n * @returns {RecordStream}\n */\nRecordStream.prototype.map = function(fn) {\n  return this.pipe(RecordStream.map(fn));\n};\n\n/**\n * Filtering incoming record from upstream, and pass to downstream\n *\n * @param {RecordFilterFunction} fn - Record filtering function\n * @returns {RecordStream}\n */\nRecordStream.prototype.filter = function(fn) {\n  return this.pipe(RecordStream.filter(fn));\n};\n\n/**\n * Create Node.js stream instance for serializing/deserialize records\n *\n * @returns {stream.Stream}\n */\nRecordStream.prototype.stream = function(type) {\n  type = type || 'csv';\n  var recStream;\n  if (type === \"csv\") {\n    recStream = new RecordStream.CSVStream();\n  }\n  if (!recStream) {\n    throw new Error(\"No stream type defined for '\"+type+\"'.\");\n  }\n  if (this.receivable) {\n    this.pipe(recStream);\n  } else if (this.sendable) {\n    recStream.pipe(this);\n  }\n  return recStream.stream(); // get Node.js stream instance\n};\n\n/* --------------------------------------------------- */\n\n/**\n * @callback RecordMapFunction\n * @param {Record} record - Source record to map\n * @returns {Record}\n */\n\n/**\n * Create a record stream which maps records and pass them to downstream\n *\n * @param {RecordMapFunction} fn - Record mapping function\n * @returns {RecordStream}\n */\nRecordStream.map = function(fn) {\n  var rstream = new RecordStream();\n  rstream.receivable = true;\n  rstream.send = function(record) {\n    var rec = fn(record) || record; // if not returned record, use same record\n    this.emit('record', rec);\n  };\n  rstream.end = function() {\n    this.emit('end');\n  };\n  return rstream;\n};\n\n/**\n * Create mapping stream using given record template\n *\n * @param {Record} record - Mapping record object. In mapping field value, temlate notation can be used to refer field value in source record, if noeval param is not true.\n * @param {Boolean} [noeval] - Disable template evaluation in mapping record.\n * @returns {RecordStream}\n */\nRecordStream.recordMapStream = function(record, noeval) {\n  return RecordStream.map(function(rec) {\n    var mapped = { Id: rec.Id };\n    for (var prop in record) {\n      mapped[prop] = noeval ? record[prop] : evalMapping(record[prop], rec);\n    }\n    return mapped;\n  });\n\n  function evalMapping(value, mapping) {\n    if (_.isString(value)) {\n      var m = /^\\$\\{(\\w+)\\}$/.exec(value);\n      if (m) { return mapping[m[1]]; }\n      return value.replace(/\\$\\{(\\w+)\\}/g, function($0, prop) {\n        var v = mapping[prop];\n        return _.isNull(v) || _.isUndefined(v) ? \"\" : String(v);\n      });\n    } else {\n      return value;\n    }\n  }\n};\n\n/**\n * @callback RecordFilterFunction\n * @param {Record} record - Source record to filter\n * @returns {Boolean}\n */\n\n/**\n * Create a record stream which filters records and pass them to downstream\n *\n * @param {RecordFilterFunction} fn - Record filtering function\n * @returns {RecordStream}\n */\nRecordStream.filter = function(fn) {\n  var rstream = new RecordStream();\n  rstream.receivable = true;\n  rstream.send = function(record) {\n    if (fn(record)) {\n      this.emit('record', record);\n    }\n  };\n  rstream.end = function() {\n    this.emit('end');\n  };\n  return rstream;\n};\n\n\n/* --------------------------------------------------- */\n\n/**\n * CSVStream (extends RecordStream implements Receivable, Sendable)\n *\n * @protected\n * @class RecordStream.CSVStream\n * @extends RecordStream\n */\nvar CSVStream = RecordStream.CSVStream = function(config, stream) {\n  config = config || {};\n  this.headers = config.headers;\n  this.nullValue = config.nullValue;\n  this.wroteHeaders = false;\n  this.sendable = true;\n  this.receivable = true;\n  this._stream = stream || new PassThrough();\n  this._buffer = [];\n  var self = this;\n  this._stream.on('data', function(data) { self._handleData(data); });\n  this._stream.on('end', function(data) { self._handleEnd(data); });\n};\n\ninherits(CSVStream, RecordStream);\n\n/**\n *\n * @override\n * @method RecordStream.CSVStream#send\n * @param {Record} record - Record object\n */\nCSVStream.prototype.send = function(record) {\n  this.sendable = false; // ignore incoming CSV data from stream\n  if (!this.wroteHeaders) {\n    if (!this.headers) {\n      this.headers = CSV.extractHeaders([ record ]);\n    }\n    this._stream.emit(\"data\", CSV.arrayToCSV(this.headers) + \"\\n\");\n    this.wroteHeaders = true;\n  }\n  this._stream.emit(\"data\", CSV.recordToCSV(record, this.headers, { nullValue: this.nullValue }) + \"\\n\");\n};\n\n/**\n *\n * @override\n * @method RecordStream.CSVStream#end\n * @param {Record} record - Record object\n */\nCSVStream.prototype.end = function(record) {\n  if (record) { this.send(record); }\n  this.sendable = false;\n  this.receivable = false;\n  this._stream.emit(\"end\");\n};\n\n/**\n * @private\n */\nCSVStream.prototype._handleData = function(data, enc) {\n  // ignore received CSV input from stream\n  if (!this.sendable) { return; }\n  this._buffer.push([ data, enc ]);\n};\n\n/**\n * @private\n */\nCSVStream.prototype._handleEnd = function(data, enc) {\n  // ignore received CSV input from stream\n  if (!this.sendable || this.listeners('record').length === 0) { return; }\n  if (data) {\n    this._buffer.push([ data, enc ]);\n  }\n  data = this._buffer.map(function(d) {\n    return d[0].toString(d[1] || 'utf-8');\n  }).join('');\n  var records = CSV.parseCSV(data);\n  records.forEach(function(record) {\n    this.emit('record', record);\n  }, this);\n  this.emit('end');\n};\n\n/**\n * Get delegating Node.js stream\n * @override\n * @method RecordStream.CSVStream#stream\n */\nCSVStream.prototype.stream = function() {\n  return this._stream;\n};\n\n\n},{\"./csv\":8,\"events\":28,\"inherits\":35,\"stream\":33,\"underscore\":50}],19:[function(require,module,exports){\n/**\n * @file Represents Salesforce record information\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _ = require('underscore')._;\n\n/**\n * A simple hash object including record field information\n *\n * @typedef {Object} Record\n */\n\n/**\n * Remote reference to record information\n *\n * @protected\n * @class\n * @constructor\n * @param {Connection} conn - Connection object\n * @param {String} type - SObject type\n * @param {String} id - Record ID\n */\nvar RecordReference = module.exports = function(conn, type, id) {\n  this._conn = conn;\n  this.type = type;\n  this.id = id;\n};\n\n/**\n * Retrieve record field information\n *\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<Record>} [callback] - Callback function\n * @returns {Promise.<Record>}\n */\nRecordReference.prototype.retrieve = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.retrieve(this.type, this.id, options, callback);\n};\n\n/**\n * Update record field information\n *\n * @param {Record} record - A Record which includes fields to update\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult>} [callback] - Callback function\n * @returns {Promise.<RecordResult>}\n */\nRecordReference.prototype.update = function(record, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  record = _.clone(record);\n  record.Id = this.id;\n  return this._conn.update(this.type, record, options, callback);\n};\n\n/**\n * Synonym of Record#destroy()\n *\n * @method RecordReference#delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult>} [callback] - Callback function\n * @returns {Promise.<RecordResult>}\n */\nRecordReference.prototype[\"delete\"] =\n/**\n * Synonym of Record#destroy()\n *\n * @method RecordReference#del\n * @param {Callback.<RecordResult>} [callback] - Callback function\n * @returns {Promise.<RecordResult>}\n */\nRecordReference.prototype.del =\n/**\n * Delete record field\n *\n * @method RecordReference#destroy\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult>} [callback] - Callback function\n * @returns {Promise.<RecordResult>}\n */\nRecordReference.prototype.destroy = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.destroy(this.type, this.id, options, callback);\n};\n\n/**\n * Get blob field as stream\n *\n * @param {String} fieldName - Blob field name\n * @returns {stream.Stream}\n */\nRecordReference.prototype.blob = function(fieldName) {\n  var url = [ this._conn._baseUrl(), 'sobjects', this.type, this.id, fieldName ].join('/');\n  return this._conn.request(url).stream();\n};\n\n\n},{\"underscore\":50}],20:[function(require,module,exports){\n/**\n * @file Represents Salesforce SObject\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _      = require('underscore'),\n    Record = require('./record'),\n    Query  = require('./query'),\n    Cache  = require('./cache');\n\n/**\n * A class for organizing all SObject access\n *\n * @constructor\n */\nvar SObject = module.exports = function(conn, type) {\n  this._conn = conn;\n  this.type = type;\n  var cacheOptions = { key: \"describe.\" + this.type };\n  this.describe$ = conn.cache.makeCacheable(this.describe, this, cacheOptions);\n  this.describe = conn.cache.makeResponseCacheable(this.describe, this, cacheOptions);\n\n  cacheOptions = { key: \"layouts.\" + this.type };\n  this.layouts$ = conn.cache.makeCacheable(this.layouts, this, cacheOptions);\n  this.layouts = conn.cache.makeResponseCacheable(this.layouts, this, cacheOptions);\n\n  cacheOptions = { key: \"compactLayouts.\" + this.type };\n  this.compactLayouts$ = conn.cache.makeCacheable(this.compactLayouts, this, cacheOptions);\n  this.compactLayouts = conn.cache.makeResponseCacheable(this.compactLayouts, this, cacheOptions);\n\n  cacheOptions = { key: \"approvalLayouts.\" + this.type };\n  this.approvalLayouts$ = conn.cache.makeCacheable(this.approvalLayouts, this, cacheOptions);\n  this.approvalLayouts = conn.cache.makeResponseCacheable(this.approvalLayouts, this, cacheOptions);\n};\n\n/**\n * Synonym of SObject#create()\n *\n * @method SObject#insert\n * @param {Record|Array.<Record>} records - A record or array of records to create\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Create records\n *\n * @method SObject#create\n * @param {Record|Array.<Record>} records - A record or array of records to create\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nSObject.prototype.insert =\nSObject.prototype.create = function(records, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.create(this.type, records, options, callback);\n};\n\n/**\n * Retrieve specified records\n *\n * @param {String|Array.<String>} ids - A record ID or array of record IDs \n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<Record|Array.<Record>>} [callback] - Callback function\n * @returns {Promise.<Record|Array.<Record>>}\n */\nSObject.prototype.retrieve = function(ids, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.retrieve(this.type, ids, options, callback);\n};\n\n/**\n * Update records\n *\n * @param {Record|Array.<Record>} records - A record or array of records to update\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nSObject.prototype.update = function(records, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.update(this.type, records, options, callback);\n};\n\n/**\n * Upsert records\n *\n * @param {Record|Array.<Record>} records - Record or array of records to upsert\n * @param {String} extIdField - External ID field name\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nSObject.prototype.upsert = function(records, extIdField, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.upsert(this.type, records, extIdField, options, callback);\n};\n\n/**\n * Synonym of SObject#destroy()\n *\n * @method SObject#delete\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Synonym of SObject#destroy()\n *\n * @method SObject#del\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Delete records\n *\n * @method SObject#destroy\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nSObject.prototype[\"delete\"] =\nSObject.prototype.del =\nSObject.prototype.destroy = function(ids, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.destroy(this.type, ids, options, callback);\n};\n\n/**\n * Describe SObject metadata\n *\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\n * @returns {Promise.<DescribeSObjectResult>}\n */\nSObject.prototype.describe = function(callback) {\n  return this._conn.describe(this.type, callback);\n};\n\n/**\n * Get record representation instance by given id\n *\n * @param {String} id - A record ID\n * @returns {RecordReference}\n */\nSObject.prototype.record = function(id) {\n  return new Record(this._conn, this.type, id);\n};\n\n/**\n * Find and fetch records which matches given conditions\n *\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @param {Object} [options] - Query options.\n * @param {Number} [options.limit] - Maximum number of records the query will return.\n * @param {Number} [options.offset] - Offset number where begins returning results.\n * @param {Number} [options.skip] - Synonym of options.offset.\n * @param {Callback.<Array.<Record>>} [callback] - Callback function\n * @returns {Query.<Array.<Record>>}\n */\nSObject.prototype.find = function(conditions, fields, options, callback) {\n  if (typeof conditions === 'function') {\n    callback = conditions;\n    conditions = {};\n    fields = null;\n    options = null;\n  } else if (typeof fields === 'function') {\n    callback = fields;\n    fields = null;\n    options = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  options = options || {};\n  var config = {\n    fields: fields,\n    includes: options.includes,\n    table: this.type,\n    conditions: conditions,\n    limit: options.limit,\n    offset: options.offset || options.skip\n  };\n  var query = new Query(this._conn, config);\n  query.setResponseTarget(Query.ResponseTargets.Records);\n  if (callback) { query.run(callback); }\n  return query;\n};\n\n/**\n * Fetch one record which matches given conditions\n *\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @param {Object} [options] - Query options.\n * @param {Number} [options.limit] - Maximum number of records the query will return.\n * @param {Number} [options.offset] - Offset number where begins returning results.\n * @param {Number} [options.skip] - Synonym of options.offset.\n * @param {Callback.<Record>} [callback] - Callback function\n * @returns {Query.<Record>}\n */\nSObject.prototype.findOne = function(conditions, fields, options, callback) {\n  if (typeof conditions === 'function') {\n    callback = conditions;\n    conditions = {};\n    fields = null;\n    options = null;\n  } else if (typeof fields === 'function') {\n    callback = fields;\n    fields = null;\n    options = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  options = _.extend(options || {}, { limit: 1 });\n  var query = this.find(conditions, fields, options);\n  query.setResponseTarget(Query.ResponseTargets.SingleRecord);\n  if (callback) { query.run(callback); }\n  return query;\n};\n\n/**\n * Find and fetch records only by specifying fields to fetch.\n *\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @param {Callback.<Array.<Record>>} [callback] - Callback function\n * @returns {Query.<Array.<Record>>}\n */\nSObject.prototype.select = function(fields, callback) {\n  return this.find(null, fields, null, callback);\n};\n\n/**\n * Count num of records which matches given conditions\n *\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @param {Callback.<Number>} [callback] - Callback function\n * @returns {Query.<Number>}\n */\nSObject.prototype.count = function(conditions, callback) {\n  if (typeof conditions === 'function') {\n    callback = conditions;\n    conditions = {};\n  }\n  var query = this.find(conditions, { \"count()\" : true });\n  query.setResponseTarget(\"Count\");\n  if (callback) { query.run(callback); }\n  return query;\n};\n\n\n/**\n * Call Bulk#load() to execute bulkload, returning batch object\n *\n * @param {String} operation - Bulk load operation ('insert', 'update', 'upsert', 'delete', or 'hardDelete')\n * @param {Object} [options] - Options for bulk loading operation\n * @param {String} [options.extIdField] - External ID field name (used when upsert operation).\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulkload. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.bulkload = function(operation, options, input, callback) {\n  return this._conn.bulk.load(this.type, operation, options, input, callback);\n};\n\n/**\n * Synonym of SObject#createBulk()\n *\n * @method SObject#insertBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk insert. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Bulkly insert input data using bulk API\n *\n * @method SObject#createBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk insert. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.insertBulk =\nSObject.prototype.createBulk = function(input, callback) {\n  return this.bulkload(\"insert\", input, callback);\n};\n\n/**\n * Bulkly update records by input data using bulk API\n *\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk update Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.updateBulk = function(input, callback) {\n  return this.bulkload(\"update\", input, callback);\n};\n\n/**\n * Bulkly upsert records by input data using bulk API\n *\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk upsert. Accepts array of records, CSv string, and CSV data input stream.\n * @param {String} [options.extIdField] - External ID field name\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.upsertBulk = function(input, extIdField, callback) {\n  return this.bulkload(\"upsert\", { extIdField: extIdField }, input, callback);\n};\n\n/**\n * Synonym of SObject#destroyBulk()\n *\n * @method SObject#deleteBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Bulkly delete records specified by input data using bulk API\n *\n * @method SObject#destroyBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.deleteBulk =\nSObject.prototype.destroyBulk = function(input, callback) {\n  return this.bulkload(\"delete\", input, callback);\n};\n\n/**\n * Synonym of SObject#destroyHardBulk()\n *\n * @method SObject#deleteHardBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Bulkly hard delete records specified in input data using bulk API\n *\n * @method SObject#destroyHardBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.deleteHardBulk =\nSObject.prototype.destroyHardBulk = function(input, callback) {\n  return this.bulkload(\"hardDelete\", input, callback);\n};\n\n/**\n * Retrieve recently accessed records\n *\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<RecordResult>>}\n */\nSObject.prototype.recent = function (callback) {\n  return this._conn.recent(this.type, callback);\n};\n\n/**\n * Retrieve the updated records\n *\n * @param {String|Date} start - start date or string representing the start of the interval\n * @param {String|Date} end - start date or string representing the end of the interval, must be > start\n * @param {Callback.<UpdatedRecordsInfo>} [callback] - Callback function\n * @returns {Promise.<UpdatedRecordsInfo>}\n */\nSObject.prototype.updated = function (start, end, callback) {\n  return this._conn.updated(this.type, start, end, callback);\n};\n\n/**\n * Retrieve the deleted records\n *\n * @param {String|Date} start - start date or string representing the start of the interval\n * @param {String|Date} end - start date or string representing the end of the interval, must be > start\n * @param {Callback.<DeletedRecordsInfo>} [callback] - Callback function\n * @returns {Promise.<DeletedRecordsInfo>}\n */\nSObject.prototype.deleted = function (start, end, callback) {\n  return this._conn.deleted(this.type, start, end, callback);\n};\n\n/**\n * @typedef {Object} LayoutInfo\n * @prop {Array.<Object>} layouts - Array of layouts\n * @prop {Array.<Object>} recordTypeMappings - Array of record type mappings\n */ \n/**\n * Describe layout information for SObject\n *\n * @param {String} [layoutName] - Name of named layout. (e.g. UserAlt in User SObject)\n * @param {Callback.<LayoutInfo>} [callback] - Callback function\n * @returns {Promise.<LayoutInfo>}\n */\nSObject.prototype.layouts = function(layoutName, callback) {\n  if (typeof layoutName === 'function') {\n    callback = layoutName;\n    layoutName = null;\n  }\n  var url = \"/sobjects/\" + this.type + \"/describe/\" + (layoutName ? \"namedLayouts/\"+layoutName : \"layouts\");\n  return this._conn.request(url, callback);\n};\n\n/**\n * @typedef {Object} CompactLayoutInfo\n * @prop {Array.<Object>} compactLayouts - Array of compact layouts\n * @prop {String} defaultCompactLayoutId - ID of default compact layout\n * @prop {Array.<Object>} recordTypeCompactLayoutMappings - Array of record type mappings\n */ \n/**\n * Describe compact layout information defined for SObject\n *\n * @param {Callback.<CompactLayoutInfo>} [callback] - Callback function\n * @returns {Promise.<CompactLayoutInfo>}\n */\nSObject.prototype.compactLayouts = function(callback) {\n  var url = \"/sobjects/\" + this.type + \"/describe/compactLayouts\";\n  return this._conn.request(url, callback);\n};\n\n\n/**\n * @typedef {Object} ApprovalLayoutInfo\n * @prop {Array.<Object>} approvalLayouts - Array of approval layouts\n */ \n/**\n * Describe compact layout information defined for SObject\n *\n * @param {Callback.<ApprovalLayoutInfo>} [callback] - Callback function\n * @returns {Promise.<ApprovalLayoutInfo>}\n */\nSObject.prototype.approvalLayouts = function(callback) {\n  var url = \"/sobjects/\" + this.type + \"/describe/approvalLayouts\";\n  return this._conn.request(url, callback);\n};\n\n/**\n * Returns the list of list views for the SObject\n *\n * @param {Callback.<ListViewsInfo>} [callback] - Callback function\n * @returns {Promise.<ListViewsInfo>}\n */\nSObject.prototype.listviews = function(callback) {\n  var url = this._conn._baseUrl() + '/sobjects/' + this.type + '/listviews';\n  return this._conn.request(url, callback);\n};\n\n/**\n * Returns the list view info in specifed view id \n *\n * @param {String} id - List view ID\n * @returns {ListView}\n */\nSObject.prototype.listview = function(id) {\n  return new ListView(this._conn, this.type, id);\n};\n\n/**\n * Returns all registered quick actions for the SObject\n *\n * @param {Callback.<Array.<QuickAction~QuickActionInfo>>} [callback] - Callback function\n * @returns {Promise.<Array.<QuickAction~QuickActionInfo>>}\n */\nSObject.prototype.quickActions = function(callback) {\n  return this._conn.request(\"/sobjects/\" + this.type + \"/quickActions\").thenCall(callback);\n};\n\n/**\n * Get reference for specified quick aciton in the SObject\n *\n * @param {String} actionName - Name of the quick action\n * @returns {QuickAction}\n */\nSObject.prototype.quickAction = function(actionName) {\n  return new QuickAction(this._conn, \"/sobjects/\" + this.type + \"/quickActions/\" + actionName);\n};\n\n\n/**\n * A class for organizing list view information\n * \n * @protected\n * @class ListView\n * @param {Connection} conn - Connection instance\n * @param {SObject} type - SObject type\n * @param {String} id - List view ID\n */\nvar ListView = function(conn, type, id) {\n  this._conn = conn;\n  this.type = type;\n  this.id = id;\n};\n\n/**\n * Executes query for the list view and returns the resulting data and presentation information.\n *\n * @param {Callback.<ListViewResultInfo>} [callback] - Callback function\n * @returns {Promise.<ListViewResultInfo>}\n */\nListView.prototype.results = function(callback) {\n  var url =  this._conn._baseUrl() + '/sobjects/' + this.type + '/listviews/' + this.id + '/results';\n  return this._conn.request(url, callback);\n};\n\n\n/**\n * Returns detailed information about a list view\n *\n * @param {Callback.<ListViewDescribeInfo>} [callback] - Callback function\n * @returns {Promise.<ListViewDescribeInfo>}\n */\nListView.prototype.describe = function(callback) {\n  var url =  this._conn._baseUrl() + '/sobjects/' + this.type + '/listviews/' + this.id + '/describe';\n  return this._conn.request(url, callback);\n};\n},{\"./cache\":5,\"./query\":16,\"./record\":19,\"underscore\":50}],21:[function(require,module,exports){\n/**\n * @file Create and build SOQL string from configuration\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _      = require(\"underscore\"),\n    SfDate = require(\"./date\");\n\n\n/**\n * Create SOQL\n * @private\n */\nfunction createSOQL(query) {\n  var soql = [\n    \"SELECT \",\n    createFieldsClause(query.fields, query.includes),\n    \" FROM \",\n    query.table\n  ].join(\"\");\n  var cond = createConditionClause(query.conditions);\n  if (cond) {\n    soql += \" WHERE \" + cond;\n  }\n  var orderby = createOrderByClause(query.sort);\n  if (orderby) {\n    soql += \" ORDER BY \" + orderby;\n  }\n  if (query.limit) {\n    soql += \" LIMIT \" + query.limit;\n  }\n  if (query.offset) {\n    soql += \" OFFSET \" + query.offset;\n  }\n  return soql;\n}\n\n/** @private **/\nfunction createFieldsClause(fields, childQueries) {\n  childQueries = _.map(_.values(childQueries || {}), function(cquery) {\n    return '(' + createSOQL(cquery) + ')';\n  });\n  return (fields || [ \"Id\" ]).concat(childQueries).join(', ');\n}\n\n/** @private **/\nfunction createConditionClause(conditions, operator, depth) {\n  if (_.isString(conditions)) {\n    return conditions;\n  }\n  conditions = conditions || [];\n  operator = operator || \"AND\";\n  depth = depth || 0;\n  if (!isArray(conditions)) { // if passed in hash object\n    conditions = _.keys(conditions).map(function(key) {\n      return {\n        key: key,\n        value: conditions[key]\n      };\n    });\n  } else {\n    conditions = conditions.map(function(cond) {\n      var conds = [];\n      for (var key in cond) {\n        conds.push({\n          key: key,\n          value: cond[key]\n        });\n      }\n      return conds.length>1 ? conds : conds[0];\n    });\n  }\n  conditions = conditions.map(function(cond) {\n    var d = depth+1, op;\n    switch (cond.key) {\n      case \"$or\" :\n      case \"$and\" :\n      case \"$not\" :\n        if (operator !== \"NOT\" && conditions.length === 1) {\n          d = depth; // not change tree depth\n        }\n        op = cond.key === \"$or\" ? \"OR\" :\n             cond.key === \"$and\" ? \"AND\" :\n             \"NOT\";\n        return createConditionClause(cond.value, op, d);\n      default:\n        return createFieldExpression(cond.key, cond.value);\n    }\n  }).filter(function(expr) { return expr; });\n\n  var paren;\n  if (operator === 'NOT') {\n    paren = depth > 0;\n    return (paren ? \"(\" : \"\") + \"NOT \" + conditions[0] + (paren ? \")\" : \"\");\n  } else {\n    paren = depth > 0 && conditions.length > 1;\n    return (paren ? \"(\" : \"\") + conditions.join(\" \"+operator+\" \") + (paren ? \")\" : \"\");\n  }\n}\n\nvar opMap = {\n  \"=\"     : \"=\",\n  \"$eq\"   : \"=\",\n  \"!=\"    : \"!=\",\n  \"$ne\"   : \"!=\",\n  \">\"     : \">\",\n  \"$gt\"   : \">\",\n  \"<\"     : \"<\",\n  \"$lt\"   : \"<\",\n  \">=\"    : \">=\",\n  \"$gte\"  : \">=\",\n  \"<=\"    : \"<=\",\n  \"$lte\"  : \"<=\",\n  \"$like\" : \"LIKE\",\n  \"$nlike\" : \"NOT LIKE\",\n  \"$in\"   : \"IN\",\n  \"$nin\"  : \"NOT IN\",\n  \"$exists\" : \"EXISTS\"\n};\n\n/** @private **/\nfunction createFieldExpression(field, value) {\n  var op = \"$eq\";\n\n  // Assume the `$in` operator if value is an array and none was supplied.\n  if (_.isArray(value)) { op = \"$in\"; }\n  // Otherwise, if an object was passed then process the supplied ops.\n  else if (_.isObject(value)) {\n    var _value;\n    for (var k in value) {\n      if (k[0] === \"$\") {\n        op = k;\n        value = value[k];\n        break;\n      }\n    }\n  }\n  var sfop = opMap[op];\n  if (!sfop || _.isUndefined(value)) { return null; }\n  var valueExpr = createValueExpression(value);\n  if (_.isUndefined(valueExpr)) { return null; }\n  switch (sfop) {\n    case \"NOT LIKE\":\n      return \"(\" + [ \"NOT\", field, 'LIKE', valueExpr ].join(\" \") + \")\";\n    case \"EXISTS\":\n      return [ field, value ? \"!=\" : \"=\", \"null\" ].join(\" \");\n    default:\n      return [ field, sfop, valueExpr ].join(\" \");\n  }\n}\n\n/** @private **/\nfunction createValueExpression(value) {\n  if (isArray(value)) {\n    return value.length > 0 ?\n           \"(\" + value.map(createValueExpression).join(\", \") + \")\" :\n           undefined;\n  }\n  if (value instanceof SfDate) {\n    return value.toString();\n  }\n  if (_.isString(value)) {\n    return \"'\" + escapeSOQLString(value) + \"'\";\n  }\n  if (_.isNumber(value)) {\n    return (value).toString();\n  }\n  if (_.isNull(value)) {\n    return \"null\";\n  }\n  return value;\n}\n\n/** @private **/\nfunction escapeSOQLString(str) {\n  return String(str || '').replace(/'/g, \"\\\\'\");\n}\n\n/** @private **/\nfunction isArray(a) {\n  return _.isObject(a) && _.isFunction(a.pop);\n}\n\n\n/** @private **/\nfunction createOrderByClause(sort) {\n  sort = sort || [];\n  if (_.isString(sort)) {\n    if (/,|\\s+(asc|desc)\\s*$/.test(sort)) {\n      // must be specified in pure \"order by\" clause. Return raw config.\n      return sort;\n    }\n    // sort order in mongoose-style expression.\n    // e.g. \"FieldA -FieldB\" => \"ORDER BY FieldA ASC, FieldB DESC\"\n    sort = sort.split(/\\s+/).map(function(field) {\n      var dir = \"ASC\"; // ascending\n      var flag = field[0];\n      if (flag === '-') {\n        dir = \"DESC\";\n        field = field.substring(1);\n      } else if (flag === '+') {\n        field = field.substring(1);\n      }\n      return [ field, dir ];\n    });\n  } else if (!isArray(sort)) {\n    sort = _.keys(sort).map(function(field) {\n      var dir = sort[field];\n      return [ field, dir ];\n    });\n  }\n  return sort.map(function(s) {\n    var field = s[0], dir = s[1];\n    switch (String(dir)) {\n      case \"DESC\":\n      case \"desc\":\n      case \"descending\":\n      case \"-\":\n      case \"-1\":\n        dir = \"DESC\";\n        break;\n      default:\n        dir = \"ASC\";\n    }\n    return field + \" \" + dir;\n  }).join(\", \");\n}\n\n\nexports.createSOQL = createSOQL;\n\n\n},{\"./date\":9,\"underscore\":50}],22:[function(require,module,exports){\n(function (process){\n/*global process, Sfdc */\nvar inherits = require('inherits'),\n    stream = require('stream'),\n    Promise = require('./promise');\n\n/* */\n\nvar request = require('request'),\n    canvas = require('./browser/canvas'),\n    jsonp = require('./browser/jsonp');\n\n// set options if defaults setting is available in request, which is not available in xhr module.\nif (request.defaults) {\n  var defaults = {\n    followAllRedirects: true\n  };\n  if (process.env.HTTP_PROXY) {\n    defaults.proxy = process.env.HTTP_PROXY;\n  }\n  if (process.env.HTTP_TIMEOUT) {\n    defaults.timeout = process.env.HTTP_TIMEOUT;\n  }\n  request = request.defaults(defaults);\n}\n\nvar baseUrl;\nif (typeof window === 'undefined') {\n  baseUrl = process.env.LOCATION_BASE_URL || \"\";\n} else {\n  var apiHost = normalizeApiHost(window.location.host);\n  baseUrl = apiHost ? \"https://\" + apiHost : \"\";\n}\n\n/**\n * Add stream() method to promise (and following promise chain), to access original request stream.\n * @private\n */\nfunction streamify(promise, factory) {\n  var _then = promise.then;\n  promise.then = function() {\n    factory();\n    var newPromise = _then.apply(promise, arguments);\n    return streamify(newPromise, factory);\n  };\n  promise.stream = factory;\n  return promise;\n}\n\n/**\n * Normarize Salesforce API host name\n * @private\n */\nfunction normalizeApiHost(apiHost) {\n  var m = /(\\w+)\\.(visual\\.force|salesforce)\\.com$/.exec(apiHost);\n  if (m) {\n    apiHost = m[1] + \".salesforce.com\";\n  }\n  return apiHost;\n}\n\n/**\n * Class for HTTP request transport\n *\n * @class\n * @protected\n */\nvar Transport = module.exports = function() {};\n\n/**\n * Make HTTP request, returns promise instead of stream\n *\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @param {Callback.<Object>} [options] - Options\n * @returns {Promise.<Object>}\n */\nTransport.prototype.httpRequest = function(params, callback, options) {\n  var deferred = Promise.defer();\n  var req;\n  var httpRequest = request;\n  if (options && options.jsonp && jsonp.supported) {\n    httpRequest = jsonp.createRequest(options.jsonp);\n  } else if (options && options.signedRequest && canvas.supported) {\n    httpRequest = canvas.createRequest(options.signedRequest);\n  }\n  var createRequest = function() {\n    if (!req) {\n      req = httpRequest(params, function(err, response) {\n        if (err) {\n          deferred.reject(err);\n        } else {\n          deferred.resolve(response);\n        }\n      });\n    }\n    return req;\n  };\n  return streamify(deferred.promise, createRequest).thenCall(callback);\n};\n\n/**\n * Class for HTTP request transport using AJAX proxy service\n *\n * @class Transport~ProxyTransport\n * @protected\n * @extends Transport\n * @param {String} proxyUrl - AJAX Proxy server URL\n */\nvar ProxyTransport = Transport.ProxyTransport = function(proxyUrl) {\n  this._proxyUrl = proxyUrl;\n};\n\ninherits(ProxyTransport, Transport);\n\n/**\n * Make HTTP request via AJAX proxy\n *\n * @method Transport~ProxyTransport#httpRequest\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @returns {Promise.<Object>}\n */\nProxyTransport.prototype.httpRequest = function(params, callback) {\n  var url = params.url;\n  if (url.indexOf(\"/\") === 0) {\n    url = baseUrl + url;\n  }\n  var proxyParams = {\n    method: params.method,\n    url: this._proxyUrl + '?' + Date.now() + \".\" + (\"\" + Math.random()).substring(2),\n    headers: {\n      'salesforceproxy-endpoint': url\n    }\n  };\n  if (params.body || params.body === \"\") {\n    proxyParams.body = params.body;\n  }\n  if (params.headers) {\n    for (var name in params.headers) {\n      proxyParams.headers[name] = params.headers[name];\n    }\n  }\n  return ProxyTransport.super_.prototype.httpRequest.call(this, proxyParams, callback);\n};\n\n}).call(this,require('_process'))\n},{\"./browser/canvas\":1,\"./browser/jsonp\":4,\"./promise\":15,\"_process\":29,\"inherits\":35,\"request\":23,\"stream\":33}],23:[function(require,module,exports){\nvar stream = require('stream');\nvar _ = require('underscore');\n\nmodule.exports = function(params, callback) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(params.method, params.url);\n  if (params.headers) {\n    for (var header in params.headers) {\n      xhr.setRequestHeader(header, params.headers[header]);\n    }\n  }\n  xhr.setRequestHeader(\"Accept\", \"*/*\");\n  var response;\n  var str = new stream.Duplex();\n  str._read = function(size) {\n    if (response) {\n      str.push(response.body);\n    }\n  };\n  var bufs = [];\n  var sent = false;\n  str._write = function(chunk, encoding, callback) {\n    bufs.push(chunk.toString(encoding === \"buffer\" ? \"binary\" : encoding));\n    callback();\n  };\n  str.on('finish', function() {\n    if (!sent) {\n      xhr.send(bufs.join(''));\n      sent = true;\n    }\n  });\n  if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n    xhr.send(params.body);\n    sent = true;\n  }\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 4) {\n      var headerNames = getResponseHeaderNames(xhr);\n      var headers = {}\n      _.forEach(headerNames, function(headerName) {\n        if (headerName) {\n          headers[headerName] = xhr.getResponseHeader(headerName);\n        }\n      });\n      response = {\n        statusCode: xhr.status,\n        headers: headers,\n        body: xhr.response\n      };\n      if (!response.statusCode) {\n        response.statusCode = 400;\n        response.body = \"Access Declined\";\n      }\n      if (callback) {\n        callback(null, response, response.body);\n      }\n      str.end();\n    }\n  };\n  return str;\n};\n\nfunction getResponseHeaderNames(xhr) {\n  var headerLines = (xhr.getAllResponseHeaders() || \"\").split(/[\\r\\n]+/);\n  return _.map(headerLines, function(headerLine) {\n    return headerLine.split(/\\s*:/)[0].toLowerCase();\n  });\n}\n\n\n},{\"stream\":33,\"underscore\":50}],24:[function(require,module,exports){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar kMaxLength = 0x3fffffff\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding, noZero) {\n  if (!(this instanceof Buffer))\n    return new Buffer(subject, encoding, noZero)\n\n  var type = typeof subject\n\n  // Find the length\n  var length\n  if (type === 'number')\n    length = +subject\n  else if (type === 'string') {\n    length = Buffer.byteLength(subject, encoding)\n  } else if (type === 'object' && subject !== null) { // assume object is array-like\n    if (subject.type === 'Buffer' && isArray(subject.data))\n      subject = subject.data\n    length = +subject.length\n  } else {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (length > kMaxLength)\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n      'size: 0x' + kMaxLength.toString(16) + ' bytes')\n\n  if (length < 0)\n    length = 0\n  else\n    length >>>= 0 // Coerce to uint32.\n\n  var self = this\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    /*eslint-disable consistent-this */\n    self = Buffer._augment(new Uint8Array(length))\n    /*eslint-enable consistent-this */\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    self.length = length\n    self._isBuffer = true\n  }\n\n  var i\n  if (Buffer.TYPED_ARRAY_SUPPORT && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    self._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    if (Buffer.isBuffer(subject)) {\n      for (i = 0; i < length; i++)\n        self[i] = subject.readUInt8(i)\n    } else {\n      for (i = 0; i < length; i++)\n        self[i] = ((subject[i] % 256) + 256) % 256\n    }\n  } else if (type === 'string') {\n    self.write(subject, 0, encoding)\n  } else if (type === 'number' && !Buffer.TYPED_ARRAY_SUPPORT && !noZero) {\n    for (i = 0; i < length; i++) {\n      self[i] = 0\n    }\n  }\n\n  if (length > 0 && length <= Buffer.poolSize)\n    self.parent = rootParent\n\n  return self\n}\n\nfunction SlowBuffer (subject, encoding, noZero) {\n  if (!(this instanceof SlowBuffer))\n    return new SlowBuffer(subject, encoding, noZero)\n\n  var buf = new Buffer(subject, encoding, noZero)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b))\n    throw new TypeError('Arguments must be Buffers')\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n  for (var i = 0, len = Math.min(x, y); i < len && a[i] === b[i]; i++) {}\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function (list, totalLength) {\n  if (!isArray(list)) throw new TypeError('Usage: Buffer.concat(list[, length])')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (totalLength === undefined) {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nBuffer.byteLength = function (str, encoding) {\n  var ret\n  str = str + ''\n  switch (encoding || 'utf8') {\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    case 'hex':\n      ret = str.length >>> 1\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    default:\n      ret = str.length\n  }\n  return ret\n}\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\n// toString(encoding, start=0, end=buffer.length)\nBuffer.prototype.toString = function (encoding, start, end) {\n  var loweredCase = false\n\n  start = start >>> 0\n  end = end === undefined || end === Infinity ? this.length : end >>> 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase)\n          throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.equals = function (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max)\n      str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var byte = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(byte)) throw new Error('Invalid hex string')\n    buf[offset + i] = byte\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n  return charsWritten\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction utf16leWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length, 2)\n  return charsWritten\n}\n\nBuffer.prototype.write = function (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n\n  if (length < 0 || offset < 0 || offset > this.length)\n    throw new RangeError('attempt to write outside buffer bounds')\n\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new TypeError('Unknown encoding: ' + encoding)\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0)\n      start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0)\n      end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start)\n    end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined, true)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length)\n    newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0)\n    throw new RangeError('offset is not uint')\n  if (offset + ext > length)\n    throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100))\n    val += this[offset + i] * mul\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100))\n    val += this[offset + --byteLength] * mul\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n      ((this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100))\n    val += this[offset + i] * mul\n  mul *= 0x80\n\n  if (val >= mul)\n    val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100))\n    val += this[offset + --i] * mul\n  mul *= 0x80\n\n  if (val >= mul)\n    val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80))\n    return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16) |\n      (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n      (this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100))\n    this[offset + i] = (value / mul) >>> 0 & 0xFF\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100))\n    this[offset + i] = (value / mul) >>> 0 & 0xFF\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkInt(this,\n             value,\n             offset,\n             byteLength,\n             Math.pow(2, 8 * byteLength - 1) - 1,\n             -Math.pow(2, 8 * byteLength - 1))\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100))\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkInt(this,\n             value,\n             offset,\n             byteLength,\n             Math.pow(2, 8 * byteLength - 1) - 1,\n             -Math.pow(2, 8 * byteLength - 1))\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100))\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function (target, target_start, start, end) {\n  var self = this // source\n\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (target_start >= target.length) target_start = target.length\n  if (!target_start) target_start = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || self.length === 0) return 0\n\n  // Fatal error conditions\n  if (target_start < 0)\n    throw new RangeError('targetStart out of bounds')\n  if (start < 0 || start >= self.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length)\n    end = this.length\n  if (target.length - target_start < end - start)\n    end = target.length - target_start + start\n\n  var len = end - start\n\n  if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + target_start] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array get/set methods before overwriting\n  arr._get = arr.get\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z\\-]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n  var i = 0\n\n  for (; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (leadSurrogate) {\n        // 2 leads in a row\n        if (codePoint < 0xDC00) {\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          leadSurrogate = codePoint\n          continue\n        } else {\n          // valid surrogate pair\n          codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000\n          leadSurrogate = null\n        }\n      } else {\n        // no lead yet\n\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else {\n          // valid lead\n          leadSurrogate = codePoint\n          continue\n        }\n      }\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n      leadSurrogate = null\n    }\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x200000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length, unitSize) {\n  if (unitSize) length -= length % unitSize\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length))\n      break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n\n},{\"base64-js\":25,\"ieee754\":26,\"is-array\":27}],25:[function(require,module,exports){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n},{}],26:[function(require,module,exports){\nexports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n},{}],27:[function(require,module,exports){\n\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n\n},{}],28:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],29:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],30:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n},{}],31:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n},{}],32:[function(require,module,exports){\n'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n},{\"./decode\":30,\"./encode\":31}],33:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n},{\"events\":28,\"inherits\":35,\"readable-stream/duplex.js\":37,\"readable-stream/passthrough.js\":46,\"readable-stream/readable.js\":47,\"readable-stream/transform.js\":48,\"readable-stream/writable.js\":49}],34:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n},{\"buffer\":24}],35:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],36:[function(require,module,exports){\n(function (process){\n// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof self !== \"undefined\") {\n        self.Q = definition();\n\n    } else {\n        throw new Error(\"This environment was not anticiapted by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n\n    function flush() {\n        /* jshint loopfunc: true */\n\n        while (head.next) {\n            head = head.next;\n            var task = head.task;\n            head.task = void 0;\n            var domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n\n            try {\n                task();\n\n            } catch (e) {\n                if (isNodeJS) {\n                    // In node, uncaught exceptions are considered fatal errors.\n                    // Re-throw them synchronously to interrupt flushing!\n\n                    // Ensure continuation if the uncaught exception is suppressed\n                    // listening \"uncaughtException\" events (as domains does).\n                    // Continue in next event to avoid tick recursion.\n                    if (domain) {\n                        domain.exit();\n                    }\n                    setTimeout(flush, 0);\n                    if (domain) {\n                        domain.enter();\n                    }\n\n                    throw e;\n\n                } else {\n                    // In browsers, uncaught exceptions are not fatal.\n                    // Re-throw them asynchronously to avoid slow-downs.\n                    setTimeout(function() {\n                       throw e;\n                    }, 0);\n                }\n            }\n\n            if (domain) {\n                domain.exit();\n            }\n        }\n\n        flushing = false;\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process !== \"undefined\" && process.nextTick) {\n        // Node.js before 0.9. Note that some fake-Node environments, like the\n        // Mocha test runner, introduce a `process` global without a `nextTick`.\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function(resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function(answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If it’s a fulfilled promise, the fulfillment value is nearer.\n * If it’s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var countDown = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++countDown;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--countDown === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (countDown === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n}).call(this,require('_process'))\n},{\"_process\":29}],37:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_duplex.js\")\n\n},{\"./lib/_stream_duplex.js\":38}],38:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_readable\":40,\"./_stream_writable\":42,\"_process\":29,\"core-util-is\":43,\"inherits\":35}],39:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n},{\"./_stream_transform\":41,\"core-util-is\":43,\"inherits\":35}],40:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = false;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // In streams that never have any data, and do push(null) right away,\n  // the consumer can miss the 'end' event if they do some I/O before\n  // consuming the stream.  So, we don't emit('end') until some reading\n  // happens.\n  this.calledRead = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (typeof chunk === 'string' && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null || chunk === undefined) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      // update the buffer info.\n      state.length += state.objectMode ? 1 : chunk.length;\n      if (addToFront) {\n        state.buffer.unshift(chunk);\n      } else {\n        state.reading = false;\n        state.buffer.push(chunk);\n      }\n\n      if (state.needReadable)\n        emitReadable(stream);\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (n === null || isNaN(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  var state = this._readableState;\n  state.calledRead = true;\n  var nOrig = n;\n  var ret;\n\n  if (typeof n !== 'number' || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    ret = null;\n\n    // In cases where the decoder did not receive enough data\n    // to produce a full chunk, then immediately received an\n    // EOF, state.buffer will contain [<Buffer >, <Buffer 00 ...>].\n    // howMuchToRead will see this and coerce the amount to\n    // read to zero (because it's looking at the length of the\n    // first <Buffer > in state.buffer), and we'll end up here.\n    //\n    // This can only happen via state.decoder -- no other venue\n    // exists for pushing a zero-length chunk into state.buffer\n    // and triggering this behavior. In this case, we return our\n    // remaining data and end the stream, if appropriate.\n    if (state.length > 0 && state.decoder) {\n      ret = fromList(n, state);\n      state.length -= ret.length;\n    }\n\n    if (state.length === 0)\n      endReadable(this);\n\n    return ret;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length - n <= state.highWaterMark)\n    doRead = true;\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading)\n    doRead = false;\n\n  if (doRead) {\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read called its callback synchronously, then `reading`\n  // will be false, and we need to re-evaluate how much data we\n  // can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we happened to read() exactly the remaining amount in the\n  // buffer, and the EOF has been seen at this point, then make sure\n  // that we emit 'end' on the very next tick.\n  if (state.ended && !state.endEmitted && state.length === 0)\n    endReadable(this);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // if we've ended and we have some data left, then emit\n  // 'readable' now to make sure it gets picked up.\n  if (state.length > 0)\n    emitReadable(stream);\n  else\n    endReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (state.emittedReadable)\n    return;\n\n  state.emittedReadable = true;\n  if (state.sync)\n    process.nextTick(function() {\n      emitReadable_(stream);\n    });\n  else\n    emitReadable_(stream);\n}\n\nfunction emitReadable_(stream) {\n  stream.emit('readable');\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    if (readable !== src) return;\n    cleanup();\n  }\n\n  function onend() {\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (!dest._writableState || dest._writableState.needDrain)\n      ondrain();\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    // the handler that waits for readable events after all\n    // the data gets sucked out in flow.\n    // This would be easier to follow with a .once() handler\n    // in flow(), but that is too slow.\n    this.on('readable', pipeOnReadable);\n\n    state.flowing = true;\n    process.nextTick(function() {\n      flow(src);\n    });\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var dest = this;\n    var state = src._readableState;\n    state.awaitDrain--;\n    if (state.awaitDrain === 0)\n      flow(src);\n  };\n}\n\nfunction flow(src) {\n  var state = src._readableState;\n  var chunk;\n  state.awaitDrain = 0;\n\n  function write(dest, i, list) {\n    var written = dest.write(chunk);\n    if (false === written) {\n      state.awaitDrain++;\n    }\n  }\n\n  while (state.pipesCount && null !== (chunk = src.read())) {\n\n    if (state.pipesCount === 1)\n      write(state.pipes, 0, null);\n    else\n      forEach(state.pipes, write);\n\n    src.emit('data', chunk);\n\n    // if anyone needs a drain, then we have to wait for that.\n    if (state.awaitDrain > 0)\n      return;\n  }\n\n  // if every destination was unpiped, either before entering this\n  // function, or in the while loop, then stop flowing.\n  //\n  // NB: This is a pretty rare edge case.\n  if (state.pipesCount === 0) {\n    state.flowing = false;\n\n    // if there were data event listeners added, then switch to old mode.\n    if (EE.listenerCount(src, 'data') > 0)\n      emitDataEvents(src);\n    return;\n  }\n\n  // at this point, no one needed a drain, so we just ran out of data\n  // on the next readable event, start it over again.\n  state.ranOut = true;\n}\n\nfunction pipeOnReadable() {\n  if (this._readableState.ranOut) {\n    this._readableState.ranOut = false;\n    flow(this);\n  }\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data' && !this._readableState.flowing)\n    emitDataEvents(this);\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        this.read(0);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  emitDataEvents(this);\n  this.read(0);\n  this.emit('resume');\n};\n\nReadable.prototype.pause = function() {\n  emitDataEvents(this, true);\n  this.emit('pause');\n};\n\nfunction emitDataEvents(stream, startPaused) {\n  var state = stream._readableState;\n\n  if (state.flowing) {\n    // https://github.com/isaacs/readable-stream/issues/16\n    throw new Error('Cannot switch to old mode now.');\n  }\n\n  var paused = startPaused || false;\n  var readable = false;\n\n  // convert to an old-style stream.\n  stream.readable = true;\n  stream.pipe = Stream.prototype.pipe;\n  stream.on = stream.addListener = Stream.prototype.on;\n\n  stream.on('readable', function() {\n    readable = true;\n\n    var c;\n    while (!paused && (null !== (c = stream.read())))\n      stream.emit('data', c);\n\n    if (c === null) {\n      readable = false;\n      stream._readableState.needReadable = true;\n    }\n  });\n\n  stream.pause = function() {\n    paused = true;\n    this.emit('pause');\n  };\n\n  stream.resume = function() {\n    paused = false;\n    if (readable)\n      process.nextTick(function() {\n        stream.emit('readable');\n      });\n    else\n      this.read(0);\n    this.emit('resume');\n  };\n\n  // now make it start, just in case it hadn't already.\n  stream.emit('readable');\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    //if (state.objectMode && util.isNullOrUndefined(chunk))\n    if (state.objectMode && (chunk === null || chunk === undefined))\n      return;\n    else if (!state.objectMode && (!chunk || !chunk.length))\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (typeof stream[i] === 'function' &&\n        typeof this[i] === 'undefined') {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted && state.calledRead) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n}).call(this,require('_process'))\n},{\"_process\":29,\"buffer\":24,\"core-util-is\":43,\"events\":28,\"inherits\":35,\"isarray\":44,\"stream\":33,\"string_decoder/\":45}],41:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined)\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  var ts = this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('finish', function() {\n    if ('function' === typeof this._flush)\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n},{\"./_stream_duplex\":38,\"core-util-is\":43,\"inherits\":35}],42:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function')\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb))\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n\n  return ret;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      typeof chunk === 'string') {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      cb(er);\n    });\n  else\n    cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished && !state.bufferProcessing && state.buffer.length)\n      clearBuffer(stream, state);\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  cb();\n  if (finished)\n    finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  for (var c = 0; c < state.buffer.length; c++) {\n    var entry = state.buffer[c];\n    var chunk = entry.chunk;\n    var encoding = entry.encoding;\n    var cb = entry.callback;\n    var len = state.objectMode ? 1 : chunk.length;\n\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n    // if we didn't call the onwrite immediately, then\n    // it means that we need to wait until it does.\n    // also, that means that the chunk and cb are currently\n    // being processed, so move the buffer counter past them.\n    if (state.writing) {\n      c++;\n      break;\n    }\n  }\n\n  state.bufferProcessing = false;\n  if (c < state.buffer.length)\n    state.buffer = state.buffer.slice(c);\n  else\n    state.buffer.length = 0;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (typeof chunk !== 'undefined' && chunk !== null)\n    this.write(chunk, encoding);\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    state.finished = true;\n    stream.emit('finish');\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":38,\"_process\":29,\"buffer\":24,\"core-util-is\":43,\"inherits\":35,\"stream\":33}],43:[function(require,module,exports){\n(function (Buffer){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nfunction isBuffer(arg) {\n  return Buffer.isBuffer(arg);\n}\nexports.isBuffer = isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":24}],44:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],45:[function(require,module,exports){\narguments[4][34][0].apply(exports,arguments)\n},{\"buffer\":24,\"dup\":34}],46:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\n\n},{\"./lib/_stream_passthrough.js\":39}],47:[function(require,module,exports){\nvar Stream = require('stream'); // hack to fix a circular dependency issue when used with browserify\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = Stream;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\n},{\"./lib/_stream_duplex.js\":38,\"./lib/_stream_passthrough.js\":39,\"./lib/_stream_readable.js\":40,\"./lib/_stream_transform.js\":41,\"./lib/_stream_writable.js\":42,\"stream\":33}],48:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_transform.js\")\n\n},{\"./lib/_stream_transform.js\":41}],49:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_writable.js\")\n\n},{\"./lib/_stream_writable.js\":42}],50:[function(require,module,exports){\n//     Underscore.js 1.7.0\n//     http://underscorejs.org\n//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    concat           = ArrayProto.concat,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.7.0';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var createCallback = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  _.iteratee = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return createCallback(value, context, argCount);\n    if (_.isObject(value)) return _.matches(value);\n    return _.property(value);\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    if (obj == null) return obj;\n    iteratee = createCallback(iteratee, context);\n    var i, length = obj.length;\n    if (length === +length) {\n      for (i = 0; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    if (obj == null) return [];\n    iteratee = _.iteratee(iteratee, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length),\n        currentKey;\n    for (var index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = function(obj, iteratee, memo, context) {\n    if (obj == null) obj = [];\n    iteratee = createCallback(iteratee, context, 4);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index = 0, currentKey;\n    if (arguments.length < 3) {\n      if (!length) throw new TypeError(reduceError);\n      memo = obj[keys ? keys[index++] : index++];\n    }\n    for (; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = function(obj, iteratee, memo, context) {\n    if (obj == null) obj = [];\n    iteratee = createCallback(iteratee, context, 4);\n    var keys = obj.length !== + obj.length && _.keys(obj),\n        index = (keys || obj).length,\n        currentKey;\n    if (arguments.length < 3) {\n      if (!index) throw new TypeError(reduceError);\n      memo = obj[keys ? keys[--index] : --index];\n    }\n    while (index--) {\n      currentKey = keys ? keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var result;\n    predicate = _.iteratee(predicate, context);\n    _.some(obj, function(value, index, list) {\n      if (predicate(value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    if (obj == null) return results;\n    predicate = _.iteratee(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(_.iteratee(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    if (obj == null) return true;\n    predicate = _.iteratee(predicate, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index, currentKey;\n    for (index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    if (obj == null) return false;\n    predicate = _.iteratee(predicate, context);\n    var keys = obj.length !== +obj.length && _.keys(obj),\n        length = (keys || obj).length,\n        index, currentKey;\n    for (index = 0; index < length; index++) {\n      currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (obj.length !== +obj.length) obj = _.values(obj);\n    return _.indexOf(obj, target) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      return (isFunc ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matches(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matches(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = obj.length === +obj.length ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = obj.length === +obj.length ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = obj && obj.length === +obj.length ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (obj.length !== +obj.length) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = _.iteratee(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = _.iteratee(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = _.iteratee(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = low + high >>> 1;\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return obj.length === +obj.length ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = _.iteratee(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    if (n < 0) return [];\n    return slice.call(array, 0, n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return slice.call(array, Math.max(array.length - n, 0));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    if (shallow && _.every(input, _.isArray)) {\n      return concat.apply(output, input);\n    }\n    for (var i = 0, length = input.length; i < length; i++) {\n      var value = input[i];\n      if (!_.isArray(value) && !_.isArguments(value)) {\n        if (!strict) output.push(value);\n      } else if (shallow) {\n        push.apply(output, value);\n      } else {\n        flatten(value, shallow, strict, output);\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (array == null) return [];\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = _.iteratee(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = array.length; i < length; i++) {\n      var value = array[i];\n      if (isSorted) {\n        if (!i || seen !== value) result.push(value);\n        seen = value;\n      } else if (iteratee) {\n        var computed = iteratee(value, i, array);\n        if (_.indexOf(seen, computed) < 0) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (_.indexOf(result, value) < 0) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true, []));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    if (array == null) return [];\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = array.length; i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(slice.call(arguments, 1), true, true, []);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function(array) {\n    if (array == null) return [];\n    var length = _.max(arguments, 'length').length;\n    var results = Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(arguments, i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, length = list.length; i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, length = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted;\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    for (; i < length; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var idx = array.length;\n    if (typeof from == 'number') {\n      idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1);\n    }\n    while (--idx >= 0) if (array[idx] === item) return idx;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Reusable constructor function for prototype setting.\n  var Ctor = function(){};\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    var args, bound;\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    args = slice.call(arguments, 2);\n    bound = function() {\n      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));\n      Ctor.prototype = func.prototype;\n      var self = new Ctor;\n      Ctor.prototype = null;\n      var result = func.apply(self, args.concat(slice.call(arguments)));\n      if (_.isObject(result)) return result;\n      return self;\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    return function() {\n      var position = 0;\n      var args = boundArgs.slice();\n      for (var i = 0, length = args.length; i < length; i++) {\n        if (args[i] === _) args[i] = arguments[position++];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return func.apply(this, args);\n    };\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = hasher ? hasher.apply(this, arguments) : key;\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last > 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed before being called N times.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      } else {\n        func = null;\n      }\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (hasOwnProperty.call(source, prop)) {\n            obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj, iteratee, context) {\n    var result = {}, key;\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      iteratee = createCallback(iteratee, context);\n      for (key in obj) {\n        var value = obj[key];\n        if (iteratee(value, key, obj)) result[key] = value;\n      }\n    } else {\n      var keys = concat.apply([], slice.call(arguments, 1));\n      obj = new Object(obj);\n      for (var i = 0, length = keys.length; i < length; i++) {\n        key = keys[i];\n        if (key in obj) result[key] = obj[key];\n      }\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(concat.apply([], slice.call(arguments, 1)), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      var source = arguments[i];\n      for (var prop in source) {\n        if (obj[prop] === void 0) obj[prop] = source[prop];\n      }\n    }\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n    // Objects with different constructors are not equivalent, but `Object`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (\n      aCtor !== bCtor &&\n      // Handle Object.create(x) cases\n      'constructor' in a && 'constructor' in b &&\n      !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n        _.isFunction(bCtor) && bCtor instanceof bCtor)\n    ) {\n      return false;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size, result;\n    // Recursively compare objects and arrays.\n    if (className === '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size === b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      size = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      result = _.keys(b).length === size;\n      if (result) {\n        while (size--) {\n          // Deep compare each member\n          key = keys[size];\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around an IE 11 bug.\n  if (typeof /./ !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = function(key) {\n    return function(obj) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of `key:value` pairs.\n  _.matches = function(attrs) {\n    var pairs = _.pairs(attrs), length = pairs.length;\n    return function(obj) {\n      if (obj == null) return !length;\n      obj = new Object(obj);\n      for (var i = 0; i < length; i++) {\n        var pair = pairs[i], key = pair[0];\n        if (pair[1] !== obj[key] || !(key in obj)) return false;\n      }\n      return true;\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = createCallback(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return void 0;\n    var value = object[property];\n    return _.isFunction(value) ? object[property]() : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n},{}],51:[function(require,module,exports){\n// Generated by CoffeeScript 1.8.0\n(function() {\n  var xml2js;\n\n  xml2js = require('../lib/xml2js');\n\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n\n},{\"../lib/xml2js\":53}],52:[function(require,module,exports){\n// Generated by CoffeeScript 1.8.0\n(function() {\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n}).call(this);\n\n},{}],53:[function(require,module,exports){\n// Generated by CoffeeScript 1.8.0\n(function() {\n  var bom, builder, escapeCDATA, events, isEmpty, processName, processors, requiresCDATA, sax, wrapCDATA,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  sax = require('sax');\n\n  events = require('events');\n\n  builder = require('xmlbuilder');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processName = function(processors, processedName) {\n    var process, _i, _len;\n    for (_i = 0, _len = processors.length; _i < _len; _i++) {\n      process = processors[_i];\n      processedName = process(processedName);\n    }\n    return processedName;\n  };\n\n  requiresCDATA = function(entry) {\n    return entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0;\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.processors = processors;\n\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n  exports.ValidationError = (function(_super) {\n    __extends(ValidationError, _super);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, value, _ref;\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === exports.defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else {\n            for (key in obj) {\n              if (!__hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (typeof child === 'object' && child instanceof Array) {\n                for (index in child) {\n                  if (!__hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = arguments.callee(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = arguments.callee(element.ele(key), child).up();\n              } else {\n                element = element.ele(key, child.toString()).up();\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n  exports.Parser = (function(_super) {\n    __extends(Parser, _super);\n\n    function Parser(opts) {\n      this.parseString = __bind(this.parseString, this);\n      this.reset = __bind(this.reset, this);\n      this.assignOrPush = __bind(this.assignOrPush, this);\n      this.processAsync = __bind(this.processAsync, this);\n      var key, value, _ref;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk;\n      if (this.remaining.length <= this.options.chunkSize) {\n        chunk = this.remaining;\n        this.remaining = '';\n        this.saxParser = this.saxParser.write(chunk);\n        return this.saxParser.close();\n      } else {\n        chunk = this.remaining.substr(0, this.options.chunkSize);\n        this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n        this.saxParser = this.saxParser.write(chunk);\n        return setImmediate(this.processAsync);\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, _ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            _ref = node.attributes;\n            for (key in _ref) {\n              if (!__hasProp.call(_ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processName(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processName(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, err, node, nodeName, obj, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          delete obj[\"#name\"];\n          cdata = obj.cdata;\n          delete obj.cdata;\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var _i, _len, _results;\n              _results = [];\n              for (_i = 0, _len = stack.length; _i < _len; _i++) {\n                node = stack[_i];\n                _results.push(node[\"#name\"]);\n              }\n              return _results;\n            })()).concat(nodeName).join(\"/\");\n            try {\n              obj = _this.options.validator(xpath, s && s[nodeName], obj);\n            } catch (_error) {\n              err = _error;\n              _this.emit(\"error\", err);\n            }\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            node = {};\n            if (_this.options.attrkey in obj) {\n              node[_this.options.attrkey] = obj[_this.options.attrkey];\n              delete obj[_this.options.attrkey];\n            }\n            if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n              node[_this.options.charkey] = obj[_this.options.charkey];\n              delete obj[_this.options.charkey];\n            }\n            if (Object.getOwnPropertyNames(obj).length > 0) {\n              node[_this.options.childkey] = obj;\n            }\n            obj = node;\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      str = str.toString();\n      if (str.trim() === '') {\n        this.emit(\"end\", null);\n        return true;\n      }\n      try {\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (_error) {\n        err = _error;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n\n},{\"./bom\":51,\"./processors\":52,\"events\":28,\"sax\":54,\"xmlbuilder\":71}],54:[function(require,module,exports){\n(function (Buffer){\n// wrapper for non-node envs\n;(function (sax) {\n\nsax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\nsax.SAXParser = SAXParser\nsax.SAXStream = SAXStream\nsax.createStream = createStream\n\n// When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n// When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n// since that's the earliest that a buffer overrun could occur.  This way, checks are\n// as rare as required, but as often as necessary to ensure never crossing this bound.\n// Furthermore, buffers are only tested at most once per write(), so passing a very\n// large string into write() might have undesirable effects, but this is manageable by\n// the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n// edge case, result in creating at most one complete copy of the string passed in.\n// Set to Infinity to have unlimited buffers.\nsax.MAX_BUFFER_LENGTH = 64 * 1024\n\nvar buffers = [\n  \"comment\", \"sgmlDecl\", \"textNode\", \"tagName\", \"doctype\",\n  \"procInstName\", \"procInstBody\", \"entity\", \"attribName\",\n  \"attribValue\", \"cdata\", \"script\"\n]\n\nsax.EVENTS = // for discoverability.\n  [ \"text\"\n  , \"processinginstruction\"\n  , \"sgmldeclaration\"\n  , \"doctype\"\n  , \"comment\"\n  , \"attribute\"\n  , \"opentag\"\n  , \"closetag\"\n  , \"opencdata\"\n  , \"cdata\"\n  , \"closecdata\"\n  , \"error\"\n  , \"end\"\n  , \"ready\"\n  , \"script\"\n  , \"opennamespace\"\n  , \"closenamespace\"\n  ]\n\nfunction SAXParser (strict, opt) {\n  if (!(this instanceof SAXParser)) return new SAXParser(strict, opt)\n\n  var parser = this\n  clearBuffers(parser)\n  parser.q = parser.c = \"\"\n  parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n  parser.opt = opt || {}\n  parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n  parser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\"\n  parser.tags = []\n  parser.closed = parser.closedRoot = parser.sawRoot = false\n  parser.tag = parser.error = null\n  parser.strict = !!strict\n  parser.noscript = !!(strict || parser.opt.noscript)\n  parser.state = S.BEGIN\n  parser.ENTITIES = Object.create(sax.ENTITIES)\n  parser.attribList = []\n\n  // namespaces form a prototype chain.\n  // it always points at the current tag,\n  // which protos to its parent tag.\n  if (parser.opt.xmlns) parser.ns = Object.create(rootNS)\n\n  // mostly just for error reporting\n  parser.trackPosition = parser.opt.position !== false\n  if (parser.trackPosition) {\n    parser.position = parser.line = parser.column = 0\n  }\n  emit(parser, \"onready\")\n}\n\nif (!Object.create) Object.create = function (o) {\n  function f () { this.__proto__ = o }\n  f.prototype = o\n  return new f\n}\n\nif (!Object.getPrototypeOf) Object.getPrototypeOf = function (o) {\n  return o.__proto__\n}\n\nif (!Object.keys) Object.keys = function (o) {\n  var a = []\n  for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n  return a\n}\n\nfunction checkBufferLength (parser) {\n  var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    , maxActual = 0\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    var len = parser[buffers[i]].length\n    if (len > maxAllowed) {\n      // Text/cdata nodes can get big, and since they're buffered,\n      // we can get here under normal conditions.\n      // Avoid issues by emitting the text node now,\n      // so at least it won't get any bigger.\n      switch (buffers[i]) {\n        case \"textNode\":\n          closeText(parser)\n        break\n\n        case \"cdata\":\n          emitNode(parser, \"oncdata\", parser.cdata)\n          parser.cdata = \"\"\n        break\n\n        case \"script\":\n          emitNode(parser, \"onscript\", parser.script)\n          parser.script = \"\"\n        break\n\n        default:\n          error(parser, \"Max buffer length exceeded: \"+buffers[i])\n      }\n    }\n    maxActual = Math.max(maxActual, len)\n  }\n  // schedule the next check for the earliest possible buffer overrun.\n  parser.bufferCheckPosition = (sax.MAX_BUFFER_LENGTH - maxActual)\n                             + parser.position\n}\n\nfunction clearBuffers (parser) {\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    parser[buffers[i]] = \"\"\n  }\n}\n\nfunction flushBuffers (parser) {\n  closeText(parser)\n  if (parser.cdata !== \"\") {\n    emitNode(parser, \"oncdata\", parser.cdata)\n    parser.cdata = \"\"\n  }\n  if (parser.script !== \"\") {\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n}\n\nSAXParser.prototype =\n  { end: function () { end(this) }\n  , write: write\n  , resume: function () { this.error = null; return this }\n  , close: function () { return this.write(null) }\n  , flush: function () { flushBuffers(this) }\n  }\n\ntry {\n  var Stream = require(\"stream\").Stream\n} catch (ex) {\n  var Stream = function () {}\n}\n\n\nvar streamWraps = sax.EVENTS.filter(function (ev) {\n  return ev !== \"error\" && ev !== \"end\"\n})\n\nfunction createStream (strict, opt) {\n  return new SAXStream(strict, opt)\n}\n\nfunction SAXStream (strict, opt) {\n  if (!(this instanceof SAXStream)) return new SAXStream(strict, opt)\n\n  Stream.apply(this)\n\n  this._parser = new SAXParser(strict, opt)\n  this.writable = true\n  this.readable = true\n\n\n  var me = this\n\n  this._parser.onend = function () {\n    me.emit(\"end\")\n  }\n\n  this._parser.onerror = function (er) {\n    me.emit(\"error\", er)\n\n    // if didn't throw, then means error was handled.\n    // go ahead and clear error, so we can write again.\n    me._parser.error = null\n  }\n\n  this._decoder = null;\n\n  streamWraps.forEach(function (ev) {\n    Object.defineProperty(me, \"on\" + ev, {\n      get: function () { return me._parser[\"on\" + ev] },\n      set: function (h) {\n        if (!h) {\n          me.removeAllListeners(ev)\n          return me._parser[\"on\"+ev] = h\n        }\n        me.on(ev, h)\n      },\n      enumerable: true,\n      configurable: false\n    })\n  })\n}\n\nSAXStream.prototype = Object.create(Stream.prototype,\n  { constructor: { value: SAXStream } })\n\nSAXStream.prototype.write = function (data) {\n  if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n    if (!this._decoder) {\n      var SD = require('string_decoder').StringDecoder\n      this._decoder = new SD('utf8')\n    }\n    data = this._decoder.write(data);\n  }\n\n  this._parser.write(data.toString())\n  this.emit(\"data\", data)\n  return true\n}\n\nSAXStream.prototype.end = function (chunk) {\n  if (chunk && chunk.length) this.write(chunk)\n  this._parser.end()\n  return true\n}\n\nSAXStream.prototype.on = function (ev, handler) {\n  var me = this\n  if (!me._parser[\"on\"+ev] && streamWraps.indexOf(ev) !== -1) {\n    me._parser[\"on\"+ev] = function () {\n      var args = arguments.length === 1 ? [arguments[0]]\n               : Array.apply(null, arguments)\n      args.splice(0, 0, ev)\n      me.emit.apply(me, args)\n    }\n  }\n\n  return Stream.prototype.on.call(me, ev, handler)\n}\n\n\n\n// character classes and tokens\nvar whitespace = \"\\r\\n\\t \"\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  , number = \"0124356789\"\n  , letter = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n  // (Letter | \"_\" | \":\")\n  , quote = \"'\\\"\"\n  , entity = number+letter+\"#\"\n  , attribEnd = whitespace + \">\"\n  , CDATA = \"[CDATA[\"\n  , DOCTYPE = \"DOCTYPE\"\n  , XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\"\n  , XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\"\n  , rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n// turn all the string character sets into character class objects.\nwhitespace = charClass(whitespace)\nnumber = charClass(number)\nletter = charClass(letter)\n\n// http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n// This implementation works on strings, a single character at a time\n// as such, it cannot ever support astral-plane characters (10000-EFFFF)\n// without a significant breaking change to either this  parser, or the\n// JavaScript language.  Implementation of an emoji-capable xml parser\n// is left as an exercise for the reader.\nvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\nvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\nquote = charClass(quote)\nentity = charClass(entity)\nattribEnd = charClass(attribEnd)\n\nfunction charClass (str) {\n  return str.split(\"\").reduce(function (s, c) {\n    s[c] = true\n    return s\n  }, {})\n}\n\nfunction isRegExp (c) {\n  return Object.prototype.toString.call(c) === '[object RegExp]'\n}\n\nfunction is (charclass, c) {\n  return isRegExp(charclass) ? !!c.match(charclass) : charclass[c]\n}\n\nfunction not (charclass, c) {\n  return !is(charclass, c)\n}\n\nvar S = 0\nsax.STATE =\n{ BEGIN                     : S++\n, TEXT                      : S++ // general stuff\n, TEXT_ENTITY               : S++ // &amp and such.\n, OPEN_WAKA                 : S++ // <\n, SGML_DECL                 : S++ // <!BLARG\n, SGML_DECL_QUOTED          : S++ // <!BLARG foo \"bar\n, DOCTYPE                   : S++ // <!DOCTYPE\n, DOCTYPE_QUOTED            : S++ // <!DOCTYPE \"//blah\n, DOCTYPE_DTD               : S++ // <!DOCTYPE \"//blah\" [ ...\n, DOCTYPE_DTD_QUOTED        : S++ // <!DOCTYPE \"//blah\" [ \"foo\n, COMMENT_STARTING          : S++ // <!-\n, COMMENT                   : S++ // <!--\n, COMMENT_ENDING            : S++ // <!-- blah -\n, COMMENT_ENDED             : S++ // <!-- blah --\n, CDATA                     : S++ // <![CDATA[ something\n, CDATA_ENDING              : S++ // ]\n, CDATA_ENDING_2            : S++ // ]]\n, PROC_INST                 : S++ // <?hi\n, PROC_INST_BODY            : S++ // <?hi there\n, PROC_INST_ENDING          : S++ // <?hi \"there\" ?\n, OPEN_TAG                  : S++ // <strong\n, OPEN_TAG_SLASH            : S++ // <strong /\n, ATTRIB                    : S++ // <a\n, ATTRIB_NAME               : S++ // <a foo\n, ATTRIB_NAME_SAW_WHITE     : S++ // <a foo _\n, ATTRIB_VALUE              : S++ // <a foo=\n, ATTRIB_VALUE_QUOTED       : S++ // <a foo=\"bar\n, ATTRIB_VALUE_CLOSED       : S++ // <a foo=\"bar\"\n, ATTRIB_VALUE_UNQUOTED     : S++ // <a foo=bar\n, ATTRIB_VALUE_ENTITY_Q     : S++ // <foo bar=\"&quot;\"\n, ATTRIB_VALUE_ENTITY_U     : S++ // <foo bar=&quot;\n, CLOSE_TAG                 : S++ // </a\n, CLOSE_TAG_SAW_WHITE       : S++ // </a   >\n, SCRIPT                    : S++ // <script> ...\n, SCRIPT_ENDING             : S++ // <script> ... <\n}\n\nsax.ENTITIES =\n{ \"amp\" : \"&\"\n, \"gt\" : \">\"\n, \"lt\" : \"<\"\n, \"quot\" : \"\\\"\"\n, \"apos\" : \"'\"\n, \"AElig\" : 198\n, \"Aacute\" : 193\n, \"Acirc\" : 194\n, \"Agrave\" : 192\n, \"Aring\" : 197\n, \"Atilde\" : 195\n, \"Auml\" : 196\n, \"Ccedil\" : 199\n, \"ETH\" : 208\n, \"Eacute\" : 201\n, \"Ecirc\" : 202\n, \"Egrave\" : 200\n, \"Euml\" : 203\n, \"Iacute\" : 205\n, \"Icirc\" : 206\n, \"Igrave\" : 204\n, \"Iuml\" : 207\n, \"Ntilde\" : 209\n, \"Oacute\" : 211\n, \"Ocirc\" : 212\n, \"Ograve\" : 210\n, \"Oslash\" : 216\n, \"Otilde\" : 213\n, \"Ouml\" : 214\n, \"THORN\" : 222\n, \"Uacute\" : 218\n, \"Ucirc\" : 219\n, \"Ugrave\" : 217\n, \"Uuml\" : 220\n, \"Yacute\" : 221\n, \"aacute\" : 225\n, \"acirc\" : 226\n, \"aelig\" : 230\n, \"agrave\" : 224\n, \"aring\" : 229\n, \"atilde\" : 227\n, \"auml\" : 228\n, \"ccedil\" : 231\n, \"eacute\" : 233\n, \"ecirc\" : 234\n, \"egrave\" : 232\n, \"eth\" : 240\n, \"euml\" : 235\n, \"iacute\" : 237\n, \"icirc\" : 238\n, \"igrave\" : 236\n, \"iuml\" : 239\n, \"ntilde\" : 241\n, \"oacute\" : 243\n, \"ocirc\" : 244\n, \"ograve\" : 242\n, \"oslash\" : 248\n, \"otilde\" : 245\n, \"ouml\" : 246\n, \"szlig\" : 223\n, \"thorn\" : 254\n, \"uacute\" : 250\n, \"ucirc\" : 251\n, \"ugrave\" : 249\n, \"uuml\" : 252\n, \"yacute\" : 253\n, \"yuml\" : 255\n, \"copy\" : 169\n, \"reg\" : 174\n, \"nbsp\" : 160\n, \"iexcl\" : 161\n, \"cent\" : 162\n, \"pound\" : 163\n, \"curren\" : 164\n, \"yen\" : 165\n, \"brvbar\" : 166\n, \"sect\" : 167\n, \"uml\" : 168\n, \"ordf\" : 170\n, \"laquo\" : 171\n, \"not\" : 172\n, \"shy\" : 173\n, \"macr\" : 175\n, \"deg\" : 176\n, \"plusmn\" : 177\n, \"sup1\" : 185\n, \"sup2\" : 178\n, \"sup3\" : 179\n, \"acute\" : 180\n, \"micro\" : 181\n, \"para\" : 182\n, \"middot\" : 183\n, \"cedil\" : 184\n, \"ordm\" : 186\n, \"raquo\" : 187\n, \"frac14\" : 188\n, \"frac12\" : 189\n, \"frac34\" : 190\n, \"iquest\" : 191\n, \"times\" : 215\n, \"divide\" : 247\n, \"OElig\" : 338\n, \"oelig\" : 339\n, \"Scaron\" : 352\n, \"scaron\" : 353\n, \"Yuml\" : 376\n, \"fnof\" : 402\n, \"circ\" : 710\n, \"tilde\" : 732\n, \"Alpha\" : 913\n, \"Beta\" : 914\n, \"Gamma\" : 915\n, \"Delta\" : 916\n, \"Epsilon\" : 917\n, \"Zeta\" : 918\n, \"Eta\" : 919\n, \"Theta\" : 920\n, \"Iota\" : 921\n, \"Kappa\" : 922\n, \"Lambda\" : 923\n, \"Mu\" : 924\n, \"Nu\" : 925\n, \"Xi\" : 926\n, \"Omicron\" : 927\n, \"Pi\" : 928\n, \"Rho\" : 929\n, \"Sigma\" : 931\n, \"Tau\" : 932\n, \"Upsilon\" : 933\n, \"Phi\" : 934\n, \"Chi\" : 935\n, \"Psi\" : 936\n, \"Omega\" : 937\n, \"alpha\" : 945\n, \"beta\" : 946\n, \"gamma\" : 947\n, \"delta\" : 948\n, \"epsilon\" : 949\n, \"zeta\" : 950\n, \"eta\" : 951\n, \"theta\" : 952\n, \"iota\" : 953\n, \"kappa\" : 954\n, \"lambda\" : 955\n, \"mu\" : 956\n, \"nu\" : 957\n, \"xi\" : 958\n, \"omicron\" : 959\n, \"pi\" : 960\n, \"rho\" : 961\n, \"sigmaf\" : 962\n, \"sigma\" : 963\n, \"tau\" : 964\n, \"upsilon\" : 965\n, \"phi\" : 966\n, \"chi\" : 967\n, \"psi\" : 968\n, \"omega\" : 969\n, \"thetasym\" : 977\n, \"upsih\" : 978\n, \"piv\" : 982\n, \"ensp\" : 8194\n, \"emsp\" : 8195\n, \"thinsp\" : 8201\n, \"zwnj\" : 8204\n, \"zwj\" : 8205\n, \"lrm\" : 8206\n, \"rlm\" : 8207\n, \"ndash\" : 8211\n, \"mdash\" : 8212\n, \"lsquo\" : 8216\n, \"rsquo\" : 8217\n, \"sbquo\" : 8218\n, \"ldquo\" : 8220\n, \"rdquo\" : 8221\n, \"bdquo\" : 8222\n, \"dagger\" : 8224\n, \"Dagger\" : 8225\n, \"bull\" : 8226\n, \"hellip\" : 8230\n, \"permil\" : 8240\n, \"prime\" : 8242\n, \"Prime\" : 8243\n, \"lsaquo\" : 8249\n, \"rsaquo\" : 8250\n, \"oline\" : 8254\n, \"frasl\" : 8260\n, \"euro\" : 8364\n, \"image\" : 8465\n, \"weierp\" : 8472\n, \"real\" : 8476\n, \"trade\" : 8482\n, \"alefsym\" : 8501\n, \"larr\" : 8592\n, \"uarr\" : 8593\n, \"rarr\" : 8594\n, \"darr\" : 8595\n, \"harr\" : 8596\n, \"crarr\" : 8629\n, \"lArr\" : 8656\n, \"uArr\" : 8657\n, \"rArr\" : 8658\n, \"dArr\" : 8659\n, \"hArr\" : 8660\n, \"forall\" : 8704\n, \"part\" : 8706\n, \"exist\" : 8707\n, \"empty\" : 8709\n, \"nabla\" : 8711\n, \"isin\" : 8712\n, \"notin\" : 8713\n, \"ni\" : 8715\n, \"prod\" : 8719\n, \"sum\" : 8721\n, \"minus\" : 8722\n, \"lowast\" : 8727\n, \"radic\" : 8730\n, \"prop\" : 8733\n, \"infin\" : 8734\n, \"ang\" : 8736\n, \"and\" : 8743\n, \"or\" : 8744\n, \"cap\" : 8745\n, \"cup\" : 8746\n, \"int\" : 8747\n, \"there4\" : 8756\n, \"sim\" : 8764\n, \"cong\" : 8773\n, \"asymp\" : 8776\n, \"ne\" : 8800\n, \"equiv\" : 8801\n, \"le\" : 8804\n, \"ge\" : 8805\n, \"sub\" : 8834\n, \"sup\" : 8835\n, \"nsub\" : 8836\n, \"sube\" : 8838\n, \"supe\" : 8839\n, \"oplus\" : 8853\n, \"otimes\" : 8855\n, \"perp\" : 8869\n, \"sdot\" : 8901\n, \"lceil\" : 8968\n, \"rceil\" : 8969\n, \"lfloor\" : 8970\n, \"rfloor\" : 8971\n, \"lang\" : 9001\n, \"rang\" : 9002\n, \"loz\" : 9674\n, \"spades\" : 9824\n, \"clubs\" : 9827\n, \"hearts\" : 9829\n, \"diams\" : 9830\n}\n\nObject.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n})\n\nfor (var S in sax.STATE) sax.STATE[sax.STATE[S]] = S\n\n// shorthand\nS = sax.STATE\n\nfunction emit (parser, event, data) {\n  parser[event] && parser[event](data)\n}\n\nfunction emitNode (parser, nodeType, data) {\n  if (parser.textNode) closeText(parser)\n  emit(parser, nodeType, data)\n}\n\nfunction closeText (parser) {\n  parser.textNode = textopts(parser.opt, parser.textNode)\n  if (parser.textNode) emit(parser, \"ontext\", parser.textNode)\n  parser.textNode = \"\"\n}\n\nfunction textopts (opt, text) {\n  if (opt.trim) text = text.trim()\n  if (opt.normalize) text = text.replace(/\\s+/g, \" \")\n  return text\n}\n\nfunction error (parser, er) {\n  closeText(parser)\n  if (parser.trackPosition) {\n    er += \"\\nLine: \"+parser.line+\n          \"\\nColumn: \"+parser.column+\n          \"\\nChar: \"+parser.c\n  }\n  er = new Error(er)\n  parser.error = er\n  emit(parser, \"onerror\", er)\n  return parser\n}\n\nfunction end (parser) {\n  if (!parser.closedRoot) strictFail(parser, \"Unclosed root tag\")\n  if ((parser.state !== S.BEGIN) && (parser.state !== S.TEXT)) error(parser, \"Unexpected end\")\n  closeText(parser)\n  parser.c = \"\"\n  parser.closed = true\n  emit(parser, \"onend\")\n  SAXParser.call(parser, parser.strict, parser.opt)\n  return parser\n}\n\nfunction strictFail (parser, message) {\n  if (typeof parser !== 'object' || !(parser instanceof SAXParser))\n    throw new Error('bad call to strictFail');\n  if (parser.strict) error(parser, message)\n}\n\nfunction newTag (parser) {\n  if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n  var parent = parser.tags[parser.tags.length - 1] || parser\n    , tag = parser.tag = { name : parser.tagName, attributes : {} }\n\n  // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n  if (parser.opt.xmlns) tag.ns = parent.ns\n  parser.attribList.length = 0\n}\n\nfunction qname (name, attribute) {\n  var i = name.indexOf(\":\")\n    , qualName = i < 0 ? [ \"\", name ] : name.split(\":\")\n    , prefix = qualName[0]\n    , local = qualName[1]\n\n  // <x \"xmlns\"=\"http://foo\">\n  if (attribute && name === \"xmlns\") {\n    prefix = \"xmlns\"\n    local = \"\"\n  }\n\n  return { prefix: prefix, local: local }\n}\n\nfunction attrib (parser) {\n  if (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]()\n\n  if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n    return parser.attribName = parser.attribValue = \"\"\n  }\n\n  if (parser.opt.xmlns) {\n    var qn = qname(parser.attribName, true)\n      , prefix = qn.prefix\n      , local = qn.local\n\n    if (prefix === \"xmlns\") {\n      // namespace binding attribute; push the binding into scope\n      if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) {\n        strictFail( parser\n                  , \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) {\n        strictFail( parser\n                  , \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else {\n        var tag = parser.tag\n          , parent = parser.tags[parser.tags.length - 1] || parser\n        if (tag.ns === parent.ns) {\n          tag.ns = Object.create(parent.ns)\n        }\n        tag.ns[local] = parser.attribValue\n      }\n    }\n\n    // defer onattribute events until all attributes have been seen\n    // so any new bindings can take effect; preserve attribute order\n    // so deferred events can be emitted in document order\n    parser.attribList.push([parser.attribName, parser.attribValue])\n  } else {\n    // in non-xmlns mode, we can emit the event right away\n    parser.tag.attributes[parser.attribName] = parser.attribValue\n    emitNode( parser\n            , \"onattribute\"\n            , { name: parser.attribName\n              , value: parser.attribValue } )\n  }\n\n  parser.attribName = parser.attribValue = \"\"\n}\n\nfunction openTag (parser, selfClosing) {\n  if (parser.opt.xmlns) {\n    // emit namespace binding events\n    var tag = parser.tag\n\n    // add namespace info to tag\n    var qn = qname(parser.tagName)\n    tag.prefix = qn.prefix\n    tag.local = qn.local\n    tag.uri = tag.ns[qn.prefix] || \"\"\n\n    if (tag.prefix && !tag.uri) {\n      strictFail(parser, \"Unbound namespace prefix: \"\n                       + JSON.stringify(parser.tagName))\n      tag.uri = qn.prefix\n    }\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (tag.ns && parent.ns !== tag.ns) {\n      Object.keys(tag.ns).forEach(function (p) {\n        emitNode( parser\n                , \"onopennamespace\"\n                , { prefix: p , uri: tag.ns[p] } )\n      })\n    }\n\n    // handle deferred onattribute events\n    // Note: do not apply default ns to attributes:\n    //   http://www.w3.org/TR/REC-xml-names/#defaulting\n    for (var i = 0, l = parser.attribList.length; i < l; i ++) {\n      var nv = parser.attribList[i]\n      var name = nv[0]\n        , value = nv[1]\n        , qualName = qname(name, true)\n        , prefix = qualName.prefix\n        , local = qualName.local\n        , uri = prefix == \"\" ? \"\" : (tag.ns[prefix] || \"\")\n        , a = { name: name\n              , value: value\n              , prefix: prefix\n              , local: local\n              , uri: uri\n              }\n\n      // if there's any attributes with an undefined namespace,\n      // then fail on them now.\n      if (prefix && prefix != \"xmlns\" && !uri) {\n        strictFail(parser, \"Unbound namespace prefix: \"\n                         + JSON.stringify(prefix))\n        a.uri = prefix\n      }\n      parser.tag.attributes[name] = a\n      emitNode(parser, \"onattribute\", a)\n    }\n    parser.attribList.length = 0\n  }\n\n  parser.tag.isSelfClosing = !!selfClosing\n\n  // process the tag\n  parser.sawRoot = true\n  parser.tags.push(parser.tag)\n  emitNode(parser, \"onopentag\", parser.tag)\n  if (!selfClosing) {\n    // special case for <script> in non-strict mode.\n    if (!parser.noscript && parser.tagName.toLowerCase() === \"script\") {\n      parser.state = S.SCRIPT\n    } else {\n      parser.state = S.TEXT\n    }\n    parser.tag = null\n    parser.tagName = \"\"\n  }\n  parser.attribName = parser.attribValue = \"\"\n  parser.attribList.length = 0\n}\n\nfunction closeTag (parser) {\n  if (!parser.tagName) {\n    strictFail(parser, \"Weird empty close tag.\")\n    parser.textNode += \"</>\"\n    parser.state = S.TEXT\n    return\n  }\n\n  if (parser.script) {\n    if (parser.tagName !== \"script\") {\n      parser.script += \"</\" + parser.tagName + \">\"\n      parser.tagName = \"\"\n      parser.state = S.SCRIPT\n      return\n    }\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n\n  // first make sure that the closing tag actually exists.\n  // <a><b></c></b></a> will close everything, otherwise.\n  var t = parser.tags.length\n  var tagName = parser.tagName\n  if (!parser.strict) tagName = tagName[parser.looseCase]()\n  var closeTo = tagName\n  while (t --) {\n    var close = parser.tags[t]\n    if (close.name !== closeTo) {\n      // fail the first time in strict mode\n      strictFail(parser, \"Unexpected close tag\")\n    } else break\n  }\n\n  // didn't find it.  we already failed for strict, so just abort.\n  if (t < 0) {\n    strictFail(parser, \"Unmatched closing tag: \"+parser.tagName)\n    parser.textNode += \"</\" + parser.tagName + \">\"\n    parser.state = S.TEXT\n    return\n  }\n  parser.tagName = tagName\n  var s = parser.tags.length\n  while (s --> t) {\n    var tag = parser.tag = parser.tags.pop()\n    parser.tagName = parser.tag.name\n    emitNode(parser, \"onclosetag\", parser.tagName)\n\n    var x = {}\n    for (var i in tag.ns) x[i] = tag.ns[i]\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (parser.opt.xmlns && tag.ns !== parent.ns) {\n      // remove namespace bindings introduced by tag\n      Object.keys(tag.ns).forEach(function (p) {\n        var n = tag.ns[p]\n        emitNode(parser, \"onclosenamespace\", { prefix: p, uri: n })\n      })\n    }\n  }\n  if (t === 0) parser.closedRoot = true\n  parser.tagName = parser.attribValue = parser.attribName = \"\"\n  parser.attribList.length = 0\n  parser.state = S.TEXT\n}\n\nfunction parseEntity (parser) {\n  var entity = parser.entity\n    , entityLC = entity.toLowerCase()\n    , num\n    , numStr = \"\"\n  if (parser.ENTITIES[entity])\n    return parser.ENTITIES[entity]\n  if (parser.ENTITIES[entityLC])\n    return parser.ENTITIES[entityLC]\n  entity = entityLC\n  if (entity.charAt(0) === \"#\") {\n    if (entity.charAt(1) === \"x\") {\n      entity = entity.slice(2)\n      num = parseInt(entity, 16)\n      numStr = num.toString(16)\n    } else {\n      entity = entity.slice(1)\n      num = parseInt(entity, 10)\n      numStr = num.toString(10)\n    }\n  }\n  entity = entity.replace(/^0+/, \"\")\n  if (numStr.toLowerCase() !== entity) {\n    strictFail(parser, \"Invalid character entity\")\n    return \"&\"+parser.entity + \";\"\n  }\n\n  return String.fromCodePoint(num)\n}\n\nfunction write (chunk) {\n  var parser = this\n  if (this.error) throw this.error\n  if (parser.closed) return error(parser,\n    \"Cannot write after close. Assign an onready handler.\")\n  if (chunk === null) return end(parser)\n  var i = 0, c = \"\"\n  while (parser.c = c = chunk.charAt(i++)) {\n    if (parser.trackPosition) {\n      parser.position ++\n      if (c === \"\\n\") {\n        parser.line ++\n        parser.column = 0\n      } else parser.column ++\n    }\n    switch (parser.state) {\n\n      case S.BEGIN:\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else if (not(whitespace,c)) {\n          // have to process this as a text node.\n          // weird, but happens.\n          strictFail(parser, \"Non-whitespace before first tag.\")\n          parser.textNode = c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.TEXT:\n        if (parser.sawRoot && !parser.closedRoot) {\n          var starti = i-1\n          while (c && c!==\"<\" && c!==\"&\") {\n            c = chunk.charAt(i++)\n            if (c && parser.trackPosition) {\n              parser.position ++\n              if (c === \"\\n\") {\n                parser.line ++\n                parser.column = 0\n              } else parser.column ++\n            }\n          }\n          parser.textNode += chunk.substring(starti, i-1)\n        }\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else {\n          if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot))\n            strictFail(parser, \"Text data outside of root node.\")\n          if (c === \"&\") parser.state = S.TEXT_ENTITY\n          else parser.textNode += c\n        }\n      continue\n\n      case S.SCRIPT:\n        // only non-strict\n        if (c === \"<\") {\n          parser.state = S.SCRIPT_ENDING\n        } else parser.script += c\n      continue\n\n      case S.SCRIPT_ENDING:\n        if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n        } else {\n          parser.script += \"<\" + c\n          parser.state = S.SCRIPT\n        }\n      continue\n\n      case S.OPEN_WAKA:\n        // either a /, ?, !, or text is coming next.\n        if (c === \"!\") {\n          parser.state = S.SGML_DECL\n          parser.sgmlDecl = \"\"\n        } else if (is(whitespace, c)) {\n          // wait for it...\n        } else if (is(nameStart,c)) {\n          parser.state = S.OPEN_TAG\n          parser.tagName = c\n        } else if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n          parser.tagName = \"\"\n        } else if (c === \"?\") {\n          parser.state = S.PROC_INST\n          parser.procInstName = parser.procInstBody = \"\"\n        } else {\n          strictFail(parser, \"Unencoded <\")\n          // if there was some whitespace, then add that in.\n          if (parser.startTagPosition + 1 < parser.position) {\n            var pad = parser.position - parser.startTagPosition\n            c = new Array(pad).join(\" \") + c\n          }\n          parser.textNode += \"<\" + c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.SGML_DECL:\n        if ((parser.sgmlDecl+c).toUpperCase() === CDATA) {\n          emitNode(parser, \"onopencdata\")\n          parser.state = S.CDATA\n          parser.sgmlDecl = \"\"\n          parser.cdata = \"\"\n        } else if (parser.sgmlDecl+c === \"--\") {\n          parser.state = S.COMMENT\n          parser.comment = \"\"\n          parser.sgmlDecl = \"\"\n        } else if ((parser.sgmlDecl+c).toUpperCase() === DOCTYPE) {\n          parser.state = S.DOCTYPE\n          if (parser.doctype || parser.sawRoot) strictFail(parser,\n            \"Inappropriately located doctype declaration\")\n          parser.doctype = \"\"\n          parser.sgmlDecl = \"\"\n        } else if (c === \">\") {\n          emitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl)\n          parser.sgmlDecl = \"\"\n          parser.state = S.TEXT\n        } else if (is(quote, c)) {\n          parser.state = S.SGML_DECL_QUOTED\n          parser.sgmlDecl += c\n        } else parser.sgmlDecl += c\n      continue\n\n      case S.SGML_DECL_QUOTED:\n        if (c === parser.q) {\n          parser.state = S.SGML_DECL\n          parser.q = \"\"\n        }\n        parser.sgmlDecl += c\n      continue\n\n      case S.DOCTYPE:\n        if (c === \">\") {\n          parser.state = S.TEXT\n          emitNode(parser, \"ondoctype\", parser.doctype)\n          parser.doctype = true // just remember that we saw it.\n        } else {\n          parser.doctype += c\n          if (c === \"[\") parser.state = S.DOCTYPE_DTD\n          else if (is(quote, c)) {\n            parser.state = S.DOCTYPE_QUOTED\n            parser.q = c\n          }\n        }\n      continue\n\n      case S.DOCTYPE_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.q = \"\"\n          parser.state = S.DOCTYPE\n        }\n      continue\n\n      case S.DOCTYPE_DTD:\n        parser.doctype += c\n        if (c === \"]\") parser.state = S.DOCTYPE\n        else if (is(quote,c)) {\n          parser.state = S.DOCTYPE_DTD_QUOTED\n          parser.q = c\n        }\n      continue\n\n      case S.DOCTYPE_DTD_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.state = S.DOCTYPE_DTD\n          parser.q = \"\"\n        }\n      continue\n\n      case S.COMMENT:\n        if (c === \"-\") parser.state = S.COMMENT_ENDING\n        else parser.comment += c\n      continue\n\n      case S.COMMENT_ENDING:\n        if (c === \"-\") {\n          parser.state = S.COMMENT_ENDED\n          parser.comment = textopts(parser.opt, parser.comment)\n          if (parser.comment) emitNode(parser, \"oncomment\", parser.comment)\n          parser.comment = \"\"\n        } else {\n          parser.comment += \"-\" + c\n          parser.state = S.COMMENT\n        }\n      continue\n\n      case S.COMMENT_ENDED:\n        if (c !== \">\") {\n          strictFail(parser, \"Malformed comment\")\n          // allow <!-- blah -- bloo --> in non-strict mode,\n          // which is a comment of \" blah -- bloo \"\n          parser.comment += \"--\" + c\n          parser.state = S.COMMENT\n        } else parser.state = S.TEXT\n      continue\n\n      case S.CDATA:\n        if (c === \"]\") parser.state = S.CDATA_ENDING\n        else parser.cdata += c\n      continue\n\n      case S.CDATA_ENDING:\n        if (c === \"]\") parser.state = S.CDATA_ENDING_2\n        else {\n          parser.cdata += \"]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.CDATA_ENDING_2:\n        if (c === \">\") {\n          if (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata)\n          emitNode(parser, \"onclosecdata\")\n          parser.cdata = \"\"\n          parser.state = S.TEXT\n        } else if (c === \"]\") {\n          parser.cdata += \"]\"\n        } else {\n          parser.cdata += \"]]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.PROC_INST:\n        if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else if (is(whitespace, c)) parser.state = S.PROC_INST_BODY\n        else parser.procInstName += c\n      continue\n\n      case S.PROC_INST_BODY:\n        if (!parser.procInstBody && is(whitespace, c)) continue\n        else if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else parser.procInstBody += c\n      continue\n\n      case S.PROC_INST_ENDING:\n        if (c === \">\") {\n          emitNode(parser, \"onprocessinginstruction\", {\n            name : parser.procInstName,\n            body : parser.procInstBody\n          })\n          parser.procInstName = parser.procInstBody = \"\"\n          parser.state = S.TEXT\n        } else {\n          parser.procInstBody += \"?\" + c\n          parser.state = S.PROC_INST_BODY\n        }\n      continue\n\n      case S.OPEN_TAG:\n        if (is(nameBody, c)) parser.tagName += c\n        else {\n          newTag(parser)\n          if (c === \">\") openTag(parser)\n          else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n          else {\n            if (not(whitespace, c)) strictFail(\n              parser, \"Invalid character in tag name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.OPEN_TAG_SLASH:\n        if (c === \">\") {\n          openTag(parser, true)\n          closeTag(parser)\n        } else {\n          strictFail(parser, \"Forward-slash in opening tag not followed by >\")\n          parser.state = S.ATTRIB\n        }\n      continue\n\n      case S.ATTRIB:\n        // haven't read the attribute name yet.\n        if (is(whitespace, c)) continue\n        else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (c === \">\") {\n          strictFail(parser, \"Attribute without value\")\n          parser.attribValue = parser.attribName\n          attrib(parser)\n          openTag(parser)\n        }\n        else if (is(whitespace, c)) parser.state = S.ATTRIB_NAME_SAW_WHITE\n        else if (is(nameBody, c)) parser.attribName += c\n        else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME_SAW_WHITE:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (is(whitespace, c)) continue\n        else {\n          strictFail(parser, \"Attribute without value\")\n          parser.tag.attributes[parser.attribName] = \"\"\n          parser.attribValue = \"\"\n          emitNode(parser, \"onattribute\",\n                   { name : parser.attribName, value : \"\" })\n          parser.attribName = \"\"\n          if (c === \">\") openTag(parser)\n          else if (is(nameStart, c)) {\n            parser.attribName = c\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, \"Invalid attribute name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.ATTRIB_VALUE:\n        if (is(whitespace, c)) continue\n        else if (is(quote, c)) {\n          parser.q = c\n          parser.state = S.ATTRIB_VALUE_QUOTED\n        } else {\n          strictFail(parser, \"Unquoted attribute value\")\n          parser.state = S.ATTRIB_VALUE_UNQUOTED\n          parser.attribValue = c\n        }\n      continue\n\n      case S.ATTRIB_VALUE_QUOTED:\n        if (c !== parser.q) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        parser.q = \"\"\n        parser.state = S.ATTRIB_VALUE_CLOSED\n      continue\n\n      case S.ATTRIB_VALUE_CLOSED:\n        if (is(whitespace, c)) {\n          parser.state = S.ATTRIB\n        } else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          strictFail(parser, \"No whitespace between attributes\")\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_VALUE_UNQUOTED:\n        if (not(attribEnd,c)) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        if (c === \">\") openTag(parser)\n        else parser.state = S.ATTRIB\n      continue\n\n      case S.CLOSE_TAG:\n        if (!parser.tagName) {\n          if (is(whitespace, c)) continue\n          else if (not(nameStart, c)) {\n            if (parser.script) {\n              parser.script += \"</\" + c\n              parser.state = S.SCRIPT\n            } else {\n              strictFail(parser, \"Invalid tagname in closing tag.\")\n            }\n          } else parser.tagName = c\n        }\n        else if (c === \">\") closeTag(parser)\n        else if (is(nameBody, c)) parser.tagName += c\n        else if (parser.script) {\n          parser.script += \"</\" + parser.tagName\n          parser.tagName = \"\"\n          parser.state = S.SCRIPT\n        } else {\n          if (not(whitespace, c)) strictFail(parser,\n            \"Invalid tagname in closing tag\")\n          parser.state = S.CLOSE_TAG_SAW_WHITE\n        }\n      continue\n\n      case S.CLOSE_TAG_SAW_WHITE:\n        if (is(whitespace, c)) continue\n        if (c === \">\") closeTag(parser)\n        else strictFail(parser, \"Invalid characters in closing tag\")\n      continue\n\n      case S.TEXT_ENTITY:\n      case S.ATTRIB_VALUE_ENTITY_Q:\n      case S.ATTRIB_VALUE_ENTITY_U:\n        switch(parser.state) {\n          case S.TEXT_ENTITY:\n            var returnState = S.TEXT, buffer = \"textNode\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_Q:\n            var returnState = S.ATTRIB_VALUE_QUOTED, buffer = \"attribValue\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_U:\n            var returnState = S.ATTRIB_VALUE_UNQUOTED, buffer = \"attribValue\"\n          break\n        }\n        if (c === \";\") {\n          parser[buffer] += parseEntity(parser)\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n        else if (is(entity, c)) parser.entity += c\n        else {\n          strictFail(parser, \"Invalid character entity\")\n          parser[buffer] += \"&\" + parser.entity + c\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n      continue\n\n      default:\n        throw new Error(parser, \"Unknown state: \" + parser.state)\n    }\n  } // while\n  // cdata blocks can get very big under normal conditions. emit and move on.\n  // if (parser.state === S.CDATA && parser.cdata) {\n  //   emitNode(parser, \"oncdata\", parser.cdata)\n  //   parser.cdata = \"\"\n  // }\n  if (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser)\n  return parser\n}\n\n/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\nif (!String.fromCodePoint) {\n        (function() {\n                var stringFromCharCode = String.fromCharCode;\n                var floor = Math.floor;\n                var fromCodePoint = function() {\n                        var MAX_SIZE = 0x4000;\n                        var codeUnits = [];\n                        var highSurrogate;\n                        var lowSurrogate;\n                        var index = -1;\n                        var length = arguments.length;\n                        if (!length) {\n                                return '';\n                        }\n                        var result = '';\n                        while (++index < length) {\n                                var codePoint = Number(arguments[index]);\n                                if (\n                                        !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                                        codePoint < 0 || // not a valid Unicode code point\n                                        codePoint > 0x10FFFF || // not a valid Unicode code point\n                                        floor(codePoint) != codePoint // not an integer\n                                ) {\n                                        throw RangeError('Invalid code point: ' + codePoint);\n                                }\n                                if (codePoint <= 0xFFFF) { // BMP code point\n                                        codeUnits.push(codePoint);\n                                } else { // Astral code point; split in surrogate halves\n                                        // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                                        codePoint -= 0x10000;\n                                        highSurrogate = (codePoint >> 10) + 0xD800;\n                                        lowSurrogate = (codePoint % 0x400) + 0xDC00;\n                                        codeUnits.push(highSurrogate, lowSurrogate);\n                                }\n                                if (index + 1 == length || codeUnits.length > MAX_SIZE) {\n                                        result += stringFromCharCode.apply(null, codeUnits);\n                                        codeUnits.length = 0;\n                                }\n                        }\n                        return result;\n                };\n                if (Object.defineProperty) {\n                        Object.defineProperty(String, 'fromCodePoint', {\n                                'value': fromCodePoint,\n                                'configurable': true,\n                                'writable': true\n                        });\n                } else {\n                        String.fromCodePoint = fromCodePoint;\n                }\n        }());\n}\n\n})(typeof exports === \"undefined\" ? sax = {} : exports);\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":24,\"stream\":33,\"string_decoder\":34}],55:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, create;\n\n  create = require('lodash/object/create');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name of element \" + parent.name);\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value for attribute \" + name + \" of element \" + parent.name);\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return create(XMLAttribute.prototype, this);\n    };\n\n    XMLAttribute.prototype.toString = function(options, level) {\n      return ' ' + this.name + '=\"' + this.value + '\"';\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/object/create\":113}],56:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, offset, pretty, r, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLDeclaration\":63,\"./XMLDocType\":64,\"./XMLElement\":65,\"./XMLStringifier\":69}],57:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLCData, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash/object/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(_super) {\n    __extends(XMLCData, _super);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return create(XMLCData.prototype, this);\n    };\n\n    XMLCData.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<![CDATA[' + this.text + ']]>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":66,\"lodash/object/create\":113}],58:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLComment, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash/object/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(_super) {\n    __extends(XMLComment, _super);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return create(XMLComment.prototype, this);\n    };\n\n    XMLComment.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!-- ' + this.text + ' -->';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":66,\"lodash/object/create\":113}],59:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDAttList, create;\n\n  create = require('lodash/object/create');\n\n  module.exports = XMLDTDAttList = (function() {\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      this.stringify = parent.stringify;\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.clone = function() {\n      return create(XMLDTDAttList.prototype, this);\n    };\n\n    XMLDTDAttList.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ATTLIST ' + this.elementName + ' ' + this.attributeName + ' ' + this.attributeType;\n      if (this.defaultValueType !== '#DEFAULT') {\n        r += ' ' + this.defaultValueType;\n      }\n      if (this.defaultValue) {\n        r += ' \"' + this.defaultValue + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDAttList;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/object/create\":113}],60:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDElement, create, isArray;\n\n  create = require('lodash/object/create');\n\n  isArray = require('lodash/lang/isArray');\n\n  module.exports = XMLDTDElement = (function() {\n    function XMLDTDElement(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.clone = function() {\n      return create(XMLDTDElement.prototype, this);\n    };\n\n    XMLDTDElement.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ELEMENT ' + this.name + ' ' + this.value + '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDElement;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/lang/isArray\":105,\"lodash/object/create\":113}],61:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDEntity, create, isObject;\n\n  create = require('lodash/object/create');\n\n  isObject = require('lodash/lang/isObject');\n\n  module.exports = XMLDTDEntity = (function() {\n    function XMLDTDEntity(parent, pe, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.clone = function() {\n      return create(XMLDTDEntity.prototype, this);\n    };\n\n    XMLDTDEntity.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ENTITY';\n      if (this.pe) {\n        r += ' %';\n      }\n      r += ' ' + this.name;\n      if (this.value) {\n        r += ' \"' + this.value + '\"';\n      } else {\n        if (this.pubID && this.sysID) {\n          r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n        } else if (this.sysID) {\n          r += ' SYSTEM \"' + this.sysID + '\"';\n        }\n        if (this.nData) {\n          r += ' NDATA ' + this.nData;\n        }\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDEntity;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/lang/isObject\":109,\"lodash/object/create\":113}],62:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDNotation, create;\n\n  create = require('lodash/object/create');\n\n  module.exports = XMLDTDNotation = (function() {\n    function XMLDTDNotation(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.clone = function() {\n      return create(XMLDTDNotation.prototype, this);\n    };\n\n    XMLDTDNotation.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!NOTATION ' + this.name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.pubID) {\n        r += ' PUBLIC \"' + this.pubID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDNotation;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/object/create\":113}],63:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDeclaration, XMLNode, create, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash/object/create');\n\n  isObject = require('lodash/lang/isObject');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(_super) {\n    __extends(XMLDeclaration, _super);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var _ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        _ref = version, version = _ref.version, encoding = _ref.encoding, standalone = _ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      if (version != null) {\n        this.version = this.stringify.xmlVersion(version);\n      }\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.clone = function() {\n      return create(XMLDeclaration.prototype, this);\n    };\n\n    XMLDeclaration.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?xml';\n      if (this.version != null) {\n        r += ' version=\"' + this.version + '\"';\n      }\n      if (this.encoding != null) {\n        r += ' encoding=\"' + this.encoding + '\"';\n      }\n      if (this.standalone != null) {\n        r += ' standalone=\"' + this.standalone + '\"';\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":66,\"lodash/lang/isObject\":109,\"lodash/object/create\":113}],64:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLProcessingInstruction, create, isObject;\n\n  create = require('lodash/object/create');\n\n  isObject = require('lodash/lang/isObject');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLDocType = (function() {\n    function XMLDocType(parent, pubID, sysID) {\n      var _ref, _ref1;\n      this.documentObject = parent;\n      this.stringify = this.documentObject.stringify;\n      this.children = [];\n      if (isObject(pubID)) {\n        _ref = pubID, pubID = _ref.pubID, sysID = _ref.sysID;\n      }\n      if (sysID == null) {\n        _ref1 = [pubID, sysID], sysID = _ref1[0], pubID = _ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.clone = function() {\n      return create(XMLDocType.prototype, this);\n    };\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.instruction = function(target, value) {\n      var child;\n      child = new XMLProcessingInstruction(this, target, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.root = function() {\n      return this.documentObject.root();\n    };\n\n    XMLDocType.prototype.document = function() {\n      return this.documentObject;\n    };\n\n    XMLDocType.prototype.toString = function(options, level) {\n      var child, indent, newline, offset, pretty, r, space, _i, _len, _ref, _ref1, _ref2, _ref3;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!DOCTYPE ' + this.root().name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      if (this.children.length > 0) {\n        r += ' [';\n        if (pretty) {\n          r += newline;\n        }\n        _ref3 = this.children;\n        for (_i = 0, _len = _ref3.length; _i < _len; _i++) {\n          child = _ref3[_i];\n          r += child.toString(options, level + 1);\n        }\n        r += ']';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocType.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocType.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root();\n    };\n\n    XMLDocType.prototype.doc = function() {\n      return this.document();\n    };\n\n    return XMLDocType;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":57,\"./XMLComment\":58,\"./XMLDTDAttList\":59,\"./XMLDTDElement\":60,\"./XMLDTDEntity\":61,\"./XMLDTDNotation\":62,\"./XMLProcessingInstruction\":67,\"lodash/lang/isObject\":109,\"lodash/object/create\":113}],65:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, XMLProcessingInstruction, create, every, isArray, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash/object/create');\n\n  isObject = require('lodash/lang/isObject');\n\n  isArray = require('lodash/lang/isArray');\n\n  isFunction = require('lodash/lang/isFunction');\n\n  every = require('lodash/collection/every');\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLElement = (function(_super) {\n    __extends(XMLElement, _super);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.children = [];\n      this.instructions = [];\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, pi, _i, _len, _ref, _ref1;\n      clonedSelf = create(XMLElement.prototype, this);\n      clonedSelf.attributes = {};\n      _ref = this.attributes;\n      for (attName in _ref) {\n        if (!__hasProp.call(_ref, attName)) continue;\n        att = _ref[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.instructions = [];\n      _ref1 = this.instructions;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        pi = _ref1[_i];\n        clonedSelf.instructions.push(pi.clone());\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!__hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, _i, _len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          attName = name[_i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, _i, _len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (isArray(target)) {\n        for (_i = 0, _len = target.length; _i < _len; _i++) {\n          insTarget = target[_i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!__hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.instructions.push(instruction);\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options, level) {\n      var att, child, indent, instruction, name, newline, offset, pretty, r, space, _i, _j, _len, _len1, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      _ref3 = this.instructions;\n      for (_i = 0, _len = _ref3.length; _i < _len; _i++) {\n        instruction = _ref3[_i];\n        r += instruction.toString(options, level + 1);\n      }\n      if (pretty) {\n        r += space;\n      }\n      r += '<' + this.name;\n      _ref4 = this.attributes;\n      for (name in _ref4) {\n        if (!__hasProp.call(_ref4, name)) continue;\n        att = _ref4[name];\n        r += att.toString(options);\n      }\n      if (this.children.length === 0 || every(this.children, function(e) {\n        return e.value === '';\n      })) {\n        r += '/>';\n        if (pretty) {\n          r += newline;\n        }\n      } else if (pretty && this.children.length === 1 && (this.children[0].value != null)) {\n        r += '>';\n        r += this.children[0].value;\n        r += '</' + this.name + '>';\n        r += newline;\n      } else {\n        r += '>';\n        if (pretty) {\n          r += newline;\n        }\n        _ref5 = this.children;\n        for (_j = 0, _len1 = _ref5.length; _j < _len1; _j++) {\n          child = _ref5[_j];\n          r += child.toString(options, level + 1);\n        }\n        if (pretty) {\n          r += space;\n        }\n        r += '</' + this.name + '>';\n        if (pretty) {\n          r += newline;\n        }\n      }\n      return r;\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLAttribute\":55,\"./XMLNode\":66,\"./XMLProcessingInstruction\":67,\"lodash/collection/every\":72,\"lodash/lang/isArray\":105,\"lodash/lang/isFunction\":107,\"lodash/lang/isObject\":109,\"lodash/object/create\":113}],66:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLRaw, XMLText, isArray, isEmpty, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty;\n\n  isObject = require('lodash/lang/isObject');\n\n  isArray = require('lodash/lang/isArray');\n\n  isFunction = require('lodash/lang/isFunction');\n\n  isEmpty = require('lodash/lang/isEmpty');\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      this.options = this.parent.options;\n      this.stringify = this.parent.stringify;\n      if (XMLElement === null) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n      }\n    }\n\n    XMLNode.prototype.clone = function() {\n      throw new Error(\"Cannot clone generic XMLNode\");\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var item, key, lastChild, val, _i, _len, _ref;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          item = name[_i];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!__hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && key.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(key.substr(this.stringify.convertPIKey.length), val);\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertListKey && key.indexOf(this.stringify.convertListKey) === 0 && isArray(val)) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, _ref;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(_ref = [])), _ref;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, _ref;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      doc.xmldec = xmldec;\n      return doc.root();\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var doc, doctype;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      doc.doctype = doctype;\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var child;\n      if (this.isRoot) {\n        return this;\n      }\n      child = this.parent;\n      while (!child.isRoot) {\n        child = child.parent;\n      }\n      return child;\n    };\n\n    XMLNode.prototype.document = function() {\n      return this.root().documentObject;\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().toString(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(xmlbuilder) {\n      var clonedRoot;\n      clonedRoot = xmlbuilder.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":57,\"./XMLComment\":58,\"./XMLDeclaration\":63,\"./XMLDocType\":64,\"./XMLElement\":65,\"./XMLRaw\":68,\"./XMLText\":70,\"lodash/lang/isArray\":105,\"lodash/lang/isEmpty\":106,\"lodash/lang/isFunction\":107,\"lodash/lang/isObject\":109}],67:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLProcessingInstruction, create;\n\n  create = require('lodash/object/create');\n\n  module.exports = XMLProcessingInstruction = (function() {\n    function XMLProcessingInstruction(parent, target, value) {\n      this.stringify = parent.stringify;\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return create(XMLProcessingInstruction.prototype, this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?';\n      r += this.target;\n      if (this.value) {\n        r += ' ' + this.value;\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLProcessingInstruction;\n\n  })();\n\n}).call(this);\n\n},{\"lodash/object/create\":113}],68:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLRaw, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash/object/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(_super) {\n    __extends(XMLRaw, _super);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return create(XMLRaw.prototype, this);\n    };\n\n    XMLRaw.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":66,\"lodash/object/create\":113}],69:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLStringifier,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    __hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = __bind(this.assertLegalChar, this);\n      var key, value, _ref;\n      this.allowSurrogateChars = options != null ? options.allowSurrogateChars : void 0;\n      _ref = (options != null ? options.stringify : void 0) || {};\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      if (val.match(/]]>/)) {\n        throw new Error(\"Invalid CDATA text: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.convertListKey = '#list';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var chars, chr;\n      if (this.allowSurrogateChars) {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uFFFE-\\uFFFF]/;\n      } else {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE-\\uFFFF]/;\n      }\n      chr = str.match(chars);\n      if (chr) {\n        throw new Error(\"Invalid character (\" + chr + \") in string: \" + str + \" at index \" + chr.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n\n},{}],70:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLText, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash/object/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(_super) {\n    __extends(XMLText, _super);\n\n    function XMLText(parent, text) {\n      this.parent = parent;\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return create(XMLText.prototype, this);\n    };\n\n    XMLText.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, space, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      offset = (_ref1 = options != null ? options.offset : void 0) != null ? _ref1 : 0;\n      newline = (_ref2 = options != null ? options.newline : void 0) != null ? _ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":66,\"lodash/object/create\":113}],71:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, assign;\n\n  assign = require('lodash/object/assign');\n\n  XMLBuilder = require('./XMLBuilder');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    options = assign({}, xmldec, doctype, options);\n    return new XMLBuilder(name, options).root();\n  };\n\n}).call(this);\n\n},{\"./XMLBuilder\":56,\"lodash/object/assign\":112}],72:[function(require,module,exports){\nvar arrayEvery = require('../internal/arrayEvery'),\n    baseCallback = require('../internal/baseCallback'),\n    baseEvery = require('../internal/baseEvery'),\n    isArray = require('../lang/isArray');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * The predicate is bound to `thisArg` and invoked with three arguments;\n * (value, index|key, collection).\n *\n * If a property name is provided for `predicate` the created \"_.property\"\n * style callback returns the property value of the given element.\n *\n * If value is also provided for `thisArg` the created \"_.matchesProperty\"\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `predicate` the created \"_.matches\" style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @alias all\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked\n *  per iteration. If a property name or object is provided it is used to\n *  create a \"_.property\" or \"_.matches\" style callback respectively.\n * @param {*} [thisArg] The `this` binding of `predicate`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes']);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // using the \"_.matches\" callback shorthand\n * _.every(users, { 'age': 36, 'active': false });\n * // => false\n *\n * // using the \"_.matchesProperty\" callback shorthand\n * _.every(users, 'active', false);\n * // => true\n *\n * // using the \"_.property\" callback shorthand\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, thisArg) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n    predicate = baseCallback(predicate, thisArg, 3);\n  }\n  return func(collection, predicate);\n}\n\nmodule.exports = every;\n\n},{\"../internal/arrayEvery\":73,\"../internal/baseCallback\":75,\"../internal/baseEvery\":79,\"../lang/isArray\":105}],73:[function(require,module,exports){\n/**\n * A specialized version of `_.every` for arrays without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n\n},{}],74:[function(require,module,exports){\nvar baseCopy = require('./baseCopy'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.assign` without support for argument juggling,\n * multiple sources, and `this` binding `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} [customizer] The function to customize assigning values.\n * @returns {Object} Returns the destination object.\n */\nfunction baseAssign(object, source, customizer) {\n  var props = keys(source);\n  if (!customizer) {\n    return baseCopy(source, object, props);\n  }\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key],\n        result = customizer(value, source[key], key, object, source);\n\n    if ((result === result ? result !== value : value === value) ||\n        (typeof value == 'undefined' && !(key in object))) {\n      object[key] = result;\n    }\n  }\n  return object;\n}\n\nmodule.exports = baseAssign;\n\n},{\"../object/keys\":114,\"./baseCopy\":76}],75:[function(require,module,exports){\nvar baseMatches = require('./baseMatches'),\n    baseMatchesProperty = require('./baseMatchesProperty'),\n    baseProperty = require('./baseProperty'),\n    bindCallback = require('./bindCallback'),\n    identity = require('../utility/identity'),\n    isBindable = require('./isBindable');\n\n/**\n * The base implementation of `_.callback` which supports specifying the\n * number of arguments to provide to `func`.\n *\n * @private\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction baseCallback(func, thisArg, argCount) {\n  var type = typeof func;\n  if (type == 'function') {\n    return (typeof thisArg != 'undefined' && isBindable(func))\n      ? bindCallback(func, thisArg, argCount)\n      : func;\n  }\n  if (func == null) {\n    return identity;\n  }\n  if (type == 'object') {\n    return baseMatches(func);\n  }\n  return typeof thisArg == 'undefined'\n    ? baseProperty(func + '')\n    : baseMatchesProperty(func + '', thisArg);\n}\n\nmodule.exports = baseCallback;\n\n},{\"../utility/identity\":118,\"./baseMatches\":85,\"./baseMatchesProperty\":86,\"./baseProperty\":87,\"./bindCallback\":90,\"./isBindable\":95}],76:[function(require,module,exports){\n/**\n * Copies the properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Array} props The property names to copy.\n * @returns {Object} Returns `object`.\n */\nfunction baseCopy(source, object, props) {\n  if (!props) {\n    props = object;\n    object = {};\n  }\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    object[key] = source[key];\n  }\n  return object;\n}\n\nmodule.exports = baseCopy;\n\n},{}],77:[function(require,module,exports){\n(function (global){\nvar isObject = require('../lang/isObject');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function Object() {}\n  return function(prototype) {\n    if (isObject(prototype)) {\n      Object.prototype = prototype;\n      var result = new Object;\n      Object.prototype = null;\n    }\n    return result || global.Object();\n  };\n}());\n\nmodule.exports = baseCreate;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../lang/isObject\":109}],78:[function(require,module,exports){\nvar baseForOwn = require('./baseForOwn'),\n    isLength = require('./isLength'),\n    toObject = require('./toObject');\n\n/**\n * The base implementation of `_.forEach` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object|string} Returns `collection`.\n */\nfunction baseEach(collection, iteratee) {\n  var length = collection ? collection.length : 0;\n  if (!isLength(length)) {\n    return baseForOwn(collection, iteratee);\n  }\n  var index = -1,\n      iterable = toObject(collection);\n\n  while (++index < length) {\n    if (iteratee(iterable[index], index, iterable) === false) {\n      break;\n    }\n  }\n  return collection;\n}\n\nmodule.exports = baseEach;\n\n},{\"./baseForOwn\":81,\"./isLength\":98,\"./toObject\":103}],79:[function(require,module,exports){\nvar baseEach = require('./baseEach');\n\n/**\n * The base implementation of `_.every` without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n\n},{\"./baseEach\":78}],80:[function(require,module,exports){\nvar toObject = require('./toObject');\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iterator functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nfunction baseFor(object, iteratee, keysFunc) {\n  var index = -1,\n      iterable = toObject(object),\n      props = keysFunc(object),\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    if (iteratee(iterable[key], key, iterable) === false) {\n      break;\n    }\n  }\n  return object;\n}\n\nmodule.exports = baseFor;\n\n},{\"./toObject\":103}],81:[function(require,module,exports){\nvar baseFor = require('./baseFor'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.forOwn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n},{\"../object/keys\":114,\"./baseFor\":80}],82:[function(require,module,exports){\nvar baseIsEqualDeep = require('./baseIsEqualDeep');\n\n/**\n * The base implementation of `_.isEqual` without support for `this` binding\n * `customizer` functions.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isWhere] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, isWhere, stackA, stackB) {\n  // Exit early for identical values.\n  if (value === other) {\n    // Treat `+0` vs. `-0` as not equal.\n    return value !== 0 || (1 / value == 1 / other);\n  }\n  var valType = typeof value,\n      othType = typeof other;\n\n  // Exit early for unlike primitive values.\n  if ((valType != 'function' && valType != 'object' && othType != 'function' && othType != 'object') ||\n      value == null || other == null) {\n    // Return `false` unless both values are `NaN`.\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, isWhere, stackA, stackB);\n}\n\nmodule.exports = baseIsEqual;\n\n},{\"./baseIsEqualDeep\":83}],83:[function(require,module,exports){\nvar equalArrays = require('./equalArrays'),\n    equalByTag = require('./equalByTag'),\n    equalObjects = require('./equalObjects'),\n    isArray = require('../lang/isArray'),\n    isTypedArray = require('../lang/isTypedArray');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @param {boolean} [isWhere] Specify performing partial comparisons.\n * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, isWhere, stackA, stackB) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = objToString.call(object);\n    if (objTag == argsTag) {\n      objTag = objectTag;\n    } else if (objTag != objectTag) {\n      objIsArr = isTypedArray(object);\n    }\n  }\n  if (!othIsArr) {\n    othTag = objToString.call(other);\n    if (othTag == argsTag) {\n      othTag = objectTag;\n    } else if (othTag != objectTag) {\n      othIsArr = isTypedArray(other);\n    }\n  }\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !(objIsArr || objIsObj)) {\n    return equalByTag(object, other, objTag);\n  }\n  var valWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n      othWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n  if (valWrapped || othWrapped) {\n    return equalFunc(valWrapped ? object.value() : object, othWrapped ? other.value() : other, customizer, isWhere, stackA, stackB);\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  // For more information on detecting circular references see https://es5.github.io/#JO.\n  stackA || (stackA = []);\n  stackB || (stackB = []);\n\n  var length = stackA.length;\n  while (length--) {\n    if (stackA[length] == object) {\n      return stackB[length] == other;\n    }\n  }\n  // Add `object` and `other` to the stack of traversed objects.\n  stackA.push(object);\n  stackB.push(other);\n\n  var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isWhere, stackA, stackB);\n\n  stackA.pop();\n  stackB.pop();\n\n  return result;\n}\n\nmodule.exports = baseIsEqualDeep;\n\n},{\"../lang/isArray\":105,\"../lang/isTypedArray\":111,\"./equalArrays\":92,\"./equalByTag\":93,\"./equalObjects\":94}],84:[function(require,module,exports){\nvar baseIsEqual = require('./baseIsEqual');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.isMatch` without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Array} props The source property names to match.\n * @param {Array} values The source values to match.\n * @param {Array} strictCompareFlags Strict comparison flags for source values.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, props, values, strictCompareFlags, customizer) {\n  var length = props.length;\n  if (object == null) {\n    return !length;\n  }\n  var index = -1,\n      noCustomizer = !customizer;\n\n  while (++index < length) {\n    if ((noCustomizer && strictCompareFlags[index])\n          ? values[index] !== object[props[index]]\n          : !hasOwnProperty.call(object, props[index])\n        ) {\n      return false;\n    }\n  }\n  index = -1;\n  while (++index < length) {\n    var key = props[index];\n    if (noCustomizer && strictCompareFlags[index]) {\n      var result = hasOwnProperty.call(object, key);\n    } else {\n      var objValue = object[key],\n          srcValue = values[index];\n\n      result = customizer ? customizer(objValue, srcValue, key) : undefined;\n      if (typeof result == 'undefined') {\n        result = baseIsEqual(srcValue, objValue, customizer, true);\n      }\n    }\n    if (!result) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n},{\"./baseIsEqual\":82}],85:[function(require,module,exports){\nvar baseIsMatch = require('./baseIsMatch'),\n    isStrictComparable = require('./isStrictComparable'),\n    keys = require('../object/keys');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.matches` which does not clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatches(source) {\n  var props = keys(source),\n      length = props.length;\n\n  if (length == 1) {\n    var key = props[0],\n        value = source[key];\n\n    if (isStrictComparable(value)) {\n      return function(object) {\n        return object != null && value === object[key] && hasOwnProperty.call(object, key);\n      };\n    }\n  }\n  var values = Array(length),\n      strictCompareFlags = Array(length);\n\n  while (length--) {\n    value = source[props[length]];\n    values[length] = value;\n    strictCompareFlags[length] = isStrictComparable(value);\n  }\n  return function(object) {\n    return baseIsMatch(object, props, values, strictCompareFlags);\n  };\n}\n\nmodule.exports = baseMatches;\n\n},{\"../object/keys\":114,\"./baseIsMatch\":84,\"./isStrictComparable\":100}],86:[function(require,module,exports){\nvar baseIsEqual = require('./baseIsEqual'),\n    isStrictComparable = require('./isStrictComparable');\n\n/**\n * The base implementation of `_.matchesProperty` which does not coerce `key`\n * to a string.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} value The value to compare.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatchesProperty(key, value) {\n  if (isStrictComparable(value)) {\n    return function(object) {\n      return object != null && object[key] === value;\n    };\n  }\n  return function(object) {\n    return object != null && baseIsEqual(value, object[key], null, true);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n},{\"./baseIsEqual\":82,\"./isStrictComparable\":100}],87:[function(require,module,exports){\n/**\n * The base implementation of `_.property` which does not coerce `key` to a string.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n},{}],88:[function(require,module,exports){\nvar identity = require('../utility/identity'),\n    metaMap = require('./metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop detection.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n\n},{\"../utility/identity\":118,\"./metaMap\":101}],89:[function(require,module,exports){\n/**\n * Converts `value` to a string if it is not one. An empty string is returned\n * for `null` or `undefined` values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  if (typeof value == 'string') {\n    return value;\n  }\n  return value == null ? '' : (value + '');\n}\n\nmodule.exports = baseToString;\n\n},{}],90:[function(require,module,exports){\nvar identity = require('../utility/identity');\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (typeof thisArg == 'undefined') {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\nmodule.exports = bindCallback;\n\n},{\"../utility/identity\":118}],91:[function(require,module,exports){\nvar bindCallback = require('./bindCallback'),\n    isIterateeCall = require('./isIterateeCall');\n\n/**\n * Creates a function that assigns properties of source object(s) to a given\n * destination object.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return function() {\n    var length = arguments.length,\n        object = arguments[0];\n\n    if (length < 2 || object == null) {\n      return object;\n    }\n    if (length > 3 && isIterateeCall(arguments[1], arguments[2], arguments[3])) {\n      length = 2;\n    }\n    // Juggle arguments.\n    if (length > 3 && typeof arguments[length - 2] == 'function') {\n      var customizer = bindCallback(arguments[--length - 1], arguments[length--], 5);\n    } else if (length > 2 && typeof arguments[length - 1] == 'function') {\n      customizer = arguments[--length];\n    }\n    var index = 0;\n    while (++index < length) {\n      var source = arguments[index];\n      if (source) {\n        assigner(object, source, customizer);\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createAssigner;\n\n},{\"./bindCallback\":90,\"./isIterateeCall\":97}],92:[function(require,module,exports){\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing arrays.\n * @param {boolean} [isWhere] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, isWhere, stackA, stackB) {\n  var index = -1,\n      arrLength = array.length,\n      othLength = other.length,\n      result = true;\n\n  if (arrLength != othLength && !(isWhere && othLength > arrLength)) {\n    return false;\n  }\n  // Deep compare the contents, ignoring non-numeric properties.\n  while (result && ++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    result = undefined;\n    if (customizer) {\n      result = isWhere\n        ? customizer(othValue, arrValue, index)\n        : customizer(arrValue, othValue, index);\n    }\n    if (typeof result == 'undefined') {\n      // Recursively compare arrays (susceptible to call stack limits).\n      if (isWhere) {\n        var othIndex = othLength;\n        while (othIndex--) {\n          othValue = other[othIndex];\n          result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isWhere, stackA, stackB);\n          if (result) {\n            break;\n          }\n        }\n      } else {\n        result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isWhere, stackA, stackB);\n      }\n    }\n  }\n  return !!result;\n}\n\nmodule.exports = equalArrays;\n\n},{}],93:[function(require,module,exports){\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} value The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag) {\n  switch (tag) {\n    case boolTag:\n    case dateTag:\n      // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n      // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n      return +object == +other;\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case numberTag:\n      // Treat `NaN` vs. `NaN` as equal.\n      return (object != +object)\n        ? other != +other\n        // But, treat `-0` vs. `+0` as not equal.\n        : (object == 0 ? ((1 / object) == (1 / other)) : object == +other);\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings primitives and string\n      // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n      return object == (other + '');\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n},{}],94:[function(require,module,exports){\nvar keys = require('../object/keys');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isWhere] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, isWhere, stackA, stackB) {\n  var objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isWhere) {\n    return false;\n  }\n  var hasCtor,\n      index = -1;\n\n  while (++index < objLength) {\n    var key = objProps[index],\n        result = hasOwnProperty.call(other, key);\n\n    if (result) {\n      var objValue = object[key],\n          othValue = other[key];\n\n      result = undefined;\n      if (customizer) {\n        result = isWhere\n          ? customizer(othValue, objValue, key)\n          : customizer(objValue, othValue, key);\n      }\n      if (typeof result == 'undefined') {\n        // Recursively compare objects (susceptible to call stack limits).\n        result = (objValue && objValue === othValue) || equalFunc(objValue, othValue, customizer, isWhere, stackA, stackB);\n      }\n    }\n    if (!result) {\n      return false;\n    }\n    hasCtor || (hasCtor = key == 'constructor');\n  }\n  if (!hasCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor && ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = equalObjects;\n\n},{\"../object/keys\":114}],95:[function(require,module,exports){\nvar baseSetData = require('./baseSetData'),\n    isNative = require('../lang/isNative'),\n    support = require('../support');\n\n/** Used to detect named functions. */\nvar reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n/** Used to detect functions containing a `this` reference. */\nvar reThis = /\\bthis\\b/;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/**\n * Checks if `func` is eligible for `this` binding.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is eligible, else `false`.\n */\nfunction isBindable(func) {\n  var result = !(support.funcNames ? func.name : support.funcDecomp);\n\n  if (!result) {\n    var source = fnToString.call(func);\n    if (!support.funcNames) {\n      result = !reFuncName.test(source);\n    }\n    if (!result) {\n      // Check if `func` references the `this` keyword and store the result.\n      result = reThis.test(source) || isNative(func);\n      baseSetData(func, result);\n    }\n  }\n  return result;\n}\n\nmodule.exports = isBindable;\n\n},{\"../lang/isNative\":108,\"../support\":117,\"./baseSetData\":88}],96:[function(require,module,exports){\n/**\n * Used as the maximum length of an array-like value.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * for more details.\n */\nvar MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = +value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\nmodule.exports = isIndex;\n\n},{}],97:[function(require,module,exports){\nvar isIndex = require('./isIndex'),\n    isLength = require('./isLength'),\n    isObject = require('../lang/isObject');\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number') {\n    var length = object.length,\n        prereq = isLength(length) && isIndex(index, length);\n  } else {\n    prereq = type == 'string' && index in object;\n  }\n  return prereq && object[index] === value;\n}\n\nmodule.exports = isIterateeCall;\n\n},{\"../lang/isObject\":109,\"./isIndex\":96,\"./isLength\":98}],98:[function(require,module,exports){\n/**\n * Used as the maximum length of an array-like value.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * for more details.\n */\nvar MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on ES `ToLength`. See the\n * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n * for more details.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n},{}],99:[function(require,module,exports){\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return (value && typeof value == 'object') || false;\n}\n\nmodule.exports = isObjectLike;\n\n},{}],100:[function(require,module,exports){\nvar isObject = require('../lang/isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && (value === 0 ? ((1 / value) > 0) : !isObject(value));\n}\n\nmodule.exports = isStrictComparable;\n\n},{\"../lang/isObject\":109}],101:[function(require,module,exports){\n(function (global){\nvar isNative = require('../lang/isNative');\n\n/** Native method references. */\nvar WeakMap = isNative(WeakMap = global.WeakMap) && WeakMap;\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../lang/isNative\":108}],102:[function(require,module,exports){\nvar isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('./isIndex'),\n    isLength = require('./isLength'),\n    keysIn = require('../object/keysIn'),\n    support = require('../support');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = length && isLength(length) &&\n    (isArray(object) || (support.nonEnumArgs && isArguments(object)));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = shimKeys;\n\n},{\"../lang/isArguments\":104,\"../lang/isArray\":105,\"../object/keysIn\":115,\"../support\":117,\"./isIndex\":96,\"./isLength\":98}],103:[function(require,module,exports){\nvar isObject = require('../lang/isObject');\n\n/**\n * Converts `value` to an object if it is not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\nmodule.exports = toObject;\n\n},{\"../lang/isObject\":109}],104:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * (function() { return _.isArguments(arguments); })();\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  var length = isObjectLike(value) ? value.length : undefined;\n  return (isLength(length) && objToString.call(value) == argsTag) || false;\n}\n\nmodule.exports = isArguments;\n\n},{\"../internal/isLength\":98,\"../internal/isObjectLike\":99}],105:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isNative = require('./isNative'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * (function() { return _.isArray(arguments); })();\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return (isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag) || false;\n};\n\nmodule.exports = isArray;\n\n},{\"../internal/isLength\":98,\"../internal/isObjectLike\":99,\"./isNative\":108}],106:[function(require,module,exports){\nvar isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isFunction = require('./isFunction'),\n    isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike'),\n    isString = require('./isString'),\n    keys = require('../object/keys');\n\n/**\n * Checks if a value is empty. A value is considered empty unless it is an\n * `arguments` object, array, string, or jQuery-like collection with a length\n * greater than `0` or an object with own enumerable properties.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {Array|Object|string} value The value to inspect.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  var length = value.length;\n  if (isLength(length) && (isArray(value) || isString(value) || isArguments(value) ||\n      (isObjectLike(value) && isFunction(value.splice)))) {\n    return !length;\n  }\n  return !keys(value).length;\n}\n\nmodule.exports = isEmpty;\n\n},{\"../internal/isLength\":98,\"../internal/isObjectLike\":99,\"../object/keys\":114,\"./isArguments\":104,\"./isArray\":105,\"./isFunction\":107,\"./isString\":110}],107:[function(require,module,exports){\n(function (global){\nvar isNative = require('./isNative');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/** Native method references. */\nvar Uint8Array = isNative(Uint8Array = global.Uint8Array) && Uint8Array;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n  // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n  return typeof value == 'function' || false;\n}\n// Fallback for environments that return incorrect `typeof` operator results.\nif (isFunction(/x/) || (Uint8Array && !isFunction(Uint8Array))) {\n  isFunction = function(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in older versions of Chrome and Safari which return 'function' for regexes\n    // and Safari 8 equivalents which return 'object' for typed array constructors.\n    return objToString.call(value) == funcTag;\n  };\n}\n\nmodule.exports = isFunction;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./isNative\":108}],108:[function(require,module,exports){\nvar escapeRegExp = require('../string/escapeRegExp'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reNative = RegExp('^' +\n  escapeRegExp(objToString)\n  .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (objToString.call(value) == funcTag) {\n    return reNative.test(fnToString.call(value));\n  }\n  return (isObjectLike(value) && reHostCtor.test(value)) || false;\n}\n\nmodule.exports = isNative;\n\n},{\"../internal/isObjectLike\":99,\"../string/escapeRegExp\":116}],109:[function(require,module,exports){\n/**\n * Checks if `value` is the language type of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * **Note:** See the [ES5 spec](https://es5.github.io/#x8) for more details.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return type == 'function' || (value && type == 'object') || false;\n}\n\nmodule.exports = isObject;\n\n},{}],110:[function(require,module,exports){\nvar isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag) || false;\n}\n\nmodule.exports = isString;\n\n},{\"../internal/isObjectLike\":99}],111:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dateTag] = typedArrayTags[errorTag] =\ntypedArrayTags[funcTag] = typedArrayTags[mapTag] =\ntypedArrayTags[numberTag] = typedArrayTags[objectTag] =\ntypedArrayTags[regexpTag] = typedArrayTags[setTag] =\ntypedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the `toStringTag` of values.\n * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * for more details.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return (isObjectLike(value) && isLength(value.length) && typedArrayTags[objToString.call(value)]) || false;\n}\n\nmodule.exports = isTypedArray;\n\n},{\"../internal/isLength\":98,\"../internal/isObjectLike\":99}],112:[function(require,module,exports){\nvar baseAssign = require('../internal/baseAssign'),\n    createAssigner = require('../internal/createAssigner');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources overwrite property assignments of previous sources.\n * If `customizer` is provided it is invoked to produce the assigned values.\n * The `customizer` is bound to `thisArg` and invoked with five arguments;\n * (objectValue, sourceValue, key, object, source).\n *\n * @static\n * @memberOf _\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigning values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n * // => { 'user': 'fred', 'age': 40 }\n *\n * // using a customizer callback\n * var defaults = _.partialRight(_.assign, function(value, other) {\n *   return typeof value == 'undefined' ? other : value;\n * });\n *\n * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n * // => { 'user': 'barney', 'age': 36 }\n */\nvar assign = createAssigner(baseAssign);\n\nmodule.exports = assign;\n\n},{\"../internal/baseAssign\":74,\"../internal/createAssigner\":91}],113:[function(require,module,exports){\nvar baseCopy = require('../internal/baseCopy'),\n    baseCreate = require('../internal/baseCreate'),\n    isIterateeCall = require('../internal/isIterateeCall'),\n    keys = require('./keys');\n\n/**\n * Creates an object that inherits from the given `prototype` object. If a\n * `properties` object is provided its own enumerable properties are assigned\n * to the created object.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties, guard) {\n  var result = baseCreate(prototype);\n  if (guard && isIterateeCall(prototype, properties, guard)) {\n    properties = null;\n  }\n  return properties ? baseCopy(properties, result, keys(properties)) : result;\n}\n\nmodule.exports = create;\n\n},{\"../internal/baseCopy\":76,\"../internal/baseCreate\":77,\"../internal/isIterateeCall\":97,\"./keys\":114}],114:[function(require,module,exports){\nvar isLength = require('../internal/isLength'),\n    isNative = require('../lang/isNative'),\n    isObject = require('../lang/isObject'),\n    shimKeys = require('../internal/shimKeys');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  if (object) {\n    var Ctor = object.constructor,\n        length = object.length;\n  }\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n     (typeof object != 'function' && (length && isLength(length)))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\nmodule.exports = keys;\n\n},{\"../internal/isLength\":98,\"../internal/shimKeys\":102,\"../lang/isNative\":108,\"../lang/isObject\":109}],115:[function(require,module,exports){\nvar isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('../internal/isIndex'),\n    isLength = require('../internal/isLength'),\n    isObject = require('../lang/isObject'),\n    support = require('../support');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || (support.nonEnumArgs && isArguments(object))) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keysIn;\n\n},{\"../internal/isIndex\":96,\"../internal/isLength\":98,\"../lang/isArguments\":104,\"../lang/isArray\":105,\"../lang/isObject\":109,\"../support\":117}],116:[function(require,module,exports){\nvar baseToString = require('../internal/baseToString');\n\n/**\n * Used to match `RegExp` special characters.\n * See this [article on `RegExp` characters](http://www.regular-expressions.info/characters.html#special)\n * for more details.\n */\nvar reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n    reHasRegExpChars = RegExp(reRegExpChars.source);\n\n/**\n * Escapes the `RegExp` special characters \"\\\", \"^\", \"$\", \".\", \"|\", \"?\", \"*\",\n * \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n *\n * @static\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = baseToString(string);\n  return (string && reHasRegExpChars.test(string))\n    ? string.replace(reRegExpChars, '\\\\$&')\n    : string;\n}\n\nmodule.exports = escapeRegExp;\n\n},{\"../internal/baseToString\":89}],117:[function(require,module,exports){\n(function (global){\nvar isNative = require('./lang/isNative');\n\n/** Used to detect functions containing a `this` reference. */\nvar reThis = /\\bthis\\b/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to detect DOM support. */\nvar document = (document = global.window) && document.document;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * An object environment feature flags.\n *\n * @static\n * @memberOf _\n * @type Object\n */\nvar support = {};\n\n(function(x) {\n\n  /**\n   * Detect if functions can be decompiled by `Function#toString`\n   * (all but Firefox OS certified apps, older Opera mobile browsers, and\n   * the PlayStation 3; forced `false` for Windows 8 apps).\n   *\n   * @memberOf _.support\n   * @type boolean\n   */\n  support.funcDecomp = !isNative(global.WinRTError) && reThis.test(function() { return this; });\n\n  /**\n   * Detect if `Function#name` is supported (all but IE).\n   *\n   * @memberOf _.support\n   * @type boolean\n   */\n  support.funcNames = typeof Function.name == 'string';\n\n  /**\n   * Detect if the DOM is supported.\n   *\n   * @memberOf _.support\n   * @type boolean\n   */\n  try {\n    support.dom = document.createDocumentFragment().nodeType === 11;\n  } catch(e) {\n    support.dom = false;\n  }\n\n  /**\n   * Detect if `arguments` object indexes are non-enumerable.\n   *\n   * In Firefox < 4, IE < 9, PhantomJS, and Safari < 5.1 `arguments` object\n   * indexes are non-enumerable. Chrome < 25 and Node.js < 0.11.0 treat\n   * `arguments` object indexes as non-enumerable and fail `hasOwnProperty`\n   * checks for indexes that exceed their function's formal parameters with\n   * associated values of `0`.\n   *\n   * @memberOf _.support\n   * @type boolean\n   */\n  try {\n    support.nonEnumArgs = !propertyIsEnumerable.call(arguments, 1);\n  } catch(e) {\n    support.nonEnumArgs = true;\n  }\n}(0, 0));\n\nmodule.exports = support;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./lang/isNative\":108}],118:[function(require,module,exports){\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n},{}]},{},[3])(3)\n});"]}