!function(t){function e(e,s,c){function u(i){Z=m(i),x(),h()}function m(i){for(var t=[],e=0;e<i.length;++e){var a;if(i[e].data){a={};for(var n in i[e])a[n]=i[e][n]}else a={data:i[e]};t.push(a)}return t}function d(i){t.extend(!0,$,i),$.xaxis.noTicks&&null==$.xaxis.ticks&&($.xaxis.ticks=$.xaxis.noTicks),$.yaxis.noTicks&&null==$.yaxis.ticks&&($.yaxis.ticks=$.yaxis.noTicks),$.grid.coloredAreas&&($.grid.markings=$.grid.coloredAreas),$.grid.coloredAreasColor&&($.grid.markingsColor=$.grid.coloredAreasColor)}function x(){var i,e=Z.length,a=[],l=[];for(i=0;i<Z.length;++i){var o=Z[i].color;null!=o&&(--e,"number"==typeof o?l.push(o):a.push(r(Z[i].color)))}for(i=0;i<l.length;++i)e=Math.max(e,l[i]+1);var s=[],c=0;for(i=0;s.length<e;){var u;u=$.colors.length==i?new n(100,100,100):r($.colors[i]);var m=c%2==1?-1:1,d=1+m*Math.ceil(c/2)*.2;u.scale(d,d,d),s.push(u),++i,i>=$.colors.length&&(i=0,++c)}var x,h=0;for(i=0;i<Z.length;++i)x=Z[i],null==x.color?(x.color=s[h].toString(),++h):"number"==typeof x.color&&(x.color=s[x.color].toString()),x.lines=t.extend(!0,{},$.lines,x.lines),x.points=t.extend(!0,{},$.points,x.points),x.bars=t.extend(!0,{},$.bars,x.bars),null==x.shadowSize&&(x.shadowSize=$.shadowSize),x.xaxis=x.xaxis&&2==x.xaxis?ot.x2axis:ot.xaxis,x.yaxis=x.yaxis&&2==x.yaxis?ot.y2axis:ot.yaxis}function h(){var i,t=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;for(i in ot)ot[i].datamin=t,ot[i].datamax=e,ot[i].used=!1;for(var a=0;a<Z.length;++a){var n=Z[a].data,l=Z[a].xaxis,o=Z[a].yaxis,r=0,s=0;Z[a].bars.show&&(r="left"==Z[a].bars.align?0:-Z[a].bars.barWidth/2,s=r+Z[a].bars.barWidth),l.used=o.used=!0;for(var c=0;c<n.length;++c)if(null!=n[c]){var u=n[c][0],m=n[c][1];null==u||isNaN(u=+u)||(u+r<l.datamin&&(l.datamin=u+r),u+s>l.datamax&&(l.datamax=u+s)),null==m||isNaN(m=+m)||(m<o.datamin&&(o.datamin=m),m>o.datamax&&(o.datamax=m)),(null==u||null==m||isNaN(u)||isNaN(m))&&(n[c]=null)}}for(i in ot)ot[i].datamin==t&&(ot[i].datamin=0),ot[i].datamax==e&&(ot[i].datamax=1)}function f(){if(st=lt.width(),ct=lt.height(),lt.html(""),lt.css("position","relative"),0>=st||0>=ct)throw"Invalid dimensions for plot, width = "+st+", height = "+ct;it=t('<canvas width="'+st+'" height="'+ct+'"></canvas>').appendTo(lt).get(0),t.browser.msie&&(it=window.G_vmlCanvasManager.initElement(it)),at=it.getContext("2d"),tt=t('<canvas style="position:absolute;left:0px;top:0px;" width="'+st+'" height="'+ct+'"></canvas>').appendTo(lt).get(0),t.browser.msie&&(tt=window.G_vmlCanvasManager.initElement(tt)),nt=tt.getContext("2d"),et=t([tt,it]),(null!=$.selection.mode||$.grid.hoverable)&&(et.each(function(){this.onmousemove=N}),null!=$.selection.mode&&et.mousedown(A)),$.grid.clickable&&et.click(L)}function g(){function i(i,t){p(i,t),b(i,t),v(i,t),i==ot.xaxis||i==ot.x2axis?(i.p2c=function(t){return(t-i.min)*i.scale},i.c2p=function(t){return i.min+t/i.scale}):(i.p2c=function(t){return(i.max-t)*i.scale},i.c2p=function(t){return i.max-t/i.scale})}for(var t in ot)i(ot[t],$[t]);y(),w(),I()}function p(i,t){var e=null!=t.min?t.min:i.datamin,a=null!=t.max?t.max:i.datamax;if(a-e==0){var n;n=0==a?1:.01,e-=n,a+=n}else{var l=t.autoscaleMargin;null!=l&&(null==t.min&&(e-=(a-e)*l,0>e&&i.datamin>=0&&(e=0)),null==t.max&&(a+=(a-e)*l,a>0&&i.datamax<=0&&(a=0)))}i.min=e,i.max=a}function b(i,e){function n(i,t,e){var a=function(i){return i=""+i,1==i.length?"0"+i:i},n=[],l=!1;null==e&&(e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);for(var o=0;o<t.length;++o){var r=t.charAt(o);if(l){switch(r){case"h":r=""+i.getUTCHours();break;case"H":r=a(i.getUTCHours());break;case"M":r=a(i.getUTCMinutes());break;case"S":r=a(i.getUTCSeconds());break;case"d":r=""+i.getUTCDate();break;case"m":r=""+(i.getUTCMonth()+1);break;case"y":r=""+i.getUTCFullYear();break;case"b":r=""+e[i.getUTCMonth()]}n.push(r),l=!1}else"%"==r?l=!0:n.push(r)}return n.join("")}var l;l="number"==typeof e.ticks&&e.ticks>0?e.ticks:i==ot.xaxis||i==ot.x2axis?st/100:ct/60;var o,r,s,c,u,m,d,x=(i.max-i.min)/l;if("time"==e.mode){var h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},f=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],g=0;for(null!=e.minTickSize&&(g="number"==typeof e.tickSize?e.tickSize:e.minTickSize[0]*h[e.minTickSize[1]]),u=0;u<f.length-1&&!(x<(f[u][0]*h[f[u][1]]+f[u+1][0]*h[f[u+1][1]])/2&&f[u][0]*h[f[u][1]]>=g);++u);o=f[u][0],s=f[u][1],"year"==s&&(m=Math.pow(10,Math.floor(Math.log(x/h.year)/Math.LN10)),d=x/h.year/m,o=1.5>d?1:3>d?2:7.5>d?5:10,o*=m),e.tickSize&&(o=e.tickSize[0],s=e.tickSize[1]),r=function(i){var t=[],e=i.tickSize[0],n=i.tickSize[1],l=new Date(i.min),o=e*h[n];"second"==n&&l.setUTCSeconds(a(l.getUTCSeconds(),e)),"minute"==n&&l.setUTCMinutes(a(l.getUTCMinutes(),e)),"hour"==n&&l.setUTCHours(a(l.getUTCHours(),e)),"month"==n&&l.setUTCMonth(a(l.getUTCMonth(),e)),"year"==n&&l.setUTCFullYear(a(l.getUTCFullYear(),e)),l.setUTCMilliseconds(0),o>=h.minute&&l.setUTCSeconds(0),o>=h.hour&&l.setUTCMinutes(0),o>=h.day&&l.setUTCHours(0),o>=4*h.day&&l.setUTCDate(1),o>=h.year&&l.setUTCMonth(0);var r,s=0,c=Number.NaN;do if(r=c,c=l.getTime(),t.push({v:c,label:i.tickFormatter(c,i)}),"month"==n)if(1>e){l.setUTCDate(1);var u=l.getTime();l.setUTCMonth(l.getUTCMonth()+1);var m=l.getTime();l.setTime(c+s*h.hour+(m-u)*e),s=l.getUTCHours(),l.setUTCHours(0)}else l.setUTCMonth(l.getUTCMonth()+e);else"year"==n?l.setUTCFullYear(l.getUTCFullYear()+e):l.setTime(c+o);while(c<i.max&&c!=r);return t},c=function(i,t){var a=new Date(i);if(null!=e.timeformat)return n(a,e.timeformat,e.monthNames);var l=t.tickSize[0]*h[t.tickSize[1]],o=t.max-t.min;return fmt=l<h.minute?"%h:%M:%S":l<h.day?o<2*h.day?"%h:%M":"%b %d %h:%M":l<h.month?"%b %d":l<h.year?o<h.year?"%b":"%b %y":"%y",n(a,fmt,e.monthNames)}}else{var p=e.tickDecimals,b=-Math.floor(Math.log(x)/Math.LN10);null!=p&&b>p&&(b=p),m=Math.pow(10,-b),d=x/m,1.5>d?o=1:3>d?(o=2,d>2.25&&(null==p||p>=b+1)&&(o=2.5,++b)):o=7.5>d?5:10,o*=m,null!=e.minTickSize&&o<e.minTickSize&&(o=e.minTickSize),null!=e.tickSize&&(o=e.tickSize),i.tickDecimals=Math.max(0,null!=p?p:b),r=function(i){var t,e=[],n=a(i.min,i.tickSize),l=0,o=Number.NaN;do t=o,o=n+l*i.tickSize,e.push({v:o,label:i.tickFormatter(o,i)}),++l;while(o<i.max&&o!=t);return e},c=function(i,t){return i.toFixed(t.tickDecimals)}}i.tickSize=s?[o,s]:o,i.tickGenerator=r,i.tickFormatter=t.isFunction(e.tickFormatter)?function(i,t){return""+e.tickFormatter(i,t)}:c,null!=e.labelWidth&&(i.labelWidth=e.labelWidth),null!=e.labelHeight&&(i.labelHeight=e.labelHeight)}function v(i,e){if(i.ticks=[],i.used){if(null==e.ticks)i.ticks=i.tickGenerator(i);else if("number"==typeof e.ticks)e.ticks>0&&(i.ticks=i.tickGenerator(i));else if(e.ticks){var a=e.ticks;t.isFunction(a)&&(a=a({min:i.min,max:i.max}));var n,l;for(n=0;n<a.length;++n){var o=null,r=a[n];"object"==typeof r?(l=r[0],r.length>1&&(o=r[1])):l=r,null==o&&(o=i.tickFormatter(l,i)),i.ticks[n]={v:l,label:o}}}null!=e.autoscaleMargin&&i.ticks.length>0&&(null==e.min&&(i.min=Math.min(i.min,i.ticks[0].v)),null==e.max&&i.ticks.length>1&&(i.max=Math.min(i.max,i.ticks[i.ticks.length-1].v)))}}function y(){function e(e){if(null==e.labelWidth&&(e.labelWidth=st/6),null==e.labelHeight){for(labels=[],i=0;i<e.ticks.length;++i)l=e.ticks[i].label,l&&labels.push('<div class="tickLabel" style="float:left;width:'+e.labelWidth+'px">'+l+"</div>");if(e.labelHeight=0,labels.length>0){var a=t('<div style="position:absolute;top:-10000px;width:10000px;font-size:smaller">'+labels.join("")+'<div style="clear:left"></div></div>').appendTo(lt);e.labelHeight=a.height(),a.remove()}}}function a(i){if(null==i.labelWidth||null==i.labelHeight){var e,a,n=[];for(e=0;e<i.ticks.length;++e)a=i.ticks[e].label,a&&n.push('<div class="tickLabel">'+a+"</div>");if(n.length>0){var l=t('<div style="position:absolute;top:-10000px;font-size:smaller">'+n.join("")+"</div>").appendTo(lt);null==i.labelWidth&&(i.labelWidth=l.width()),null==i.labelHeight&&(i.labelHeight=l.find("div").height()),l.remove()}null==i.labelWidth&&(i.labelWidth=0),null==i.labelHeight&&(i.labelHeight=0)}}e(ot.xaxis),a(ot.yaxis),e(ot.x2axis),a(ot.y2axis);var n=$.grid.borderWidth/2;for(i=0;i<Z.length;++i)n=Math.max(n,2*(Z[i].points.radius+Z[i].points.lineWidth/2));rt.left=rt.right=rt.top=rt.bottom=n,ot.xaxis.labelHeight>0&&(rt.bottom=Math.max(n,ot.xaxis.labelHeight+$.grid.labelMargin)),ot.yaxis.labelWidth>0&&(rt.left=Math.max(n,ot.yaxis.labelWidth+$.grid.labelMargin)),ot.x2axis.labelHeight>0&&(rt.top=Math.max(n,ot.x2axis.labelHeight+$.grid.labelMargin)),ot.y2axis.labelWidth>0&&(rt.right=Math.max(n,ot.y2axis.labelWidth+$.grid.labelMargin)),ut=st-rt.left-rt.right,mt=ct-rt.bottom-rt.top,ot.xaxis.scale=ut/(ot.xaxis.max-ot.xaxis.min),ot.yaxis.scale=mt/(ot.yaxis.max-ot.yaxis.min),ot.x2axis.scale=ut/(ot.x2axis.max-ot.x2axis.min),ot.y2axis.scale=mt/(ot.y2axis.max-ot.y2axis.min)}function k(){T();for(var i=0;i<Z.length;i++)W(Z[i])}function M(i,t){var e,a,n,l=t+"axis",o=t+"2axis";return i[l]?(e=ot[l],a=i[l].from,n=i[l].to):i[o]?(e=ot[o],a=i[o].from,n=i[o].to):(e=ot[l],a=i[t+"1"],n=i[t+"2"]),null!=a&&null!=n&&a>n?{from:n,to:a,axis:e}:{from:a,to:n,axis:e}}function T(){var i;if(at.save(),at.clearRect(0,0,st,ct),at.translate(rt.left,rt.top),$.grid.backgroundColor&&(at.fillStyle=$.grid.backgroundColor,at.fillRect(0,0,ut,mt)),$.grid.markings){var e=$.grid.markings;for(t.isFunction(e)&&(e=e({xmin:ot.xaxis.min,xmax:ot.xaxis.max,ymin:ot.yaxis.min,ymax:ot.yaxis.max,xaxis:ot.xaxis,yaxis:ot.yaxis,x2axis:ot.x2axis,y2axis:ot.y2axis})),i=0;i<e.length;++i){var a=e[i],n=M(a,"x"),l=M(a,"y");null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),n.to<n.axis.min||n.from>n.axis.max||l.to<l.axis.min||l.from>l.axis.max||(n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),(n.from!=n.to||l.from!=l.to)&&(n.from=n.axis.p2c(n.from),n.to=n.axis.p2c(n.to),l.from=l.axis.p2c(l.from),l.to=l.axis.p2c(l.to),n.from==n.to||l.from==l.to?(at.strokeStyle=a.color||$.grid.markingsColor,at.lineWidth=a.lineWidth||$.grid.markingsLineWidth,at.moveTo(Math.floor(n.from),Math.floor(l.from)),at.lineTo(Math.floor(n.to),Math.floor(l.to)),at.stroke()):(at.fillStyle=a.color||$.grid.markingsColor,at.fillRect(Math.floor(n.from),Math.floor(l.to),Math.floor(n.to-n.from),Math.floor(l.from-l.to)))))}}at.lineWidth=1,at.strokeStyle=$.grid.tickColor,at.beginPath();var o,r=ot.xaxis;for(i=0;i<r.ticks.length;++i)o=r.ticks[i].v,o<=r.min||o>=ot.xaxis.max||(at.moveTo(Math.floor(r.p2c(o))+at.lineWidth/2,0),at.lineTo(Math.floor(r.p2c(o))+at.lineWidth/2,mt));for(r=ot.yaxis,i=0;i<r.ticks.length;++i)o=r.ticks[i].v,o<=r.min||o>=r.max||(at.moveTo(0,Math.floor(r.p2c(o))+at.lineWidth/2),at.lineTo(ut,Math.floor(r.p2c(o))+at.lineWidth/2));for(r=ot.x2axis,i=0;i<r.ticks.length;++i)o=r.ticks[i].v,o<=r.min||o>=r.max||(at.moveTo(Math.floor(r.p2c(o))+at.lineWidth/2,-5),at.lineTo(Math.floor(r.p2c(o))+at.lineWidth/2,5));for(r=ot.y2axis,i=0;i<r.ticks.length;++i)o=r.ticks[i].v,o<=r.min||o>=r.max||(at.moveTo(ut-5,Math.floor(r.p2c(o))+at.lineWidth/2),at.lineTo(ut+5,Math.floor(r.p2c(o))+at.lineWidth/2));at.stroke(),$.grid.borderWidth&&(at.lineWidth=$.grid.borderWidth,at.strokeStyle=$.grid.color,at.lineJoin="round",at.strokeRect(0,0,ut,mt)),at.restore()}function w(){function i(i,e){for(var a=0;a<i.ticks.length;++a){var n=i.ticks[a];!n.label||n.v<i.min||n.v>i.max||(t+=e(n,i))}}lt.find(".tickLabels").remove();var t='<div class="tickLabels" style="font-size:smaller;color:'+$.grid.color+'">';i(ot.xaxis,function(i,t){return'<div style="position:absolute;top:'+(rt.top+mt+$.grid.labelMargin)+"px;left:"+(rt.left+t.p2c(i.v)-t.labelWidth/2)+"px;width:"+t.labelWidth+'px;text-align:center" class="tickLabel">'+i.label+"</div>"}),i(ot.yaxis,function(i,t){return'<div style="position:absolute;top:'+(rt.top+t.p2c(i.v)-t.labelHeight/2)+"px;right:"+(rt.right+ut+$.grid.labelMargin)+"px;width:"+t.labelWidth+'px;text-align:right" class="tickLabel">'+i.label+"</div>"}),i(ot.x2axis,function(i,t){return'<div style="position:absolute;bottom:'+(rt.bottom+mt+$.grid.labelMargin)+"px;left:"+(rt.left+t.p2c(i.v)-t.labelWidth/2)+"px;width:"+t.labelWidth+'px;text-align:center" class="tickLabel">'+i.label+"</div>"}),i(ot.y2axis,function(i,t){return'<div style="position:absolute;top:'+(rt.top+t.p2c(i.v)-t.labelHeight/2)+"px;left:"+(rt.left+ut+$.grid.labelMargin)+"px;width:"+t.labelWidth+'px;text-align:left" class="tickLabel">'+i.label+"</div>"}),t+="</div>",lt.append(t)}function W(i){(i.lines.show||!i.bars.show&&!i.points.show)&&S(i),i.bars.show&&F(i),i.points.show&&C(i)}function S(i){function t(i,t,e,a){var n,l=null,o=null,r=null;at.beginPath();for(var s=0;s<i.length;++s)if(n=l,l=i[s],null!=n&&null!=l){var c=n[0],u=n[1],m=l[0],d=l[1];if(d>=u&&u<a.min){if(d<a.min)continue;c=(a.min-u)/(d-u)*(m-c)+c,u=a.min}else if(u>=d&&d<a.min){if(u<a.min)continue;m=(a.min-u)/(d-u)*(m-c)+c,d=a.min}if(u>=d&&u>a.max){if(d>a.max)continue;c=(a.max-u)/(d-u)*(m-c)+c,u=a.max}else if(d>=u&&d>a.max){if(u>a.max)continue;m=(a.max-u)/(d-u)*(m-c)+c,d=a.max}if(m>=c&&c<e.min){if(m<e.min)continue;u=(e.min-c)/(m-c)*(d-u)+u,c=e.min}else if(c>=m&&m<e.min){if(c<e.min)continue;d=(e.min-c)/(m-c)*(d-u)+u,m=e.min}if(c>=m&&c>e.max){if(m>e.max)continue;u=(e.max-c)/(m-c)*(d-u)+u,c=e.max}else if(m>=c&&m>e.max){if(c>e.max)continue;d=(e.max-c)/(m-c)*(d-u)+u,m=e.max}(o!=e.p2c(c)||r!=a.p2c(u)+t)&&at.moveTo(e.p2c(c),a.p2c(u)+t),o=e.p2c(m),r=a.p2c(d)+t,at.lineTo(o,r)}at.stroke()}function e(i,t,e){for(var a,n,l=null,o=Math.min(Math.max(0,e.min),e.max),r=0,s=!1,c=0;c<i.length;++c)if(a=l,l=i[c],s&&null!=a&&null==l)at.lineTo(t.p2c(r),e.p2c(o)),at.fill(),s=!1;else if(null!=a&&null!=l){var u=a[0],m=a[1],d=l[0],x=l[1];if(d>=u&&u<t.min){if(d<t.min)continue;m=(t.min-u)/(d-u)*(x-m)+m,u=t.min}else if(u>=d&&d<t.min){if(u<t.min)continue;x=(t.min-u)/(d-u)*(x-m)+m,d=t.min}if(u>=d&&u>t.max){if(d>t.max)continue;m=(t.max-u)/(d-u)*(x-m)+m,u=t.max}else if(d>=u&&d>t.max){if(u>t.max)continue;x=(t.max-u)/(d-u)*(x-m)+m,d=t.max}if(s||(at.beginPath(),at.moveTo(t.p2c(u),e.p2c(o)),s=!0),m>=e.max&&x>=e.max)at.lineTo(t.p2c(u),e.p2c(e.max)),at.lineTo(t.p2c(d),e.p2c(e.max));else if(m<=e.min&&x<=e.min)at.lineTo(t.p2c(u),e.p2c(e.min)),at.lineTo(t.p2c(d),e.p2c(e.min));else{var h=u,f=d;x>=m&&m<e.min&&x>=e.min?(u=(e.min-m)/(x-m)*(d-u)+u,m=e.min):m>=x&&x<e.min&&m>=e.min&&(d=(e.min-m)/(x-m)*(d-u)+u,x=e.min),m>=x&&m>e.max&&x<=e.max?(u=(e.max-m)/(x-m)*(d-u)+u,m=e.max):x>=m&&x>e.max&&m<=e.max&&(d=(e.max-m)/(x-m)*(d-u)+u,x=e.max),u!=h&&(n=m<=e.min?e.min:e.max,at.lineTo(t.p2c(h),e.p2c(n)),at.lineTo(t.p2c(u),e.p2c(n))),at.lineTo(t.p2c(u),e.p2c(m)),at.lineTo(t.p2c(d),e.p2c(x)),d!=f&&(n=x<=e.min?e.min:e.max,at.lineTo(t.p2c(f),e.p2c(n)),at.lineTo(t.p2c(d),e.p2c(n))),r=Math.max(d,f)}}s&&(at.lineTo(t.p2c(r),e.p2c(o)),at.fill())}at.save(),at.translate(rt.left,rt.top),at.lineJoin="round";var a=i.lines.lineWidth,n=i.shadowSize;n>0&&(at.lineWidth=n/2,at.strokeStyle="rgba(0,0,0,0.1)",t(i.data,a/2+n/2+at.lineWidth/2,i.xaxis,i.yaxis),at.lineWidth=n/2,at.strokeStyle="rgba(0,0,0,0.2)",t(i.data,a/2+at.lineWidth/2,i.xaxis,i.yaxis)),at.lineWidth=a,at.strokeStyle=i.color,U(i.lines,i.color),i.lines.fill&&e(i.data,i.xaxis,i.yaxis),t(i.data,0,i.xaxis,i.yaxis),at.restore()}function C(i){function t(i,t,e,a,n){for(var l=0;l<i.length;++l)if(null!=i[l]){var o=i[l][0],r=i[l][1];o<a.min||o>a.max||r<n.min||r>n.max||(at.beginPath(),at.arc(a.p2c(o),n.p2c(r),t,0,2*Math.PI,!0),e&&at.fill(),at.stroke())}}function e(i,t,e,a,n){for(var l=0;l<i.length;++l)if(null!=i[l]){var o=i[l][0],r=i[l][1];o<a.min||o>a.max||r<n.min||r>n.max||(at.beginPath(),at.arc(a.p2c(o),n.p2c(r)+t,e,0,Math.PI,!1),at.stroke())}}at.save(),at.translate(rt.left,rt.top);var a=(i.lines.lineWidth,i.shadowSize);a>0&&(at.lineWidth=a/2,at.strokeStyle="rgba(0,0,0,0.1)",e(i.data,a/2+at.lineWidth/2,i.points.radius,i.xaxis,i.yaxis),at.lineWidth=a/2,at.strokeStyle="rgba(0,0,0,0.2)",e(i.data,at.lineWidth/2,i.points.radius,i.xaxis,i.yaxis)),at.lineWidth=i.points.lineWidth,at.strokeStyle=i.color,U(i.points,i.color),t(i.data,i.points.radius,i.points.fill,i.xaxis,i.yaxis),at.restore()}function z(i,t,e,a,n,l,o,r,s){var c=!0,u=!0,m=!0,d=!1,x=i+e,h=i+a,f=0,g=t;f>g&&(g=0,f=t,d=!0,m=!1),h<o.min||x>o.max||g<r.min||f>r.max||(x<o.min&&(x=o.min,c=!1),h>o.max&&(h=o.max,u=!1),f<r.min&&(f=r.min,d=!1),g>r.max&&(g=r.max,m=!1),l&&(s.beginPath(),s.moveTo(o.p2c(x),r.p2c(f)+n),s.lineTo(o.p2c(x),r.p2c(g)+n),s.lineTo(o.p2c(h),r.p2c(g)+n),s.lineTo(o.p2c(h),r.p2c(f)+n),s.fill()),(c||u||m||d)&&(s.beginPath(),x=o.p2c(x),f=r.p2c(f),h=o.p2c(h),g=r.p2c(g),s.moveTo(x,f+n),c?s.lineTo(x,g+n):s.moveTo(x,g+n),m?s.lineTo(h,g+n):s.moveTo(h,g+n),u?s.lineTo(h,f+n):s.moveTo(h,f+n),d?s.lineTo(x,f+n):s.moveTo(x,f+n),s.stroke()))}function F(i){function t(i,t,e,a,n,l,o){for(var r=0;r<i.length;r++)null!=i[r]&&z(i[r][0],i[r][1],t,e,a,n,l,o,at)}at.save(),at.translate(rt.left,rt.top),at.lineJoin="round",at.lineWidth=i.bars.lineWidth,at.strokeStyle=i.color,U(i.bars,i.color);var e="left"==i.bars.align?0:-i.bars.barWidth/2;t(i.data,e,e+i.bars.barWidth,0,i.bars.fill,i.xaxis,i.yaxis),at.restore()}function U(i,t){var e=i.fill;if(e)if(i.fillColor)at.fillStyle=i.fillColor;else{var a=r(t);a.a="number"==typeof e?e:.4,a.normalize(),at.fillStyle=a.toString()}}function I(){if(lt.find(".legend").remove(),$.legend.show){var e=[],a=!1;for(i=0;i<Z.length;++i)if(Z[i].label){i%$.legend.noColumns==0&&(a&&e.push("</tr>"),e.push("<tr>"),a=!0);var n=Z[i].label;null!=$.legend.labelFormatter&&(n=$.legend.labelFormatter(n)),e.push('<td class="legendColorBox"><div style="border:1px solid '+$.legend.labelBoxBorderColor+';padding:1px"><div style="width:14px;height:10px;background-color:'+Z[i].color+';overflow:hidden"></div></div></td><td class="legendLabel">'+n+"</td>")}if(a&&e.push("</tr>"),0!=e.length){var l='<table style="font-size:smaller;color:'+$.grid.color+'">'+e.join("")+"</table>";if(null!=$.legend.container)$.legend.container.html(l);else{var s="",c=$.legend.position,u=$.legend.margin;"n"==c.charAt(0)?s+="top:"+(u+rt.top)+"px;":"s"==c.charAt(0)&&(s+="bottom:"+(u+rt.bottom)+"px;"),"e"==c.charAt(1)?s+="right:"+(u+rt.right)+"px;":"w"==c.charAt(1)&&(s+="left:"+(u+rt.left)+"px;");var m=t('<div class="legend">'+l.replace('style="','style="position:absolute;'+s+";")+"</div>").appendTo(lt);if(0!=$.legend.backgroundOpacity){var d=$.legend.backgroundColor;if(null==d){var x;x=$.grid.backgroundColor?$.grid.backgroundColor:o(m),d=r(x).adjust(null,null,null,1).toString()}var h=m.children();t('<div style="position:absolute;width:'+h.width()+"px;height:"+h.height()+"px;"+s+"background-color:"+d+';"> </div>').prependTo(m).css("opacity",$.legend.backgroundOpacity)}}}}}function H(i,t){function e(i,t){return{datapoint:Z[i].data[t],dataIndex:t,series:Z[i],seriesIndex:i}}for(var a=$.grid.mouseActiveRadius,n=a*a+1,l=null,o=!1,r=0;r<Z.length;++r)for(var s=Z[r].data,c=Z[r].xaxis,u=Z[r].yaxis,m=c.c2p(i),d=u.c2p(t),x=a/c.scale,h=a/u.scale,f=Z[r].bars.show,g=!(Z[r].bars.show&&!Z[r].lines.show&&!Z[r].points.show),p="left"==Z[r].bars.align?0:-Z[r].bars.barWidth/2,b=p+Z[r].bars.barWidth,v=0;v<s.length;++v)if(null!=s[v]){var y=s[v][0],k=s[v][1];if(f&&!o&&m>=y+p&&y+b>=m&&d>=Math.min(0,k)&&d<=Math.max(0,k)&&(l=e(r,v)),g){if(y-m>x||-x>y-m||k-d>h||-h>k-d)continue;var M=Math.abs(c.p2c(y)-i),T=Math.abs(u.p2c(k)-t),w=M*M+T*T;n>w&&(n=w,o=!0,l=e(r,v))}}return l}function N(i){var t=i||window.event;if(null==t.pageX&&null!=t.clientX){var e=document.documentElement,a=document.body;xt.pageX=t.clientX+(e&&e.scrollLeft||a.scrollLeft||0),xt.pageY=t.clientY+(e&&e.scrollTop||a.scrollTop||0)}else xt.pageX=t.pageX,xt.pageY=t.pageY;$.grid.hoverable&&!bt&&(bt=setTimeout(Y,100)),ht.active&&V(xt)}function A(i){1==i.which&&(document.body.focus(),void 0!==document.onselectstart&&null==dt.onselectstart&&(dt.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==dt.ondrag&&(dt.ondrag=document.ondrag,document.ondrag=function(){return!1}),_(ht.first,i),xt.pageX=null,ht.active=!0,t(document).one("mouseup",B))}function L(i){return gt?void(gt=!1):void X("plotclick",i)}function Y(){X("plothover",xt),bt=null}function X(i,t){var e=et.offset(),a={pageX:t.pageX,pageY:t.pageY},n=t.pageX-e.left-rt.left,l=t.pageY-e.top-rt.top;ot.xaxis.used&&(a.x=ot.xaxis.c2p(n)),ot.yaxis.used&&(a.y=ot.yaxis.c2p(l)),ot.x2axis.used&&(a.x2=ot.x2axis.c2p(n)),ot.y2axis.used&&(a.y2=ot.y2axis.c2p(l));var o=H(n,l);if(o&&(o.pageX=parseInt(o.series.xaxis.p2c(o.datapoint[0])+e.left+rt.left),o.pageY=parseInt(o.series.yaxis.p2c(o.datapoint[1])+e.top+rt.top)),$.grid.autoHighlight){for(var r=0;r<ft.length;++r){var s=ft[r];!s.auto||o&&s.series==o.series&&s.point==o.datapoint||R(s.series,s.point)}o&&j(o.series,o.datapoint,!0)}lt.trigger(i,[a,o])}function P(){pt||(pt=setTimeout(D,50))}function D(){pt=null,nt.save(),nt.clearRect(0,0,st,ct),nt.translate(rt.left,rt.top);var i,t;for(i=0;i<ft.length;++i)t=ft[i],t.series.bars.show?E(t.series,t.point):G(t.series,t.point);if(nt.restore(),ht.show&&K()){nt.strokeStyle=r($.selection.color).scale(null,null,null,.8).toString(),nt.lineWidth=1,at.lineJoin="round",nt.fillStyle=r($.selection.color).scale(null,null,null,.4).toString();var e=Math.min(ht.first.x,ht.second.x),a=Math.min(ht.first.y,ht.second.y),n=Math.abs(ht.second.x-ht.first.x),l=Math.abs(ht.second.y-ht.first.y);nt.fillRect(e+rt.left,a+rt.top,n,l),nt.strokeRect(e+rt.left,a+rt.top,n,l)}}function j(i,t,e){"number"==typeof i&&(i=Z[i]),"number"==typeof t&&(t=i.data[t]);var a=J(i,t);-1==a?(ft.push({series:i,point:t,auto:e}),P()):e||(ft[a].auto=!1)}function R(i,t){"number"==typeof i&&(i=Z[i]),"number"==typeof t&&(t=i.data[t]);var e=J(i,t);-1!=e&&(ft.splice(e,1),P())}function J(i,t){for(var e=0;e<ft.length;++e){var a=ft[e];if(a.series==i&&a.point[0]==t[0]&&a.point[1]==t[1])return e}return-1}function G(i,t){var e=t[0],a=t[1],n=i.xaxis,l=i.yaxis;if(!(e<n.min||e>n.max||a<l.min||a>l.max)){var o=i.points.radius+i.points.lineWidth/2;nt.lineWidth=o,nt.strokeStyle=r(i.color).scale(1,1,1,.5).toString();var s=1.5*o;nt.beginPath(),nt.arc(n.p2c(e),l.p2c(a),s,0,2*Math.PI,!0),nt.stroke()}}function E(i,t){nt.lineJoin="round",nt.lineWidth=i.bars.lineWidth,nt.strokeStyle=r(i.color).scale(1,1,1,.5).toString(),nt.fillStyle=r(i.color).scale(1,1,1,.5).toString();var e="left"==i.bars.align?0:-i.bars.barWidth/2;z(t[0],t[1],e,e+i.bars.barWidth,0,!0,i.xaxis,i.yaxis,nt)}function O(){var i=Math.min(ht.first.x,ht.second.x),t=Math.max(ht.first.x,ht.second.x),e=Math.max(ht.first.y,ht.second.y),a=Math.min(ht.first.y,ht.second.y),n={};ot.xaxis.used&&(n.xaxis={from:ot.xaxis.c2p(i),to:ot.xaxis.c2p(t)}),ot.x2axis.used&&(n.x2axis={from:ot.x2axis.c2p(i),to:ot.x2axis.c2p(t)}),ot.yaxis.used&&(n.yaxis={from:ot.yaxis.c2p(e),to:ot.yaxis.c2p(a)}),ot.y2axis.used&&(n.yaxis={from:ot.y2axis.c2p(e),to:ot.y2axis.c2p(a)}),lt.trigger("plotselected",[n]),ot.xaxis.used&&ot.yaxis.used&&lt.trigger("selected",[{x1:n.xaxis.from,y1:n.yaxis.from,x2:n.xaxis.to,y2:n.yaxis.to}])}function B(i){return void 0!==document.onselectstart&&(document.onselectstart=dt.onselectstart),void 0!==document.ondrag&&(document.ondrag=dt.ondrag),ht.active=!1,V(i),K()&&(O(),gt=!0),!1}function _(i,t){var e=et.offset();"y"==$.selection.mode?i.x=i==ht.first?0:ut:(i.x=t.pageX-e.left-rt.left,i.x=Math.min(Math.max(0,i.x),ut)),"x"==$.selection.mode?i.y=i==ht.first?0:mt:(i.y=t.pageY-e.top-rt.top,i.y=Math.min(Math.max(0,i.y),mt))}function V(i){null!=i.pageX&&(_(ht.second,i),K()?(ht.show=!0,P()):q())}function q(){ht.show&&(ht.show=!1,P())}function Q(i,t){var e;"y"==$.selection.mode?(ht.first.x=0,ht.second.x=ut):(e=M(i,"x"),ht.first.x=e.axis.p2c(e.from),ht.second.x=e.axis.p2c(e.to)),"x"==$.selection.mode?(ht.first.y=0,ht.second.y=mt):(e=M(i,"y"),ht.first.y=e.axis.p2c(e.from),ht.second.y=e.axis.p2c(e.to)),ht.show=!0,P(),t||O()}function K(){var i=5;return Math.abs(ht.second.x-ht.first.x)>=i&&Math.abs(ht.second.y-ht.first.y)>=i}var Z=[],$={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{mode:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null},yaxis:{autoscaleMargin:.02},x2axis:{autoscaleMargin:null},y2axis:{autoscaleMargin:.02},points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff"},lines:{show:!1,lineWidth:2,fill:!1,fillColor:null},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left"},grid:{color:"#545454",backgroundColor:null,tickColor:"#dddddd",labelMargin:5,borderWidth:2,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},selection:{mode:null,color:"#e8cfac"},shadowSize:4},it=null,tt=null,et=null,at=null,nt=null,lt=e,ot={xaxis:{},yaxis:{},x2axis:{},y2axis:{}},rt={left:0,right:0,top:0,bottom:0},st=0,ct=0,ut=0,mt=0,dt={};this.setData=u,this.setupGrid=g,this.draw=k,this.clearSelection=q,this.setSelection=Q,this.getCanvas=function(){return it},this.getPlotOffset=function(){return rt},this.getData=function(){return Z},this.getAxes=function(){return ot},this.highlight=j,this.unhighlight=R,d(c),u(s),f(),g(),k();var xt={pageX:null,pageY:null},ht={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},ft=[],gt=!1,pt=null,bt=null}function a(i,t){return t*Math.floor(i/t)}function n(){for(var i=["r","g","b","a"],t=4;-1<--t;)this[i[t]]=arguments[t]||(3==t?1:0);this.toString=function(){return this.a>=1?"rgb("+[this.r,this.g,this.b].join(",")+")":"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"},this.scale=function(){for(t=4;-1<--t;)null!=arguments[t]&&(this[i[t]]*=arguments[t]);return this.normalize()},this.adjust=function(){for(t=4;-1<--t;)null!=arguments[t]&&(this[i[t]]+=arguments[t]);return this.normalize()},this.clone=function(){return new n(this.r,this.b,this.g,this.a)};var e=function(i,t,e){return Math.max(Math.min(i,e),t)};this.normalize=function(){return this.r=e(parseInt(this.r),0,255),this.g=e(parseInt(this.g),0,255),this.b=e(parseInt(this.b),0,255),this.a=e(this.a,0,1),this},this.normalize()}function o(i){var e,a=i;do{if(e=a.css("background-color").toLowerCase(),""!=e&&"transparent"!=e)break;a=a.parent()}while(!t.nodeName(a.get(0),"body"));return"rgba(0, 0, 0, 0)"==e?"transparent":e}function r(i){var e;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return new n(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return new n(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return new n(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return new n(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return new n(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return new n(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));var a=t.trim(i).toLowerCase();return"transparent"==a?new n(255,255,255,0):(e=s[a],new n(e[0],e[1],e[2]))}t.plot=function(i,t,a){var n=new e(i,t,a);return n};var s={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery);