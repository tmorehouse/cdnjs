window.CanvasRenderingContext2D||!function(){function t(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function e(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function i(){return[[1,0,0],[0,1,0],[0,0,1]]}function s(t,e){for(var s=i(),r=0;3>r;r++)for(var n=0;3>n;n++){for(var o=0,h=0;3>h;h++)o+=t[r][h]*e[h][n];s[r][n]=o}return s}function r(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_}function n(t){var e,i=1;if(t=String(t),"rgb"==t.substring(0,3)){var s=t.indexOf("(",3),r=t.indexOf(")",s+1),n=t.substring(s+1,r).split(",");e="#";for(var o=0;3>o;o++)e+=m[Number(n[o])];4==n.length&&"a"==t.substr(3,1)&&(i=n[3])}else e=t;return[e,i]}function o(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function h(t){this.m_=i(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*d,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.overflow="hidden",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1}function a(t){this.type_=t,this.radius1_=0,this.radius2_=0,this.colors_=[],this.focus_={x:0,y:0}}function l(){}var c=Math,u=c.round,f=c.sin,_=c.cos,d=10,p=d/2,y={init:function(t){var e=t||document;if(/MSIE/.test(navigator.userAgent)&&!window.opera){var i=this;e.attachEvent("onreadystatechange",function(){i.init_(e)})}},init_:function(t){if("complete"==t.readyState){t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml");var e=t.createStyleSheet();e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}";for(var i=t.getElementsByTagName("canvas"),s=0;s<i.length;s++)i[s].getContext||this.initElement(i[s])}},fixElement_:function(t){var e=t.outerHTML,i=t.ownerDocument.createElement(e);if("/>"!=e.slice(-2)){for(var s,r="/"+t.tagName;(s=t.nextSibling)&&s.tagName!=r;)s.removeNode();s&&s.removeNode()}return t.parentNode.replaceChild(i,t),i},initElement:function(i){i=this.fixElement_(i),i.getContext=function(){return this.context_?this.context_:this.context_=new h(this)},i.attachEvent("onpropertychange",t),i.attachEvent("onresize",e);var s=i.attributes;return s.width&&s.width.specified?i.style.width=s.width.nodeValue+"px":i.width=i.clientWidth,s.height&&s.height.specified?i.style.height=s.height.nodeValue+"px":i.height=i.clientHeight,i}};y.init();for(var m=[],g=0;16>g;g++)for(var v=0;16>v;v++)m[16*g+v]=g.toString(16)+v.toString(16);var x=h.prototype;x.clearRect=function(){this.element_.innerHTML="",this.currentPath_=[]},x.beginPath=function(){this.currentPath_=[]},x.moveTo=function(t,e){this.currentPath_.push({type:"moveTo",x:t,y:e}),this.currentX_=t,this.currentY_=e},x.lineTo=function(t,e){this.currentPath_.push({type:"lineTo",x:t,y:e}),this.currentX_=t,this.currentY_=e},x.bezierCurveTo=function(t,e,i,s,r,n){this.currentPath_.push({type:"bezierCurveTo",cp1x:t,cp1y:e,cp2x:i,cp2y:s,x:r,y:n}),this.currentX_=r,this.currentY_=n},x.quadraticCurveTo=function(t,e,i,s){var r=this.currentX_+2/3*(t-this.currentX_),n=this.currentY_+2/3*(e-this.currentY_),o=r+(i-this.currentX_)/3,h=n+(s-this.currentY_)/3;this.bezierCurveTo(r,n,o,h,i,s)},x.arc=function(t,e,i,s,r,n){i*=d;var o=n?"at":"wa",h=t+_(s)*i-p,a=e+f(s)*i-p,l=t+_(r)*i-p,c=e+f(r)*i-p;h!=l||n||(h+=.125),this.currentPath_.push({type:o,x:t,y:e,radius:i,xStart:h,yStart:a,xEnd:l,yEnd:c})},x.rect=function(t,e,i,s){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath()},x.strokeRect=function(t,e,i,s){this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath(),this.stroke()},x.fillRect=function(t,e,i,s){this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath(),this.fill()},x.createLinearGradient=function(){var t=new a("gradient");return t},x.createRadialGradient=function(t,e,i,s,r,n){var o=new a("gradientradial");return o.radius1_=i,o.radius2_=n,o.focus_.x=t,o.focus_.y=e,o},x.drawImage=function(t){var e,i,s,r,n,o,h,a,l=t.runtimeStyle.width,c=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var f=t.width,_=t.height;if(t.runtimeStyle.width=l,t.runtimeStyle.height=c,3==arguments.length)e=arguments[1],i=arguments[2],n=o=0,h=s=f,a=r=_;else if(5==arguments.length)e=arguments[1],i=arguments[2],s=arguments[3],r=arguments[4],n=o=0,h=f,a=_;else{if(9!=arguments.length)throw"Invalid number of arguments";n=arguments[1],o=arguments[2],h=arguments[3],a=arguments[4],e=arguments[5],i=arguments[6],s=arguments[7],r=arguments[8]}var p=this.getCoords_(e,i),y=[],m=10,g=10;if(y.push(" <g_vml_:group",' coordsize="',d*m,",",d*g,'"',' coordorigin="0,0"',' style="width:',m,";height:",g,";position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var v=[];v.push("M11='",this.m_[0][0],"',","M12='",this.m_[1][0],"',","M21='",this.m_[0][1],"',","M22='",this.m_[1][1],"',","Dx='",u(p.x/d),"',","Dy='",u(p.y/d),"'");var x=p,S=this.getCoords_(e+s,i),w=this.getCoords_(e,i+r),C=this.getCoords_(e+s,i+r);x.x=Math.max(x.x,S.x,w.x,C.x),x.y=Math.max(x.y,S.y,w.y,C.y),y.push("padding:0 ",u(x.x/d),"px ",u(x.y/d),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",v.join(""),", sizingmethod='clip');")}else y.push("top:",u(p.y/d),"px;left:",u(p.x/d),"px;");y.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',d*s,";"," height:",d*r,';"',' cropleft="',n/f,'"',' croptop="',o/_,'"',' cropright="',(f-n-h)/f,'"',' cropbottom="',(_-o-a)/_,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",y.join(""))},x.stroke=function(t){var e=[],i=n(t?this.fillStyle:this.strokeStyle),s=i[0],r=i[1]*this.globalAlpha,h=10,a=10;e.push("<g_vml_:shape",' fillcolor="',s,'"',' filled="',Boolean(t),'"',' style="position:absolute;width:',h,";height:",a,';"',' coordorigin="0 0" coordsize="',d*h," ",d*a,'"',' stroked="',!t,'"',' strokeweight="',this.lineWidth,'"',' strokecolor="',s,'"',' path="');for(var l={x:null,y:null},c={x:null,y:null},f=0;f<this.currentPath_.length;f++){var _=this.currentPath_[f];if("moveTo"==_.type){e.push(" m ");var p=this.getCoords_(_.x,_.y);e.push(u(p.x),",",u(p.y))}else if("lineTo"==_.type){e.push(" l ");var p=this.getCoords_(_.x,_.y);e.push(u(p.x),",",u(p.y))}else if("close"==_.type)e.push(" x ");else if("bezierCurveTo"==_.type){e.push(" c ");var p=this.getCoords_(_.x,_.y),y=this.getCoords_(_.cp1x,_.cp1y),m=this.getCoords_(_.cp2x,_.cp2y);e.push(u(y.x),",",u(y.y),",",u(m.x),",",u(m.y),",",u(p.x),",",u(p.y))}else if("at"==_.type||"wa"==_.type){e.push(" ",_.type," ");var p=this.getCoords_(_.x,_.y),g=this.getCoords_(_.xStart,_.yStart),v=this.getCoords_(_.xEnd,_.yEnd);e.push(u(p.x-this.arcScaleX_*_.radius),",",u(p.y-this.arcScaleY_*_.radius)," ",u(p.x+this.arcScaleX_*_.radius),",",u(p.y+this.arcScaleY_*_.radius)," ",u(g.x),",",u(g.y)," ",u(v.x),",",u(v.y))}p&&((null==l.x||p.x<l.x)&&(l.x=p.x),(null==c.x||p.x>c.x)&&(c.x=p.x),(null==l.y||p.y<l.y)&&(l.y=p.y),(null==c.y||p.y>c.y)&&(c.y=p.y))}if(e.push(' ">'),"object"==typeof this.fillStyle){var x={x:"50%",y:"50%"},S=c.x-l.x,w=c.y-l.y,C=S>w?S:w;x.x=u(this.fillStyle.focus_.x/S*100+50)+"%",x.y=u(this.fillStyle.focus_.y/w*100+50)+"%";var T=[];if("gradientradial"==this.fillStyle.type_)var b=this.fillStyle.radius1_/C*100,k=this.fillStyle.radius2_/C*100-b;else var b=0,k=100;var E={offset:null,color:null},P={offset:null,color:null};this.fillStyle.colors_.sort(function(t,e){return t.offset-e.offset});for(var f=0;f<this.fillStyle.colors_.length;f++){var M=this.fillStyle.colors_[f];T.push(M.offset*k+b,"% ",M.color,","),(M.offset>E.offset||null==E.offset)&&(E.offset=M.offset,E.color=M.color),(M.offset<P.offset||null==P.offset)&&(P.offset=M.offset,P.color=M.color)}T.pop(),e.push("<g_vml_:fill",' color="',P.color,'"',' color2="',E.color,'"',' type="',this.fillStyle.type_,'"',' focusposition="',x.x,", ",x.y,'"',' colors="',T.join(""),'"',' opacity="',r,'" />')}else t?e.push('<g_vml_:fill color="',s,'" opacity="',r,'" />'):e.push("<g_vml_:stroke",' opacity="',r,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',o(this.lineCap),'"',' weight="',this.lineWidth,'px"',' color="',s,'" />');e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},x.fill=function(){this.stroke(!0)},x.closePath=function(){this.currentPath_.push({type:"close"})},x.getCoords_=function(t,e){return{x:d*(t*this.m_[0][0]+e*this.m_[1][0]+this.m_[2][0])-p,y:d*(t*this.m_[0][1]+e*this.m_[1][1]+this.m_[2][1])-p}},x.save=function(){var t={};r(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=s(i(),this.m_)},x.restore=function(){r(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},x.translate=function(t,e){var i=[[1,0,0],[0,1,0],[t,e,1]];this.m_=s(i,this.m_)},x.rotate=function(t){var e=_(t),i=f(t),r=[[e,i,0],[-i,e,0],[0,0,1]];this.m_=s(r,this.m_)},x.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e;var i=[[t,0,0],[0,e,0],[0,0,1]];this.m_=s(i,this.m_)},x.clip=function(){},x.arcTo=function(){},x.createPattern=function(){return new l},a.prototype.addColorStop=function(t,e){e=n(e),this.colors_.push({offset:1-t,color:e})},G_vmlCanvasManager=y,CanvasRenderingContext2D=h,CanvasGradient=a,CanvasPattern=l}();