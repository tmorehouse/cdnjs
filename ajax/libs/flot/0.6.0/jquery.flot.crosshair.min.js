!function(e){function o(e){var o={x:-1,y:-1,locked:!1};e.setCrosshair=function(i){if(i){var t=e.getAxes();o.x=Math.max(0,Math.min(null!=i.x?t.xaxis.p2c(i.x):t.x2axis.p2c(i.x2),e.width())),o.y=Math.max(0,Math.min(null!=i.y?t.yaxis.p2c(i.y):t.y2axis.p2c(i.y2),e.height()))}else o.x=-1;e.triggerRedrawOverlay()},e.clearCrosshair=e.setCrosshair,e.lockCrosshair=function(i){i&&e.setCrosshair(i),o.locked=!0},e.unlockCrosshair=function(){o.locked=!1},e.hooks.bindEvents.push(function(e,i){e.getOptions().crosshair.mode&&(i.mouseout(function(){-1!=o.x&&(o.x=-1,e.triggerRedrawOverlay())}),i.mousemove(function(i){if(e.getSelection&&e.getSelection())return void(o.x=-1);if(!o.locked){var t=e.offset();o.x=Math.max(0,Math.min(i.pageX-t.left,e.width())),o.y=Math.max(0,Math.min(i.pageY-t.top,e.height())),e.triggerRedrawOverlay()}}))}),e.hooks.drawOverlay.push(function(e,i){var t=e.getOptions().crosshair;if(t.mode){var r=e.getPlotOffset();i.save(),i.translate(r.left,r.top),-1!=o.x&&(i.strokeStyle=t.color,i.lineWidth=t.lineWidth,i.lineJoin="round",i.beginPath(),-1!=t.mode.indexOf("x")&&(i.moveTo(o.x,0),i.lineTo(o.x,e.height())),-1!=t.mode.indexOf("y")&&(i.moveTo(0,o.y),i.lineTo(e.width(),o.y)),i.stroke()),i.restore()}})}var i={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};e.plot.plugins.push({init:o,options:i,name:"crosshair",version:"1.0"})}(jQuery);