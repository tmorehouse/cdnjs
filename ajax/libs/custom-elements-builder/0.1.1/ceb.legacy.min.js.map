{"version":3,"file":"ceb.legacy.min.js","sources":["../node_modules/document-register-element/build/document-register-element.max.js","../node_modules/es6-shim/es6-shim.js","../src/ceb.js"],"names":["window","document","Object","REGISTER_ELEMENT","loopAndVerify","list","action","i","length","verifyAndSetupAndAction","loopAndSetup","node","patch","protos","getTypeIndex","executeAction","iPO","call","HTMLElementPrototype","querySelectorAll","query","target","is","getAttribute","nodeName","indexOf","types","PREFIX_IS","toUpperCase","PREFIX_TAG","isInQSA","name","type","onDOMAttrModified","e","currentTarget","attrChange","prevValue","newValue","attributeChangedCallback","attrName","ADDITION","REMOVAL","onDOMNode","executor","patchedSetAttribute","value","self","this","setAttribute","onSubtreeModified","setupNode","proto","setPrototype","observer","observe","attributesObserver","doesNotSupportDOMAttrModified","EXPANDO_UID","getAttributesMirror","addEventListener","DOM_SUBTREE_MODIFIED","DOM_ATTR_MODIFIED","createdCallback","created","fn","attached","detached","patchIfNotAlready","callDOMAttrModified","Math","random","EXTENDS","validName","invalidNames","documentElement","v","OP","prototype","hOP","hasOwnProperty","isPrototypeOf","defineProperty","gOPD","getOwnPropertyDescriptor","gOPN","getOwnPropertyNames","gPO","getPrototypeOf","sPO","setPrototypeOf","hasProto","__proto__","create","Bridge","o","p","setProperties","key","names","MutationObserver","WebKitMutationObserver","HTMLElement","Element","Node","cloneNode","createElement","attributes","characterData","attributeOldValue","DOMAttrModified","removeEventListener","setListener","removeAttribute","oldAttributes","newAttributes","attr","result","options","upperType","checkEmAll","callback","records","current","addedNodes","removedNodes","attributeName","oldValue","childList","subtree","localName","typeExtension","apply","arguments","setup","toLowerCase","deep","Error","test","constructor","extending","opt","push","concat","root","factory","define","amd","exports","module","returnExports","ArrayIterator","isCallableWithoutNew","func","supportsSubclassing","C","f","Sub","arePropertyDescriptorsSupported","startsWithRejectsRegex","rejectsRegex","String","startsWith","getGlobal","Function","globals","global_isFinite","isFinite","supportsDescriptors","startsWithIsCompliant","_indexOf","bind","_toString","toString","_hasOwnProperty","noop","Symbol","symbolSpecies","species","Type","string","x","regex","symbol","object","force","configurable","enumerable","writable","Value","getter","TypeError","get","proxy","originalObject","targetObject","originalDescriptor","set","redefine","property","descriptor","defineProperties","map","keys","forEach","method","properties","Prototype","$iterator$","iterator","Set","addIterator","impl","isArguments","str","callee","ES","RequireObjectCoercible","optMessage","TypeIsObject","ToObject","IsCallable","ToInt32","ToNumber","ToUint32","ToInteger","number","Number","isNaN","floor","abs","ToLength","len","MAX_SAFE_INTEGER","SameValue","a","b","SameValueZero","IsIterable","GetIterator","itFn","it","IteratorNext","next","Construct","args","obj","_es6construct","emulateES6construct","numberConversion","roundToEven","n","w","packIEEE754","ebits","fbits","s","bits","bytes","bias","pow","Infinity","min","log","LN2","reverse","join","parseInt","slice","unpackIEEE754","j","NaN","unpackFloat32","packFloat32","conversions","toFloat32","num","Float32Array","float32array","fromCodePoint","RangeError","fromCharCode","raw","callSite","cooked","rawValue","rawString","literalsegments","nextKey","nextSeg","nextSub","stringElements","nextIndex","originalFromCodePoint","StringShims","repeat","times","half","thisStr","searchStr","startArg","start","max","endsWith","thisLen","posArg","pos","end","includes","searchString","position","codePointAt","first","charCodeAt","isEnd","second","hasStringTrimBug","trim","ws","trimRegexp","RegExp","replace","StringIterator","_s","_i","done","substr","ArrayShims","from","iterable","mapFn","hasThisArg","thisArg","usingIterator","iterationValue","Array","of","arrayFromSwallowsNegativeLengths","array","kind","retval","ArrayPrototypeShims","copyWithin","to","fin","count","direction","fill","O","relativeStart","relativeEnd","find","predicate","findIndex","values","entries","unscopables","maxSafeInteger","MIN_SAFE_INTEGER","EPSILON","parseFloat","isInteger","isSafeInteger","item","idx","assign","reduce","source","magic","checkArgs","polyfill","FAKENULL","gpo","spo","originalObjectKeys","flags","regExpFlagsGetter","global","ignoreCase","multiline","unicode","sticky","regExpSupportsFlagsWithRegex","OrigRegExp","RegExpShim","pattern","MathShims","acosh","E","sqrt","asinh","atanh","cbrt","negate","clz32","cosh","exp","expm1","t","sum","hypot","anyNaN","allZero","anyInfinity","numbers","every","arg","sort","largest","divided","log2","LOG2E","log10","LOG10E","log1p","sign","sinh","tanh","trunc","imul","y","ah","al","bh","bl","fround","MAX_VALUE","roundHandlesBoundaryConditions","round","origMathRound","PromiseShim","Promise","Promise$prototype","IsPromise","promise","_promiseConstructor","_status","makeZeroTimeout","PromiseCapability","capability","resolver","resolve","reject","setTimeout","postMessage","timeouts","messageName","setZeroTimeout","handleMessage","event","data","stopPropagation","shift","makePromiseAsap","P","task","then","enqueue","setImmediate","process","nextTick","updatePromiseFromPotentialThenable","triggerPromiseReactions","reactions","reaction","handler","updateResult","promiseResolutionHandler","onFulfilled","onRejected","_resolveReactions","_rejectReactions","resolution","_result","reason","_promiseAllResolver","index","remaining","all","nextPromise","resolveElement","race","rejectPromise","resolvePromise","catch","resolutionHandler","resolveReaction","rejectReaction","accept","defer","chain","promiseSupportsSubclassing","S","promiseIgnoresNonFunctionThenCallbacks","ex","promiseRequiresObjectContext","testOrder","k","preservesInsertionOrder","preservesNumericInsertionOrder","fastkey","emptyObject","collectionShims","Map","MapEntry","prev","MapIterator","head","_head","_es6map","_storage","_size","adder","nextItem","empty","isRemoved","Map$prototype","fkey","entry","has","delete","clear","context","SetShim","_es6set","[[SetData]]","add","Set$prototype","ensureMap","m","charAt","size","hasFKey","entireSet","M","g","ceb","emptyFn","listValues","propName","fromCamelCaseToHyphenCase","split","part","compareLevels","level","applyAttributeValue","el","attName","isBoolean","hasAttribute","undefined","accessorFactory","wrappers","wrapped","stack","previous","attributeAccessorSetFactory","setter","attValue","attributeAccessorGetFactory","methodFactory","sanitizeStructure","struct","features","interceptors","listeners","methods","attachedCallback","detachedCallback","setupFeatures","builder","tagName","registered","feature","createAttributesHash","filter","createDefinedPropertiesHash","definedProperty","attribute","setStack","getStack","createMethodsHash","methName","build","definedProperties","wrappedMethods","registerElement","delegableSetAccessorInterceptor","querySelector","delegate","targetPropName","targetAttName","delegableGetAccessorInterceptor","eventListener","evt","baseStructFactory","builtInFeature","sanitizeProperty","params","api","wrap","intercept","setFn","getFn","anExtend","aProto","someProperties","sanitizedProperties","someMethods","listen","queries","parts","listener","register","__eventHandlers","oldVal","newVal"],"mappings":"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","sourcesContent":["/*!\nCopyright (C) 2014 by WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n(function(window, document, Object, REGISTER_ELEMENT){'use strict';\n\n// in case it's there or already patched\nif (REGISTER_ELEMENT in document) return;\n\n// DO NOT USE THIS FILE DIRECTLY, IT WON'T WORK\n// THIS IS A PROJECT BASED ON A BUILD SYSTEM\n// THIS FILE IS JUST WRAPPED UP RESULTING IN\n// build/document-register-element.js\n// and its .max.js counter part\n\nvar\n  // IE < 11 only + old WebKit for attributes + feature detection\n  EXPANDO_UID = '__' + REGISTER_ELEMENT + (Math.random() * 10e4 >> 0),\n\n  // shortcuts and costants\n  EXTENDS = 'extends',\n  DOM_ATTR_MODIFIED = 'DOMAttrModified',\n  DOM_SUBTREE_MODIFIED = 'DOMSubtreeModified',\n  PREFIX_TAG = '<',\n  PREFIX_IS = '=',\n\n  // valid and invalid node names\n  validName = /^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,\n  invalidNames = [\n    'ANNOTATION-XML',\n    'COLOR-PROFILE',\n    'FONT-FACE',\n    'FONT-FACE-SRC',\n    'FONT-FACE-URI',\n    'FONT-FACE-FORMAT',\n    'FONT-FACE-NAME',\n    'MISSING-GLYPH'\n  ],\n\n  // registered types and their prototypes\n  types = [],\n  protos = [],\n\n  // to query subnodes\n  query = '',\n\n  // html shortcut used to feature detect\n  documentElement = document.documentElement,\n\n  // ES5 inline helpers || basic patches\n  indexOf = types.indexOf || function (v) {\n    for(var i = this.length; i-- && this[i] !== v;){}\n    return i;\n  },\n\n  // other helpers / shortcuts\n  OP = Object.prototype,\n  hOP = OP.hasOwnProperty,\n  iPO = OP.isPrototypeOf,\n\n  defineProperty = Object.defineProperty,\n  gOPD = Object.getOwnPropertyDescriptor,\n  gOPN = Object.getOwnPropertyNames,\n  gPO = Object.getPrototypeOf,\n  sPO = Object.setPrototypeOf,\n\n  hasProto = !!Object.__proto__,\n\n  // used to create unique instances\n  create = Object.create || function Bridge(proto) {\n    // silly broken polyfill probably ever used but short enough to work\n    return proto ? ((Bridge.prototype = proto), new Bridge) : this;\n  },\n\n  // will set the prototype if possible\n  // or copy over all properties\n  setPrototype = sPO || (\n    hasProto ?\n      function (o, p) {\n        o.__proto__ = p;\n        return o;\n      } : (\n    (gOPN && gOPD) ?\n      (function(){\n        function setProperties(o, p) {\n          for (var\n            key,\n            names = gOPN(p),\n            i = 0, length = names.length;\n            i < length; i++\n          ) {\n            key = names[i];\n            if (!hOP.call(o, key)) {\n              defineProperty(o, key, gOPD(p, key));\n            }\n          }\n        }\n        return function (o, p) {\n          do {\n            setProperties(o, p);\n          } while (p = gPO(p));\n          return o;\n        };\n      }()) :\n      function (o, p) {\n        for (var key in p) {\n          o[key] = p[key];\n        }\n        return o;\n      }\n  )),\n\n  // DOM shortcuts and helpers, if any\n\n  MutationObserver = window.MutationObserver ||\n                     window.WebKitMutationObserver,\n\n  HTMLElementPrototype = (\n    window.HTMLElement ||\n    window.Element ||\n    window.Node\n  ).prototype,\n\n  cloneNode = HTMLElementPrototype.cloneNode,\n  setAttribute = HTMLElementPrototype.setAttribute,\n\n  // replaced later on\n  createElement = document.createElement,\n\n  // shared observer for all attributes\n  attributesObserver = MutationObserver && {\n    attributes: true,\n    characterData: true,\n    attributeOldValue: true\n  },\n\n  // useful to detect only if there's no MutationObserver\n  DOMAttrModified = MutationObserver || function(e) {\n    doesNotSupportDOMAttrModified = false;\n    documentElement.removeEventListener(\n      DOM_ATTR_MODIFIED,\n      DOMAttrModified\n    );\n  },\n\n  // internal flags\n  setListener = false,\n  doesNotSupportDOMAttrModified = true,\n\n  // optionally defined later on\n  onSubtreeModified,\n  callDOMAttrModified,\n  getAttributesMirror,\n  observer,\n\n  // based on setting prototype capability\n  // will check proto or the expando attribute\n  // in order to setup the node once\n  patchIfNotAlready,\n  patch\n;\n\nif (sPO || hasProto) {\n    patchIfNotAlready = function (node, proto) {\n      if (!iPO.call(proto, node)) {\n        setupNode(node, proto);\n      }\n    };\n    patch = setupNode;\n} else {\n    patchIfNotAlready = function (node, proto) {\n      if (!node[EXPANDO_UID]) {\n        node[EXPANDO_UID] = Object(true);\n        setupNode(node, proto);\n      }\n    };\n    patch = patchIfNotAlready;\n}\n\nif (!MutationObserver) {\n  documentElement.addEventListener(DOM_ATTR_MODIFIED, DOMAttrModified);\n  documentElement.setAttribute(EXPANDO_UID, 1);\n  documentElement.removeAttribute(EXPANDO_UID);\n  if (doesNotSupportDOMAttrModified) {\n    onSubtreeModified = function (e) {\n      var\n        node = this,\n        oldAttributes,\n        newAttributes,\n        key\n      ;\n      if (node === e.target) {\n        oldAttributes = node[EXPANDO_UID];\n        node[EXPANDO_UID] = (newAttributes = getAttributesMirror(node));\n        for (key in newAttributes) {\n          if (!(key in oldAttributes)) {\n            // attribute was added\n            return callDOMAttrModified(\n              0,\n              node,\n              key,\n              oldAttributes[key],\n              newAttributes[key],\n              'ADDITION'\n            );\n          } else if (newAttributes[key] !== oldAttributes[key]) {\n            // attribute was changed\n            return callDOMAttrModified(\n              1,\n              node,\n              key,\n              oldAttributes[key],\n              newAttributes[key],\n              'MODIFICATION'\n            );\n          }\n        }\n        // checking if it has been removed\n        for (key in oldAttributes) {\n          if (!(key in newAttributes)) {\n            // attribute removed\n            return callDOMAttrModified(\n              2,\n              node,\n              key,\n              oldAttributes[key],\n              newAttributes[key],\n              'REMOVAL'\n            );\n          }\n        }\n      }\n    };\n    callDOMAttrModified = function (\n      attrChange,\n      currentTarget,\n      attrName,\n      prevValue,\n      newValue,\n      action\n    ) {\n      var e = {\n        attrChange: attrChange,\n        currentTarget: currentTarget,\n        attrName: attrName,\n        prevValue: prevValue,\n        newValue: newValue\n      };\n      e[action] = attrChange;\n      onDOMAttrModified(e);\n    };\n    getAttributesMirror = function (node) {\n      for (var\n        attr, name,\n        result = {},\n        attributes = node.attributes,\n        i = 0, length = attributes.length;\n        i < length; i++\n      ) {\n        attr = attributes[i];\n        name = attr.name;\n        if (name !== 'setAttribute') {\n          result[name] = attr.value;\n        }\n      }\n      return result;\n    };\n  }\n}\n\nfunction loopAndVerify(list, action) {\n  for (var i = 0, length = list.length; i < length; i++) {\n    verifyAndSetupAndAction(list[i], action);\n  }\n}\n\nfunction loopAndSetup(list) {\n  for (var i = 0, length = list.length, node; i < length; i++) {\n    node = list[i];\n    patch(node, protos[getTypeIndex(node)]);\n  }\n}\n\nfunction executeAction(action) {\n  return function (node) {\n    if (iPO.call(HTMLElementPrototype, node)) {\n      verifyAndSetupAndAction(node, action);\n      loopAndVerify(\n        node.querySelectorAll(query),\n        action\n      );\n    }\n  };\n}\n\nfunction getTypeIndex(target) {\n  var\n    is = target.getAttribute('is'),\n    nodeName = target.nodeName,\n    i = indexOf.call(\n      types,\n      is ?\n          PREFIX_IS + is.toUpperCase() :\n          PREFIX_TAG + nodeName\n    )\n  ;\n  return is && -1 < i && !isInQSA(nodeName, is) ? -1 : i;\n}\n\nfunction isInQSA(name, type) {\n  return -1 < query.indexOf(name + '[is=\"' + type + '\"]');\n}\n\nfunction onDOMAttrModified(e) {\n  var\n    node = e.currentTarget,\n    attrChange = e.attrChange,\n    prevValue = e.prevValue,\n    newValue = e.newValue\n  ;\n  if (node.attributeChangedCallback &&\n      e.attrName !== 'style') {\n    node.attributeChangedCallback(\n      e.attrName,\n      attrChange === e.ADDITION ? null : prevValue,\n      attrChange === e.REMOVAL ? null : newValue\n    );\n  }\n}\n\nfunction onDOMNode(action) {\n  var executor = executeAction(action);\n  return function (e) {\n    executor(e.target);\n  };\n}\n\nfunction patchedSetAttribute(name, value) {\n  var self = this;\n  setAttribute.call(self, name, value);\n  onSubtreeModified.call(self, {target: self});\n}\n\nfunction setupNode(node, proto) {\n  setPrototype(node, proto);\n  if (observer) {\n    observer.observe(node, attributesObserver);\n  } else {\n    if (doesNotSupportDOMAttrModified) {\n      node.setAttribute = patchedSetAttribute;\n      node[EXPANDO_UID] = getAttributesMirror(node);\n      node.addEventListener(DOM_SUBTREE_MODIFIED, onSubtreeModified);\n    }\n    node.addEventListener(DOM_ATTR_MODIFIED, onDOMAttrModified);\n  }\n  if (node.createdCallback) {\n    node.created = true;\n    node.createdCallback();\n    node.created = false;\n  }\n}\n\nfunction verifyAndSetupAndAction(node, action) {\n  var\n    fn,\n    i = getTypeIndex(node),\n    attached = 'attached',\n    detached = 'detached'\n  ;\n  if (-1 < i) {\n    patchIfNotAlready(node, protos[i]);\n    i = 0;\n    if (action === attached && !node[attached]) {\n      node[detached] = false;\n      node[attached] = true;\n      i = 1;\n    } else if (action === detached && !node[detached]) {\n      node[attached] = false;\n      node[detached] = true;\n      i = 1;\n    }\n    if (i && (fn = node[action + 'Callback'])) fn.call(node);\n  }\n}\n\n// set as enumerable, writable and configurable\ndocument[REGISTER_ELEMENT] = function registerElement(type, options) {\n  upperType = type.toUpperCase();\n  if (!setListener) {\n    // only first time document.registerElement is used\n    // we need to set this listener\n    // setting it by default might slow down for no reason\n    setListener = true;\n    if (MutationObserver) {\n      observer = (function(attached, detached){\n        function checkEmAll(list, callback) {\n          for (var i = 0, length = list.length; i < length; callback(list[i++])){}\n        }\n        return new MutationObserver(function (records) {\n          for (var\n            current, node,\n            i = 0, length = records.length; i < length; i++\n          ) {\n            current = records[i];\n            if (current.type === 'childList') {\n              checkEmAll(current.addedNodes, attached);\n              checkEmAll(current.removedNodes, detached);\n            } else {\n              node = current.target;\n              if (node.attributeChangedCallback &&\n                  current.attributeName !== 'style') {\n                node.attributeChangedCallback(\n                  current.attributeName,\n                  current.oldValue,\n                  node.getAttribute(current.attributeName)\n                );\n              }\n            }\n          }\n        });\n      }(executeAction('attached'), executeAction('detached')));\n      observer.observe(\n        document,\n        {\n          childList: true,\n          subtree: true\n        }\n      );\n    } else {\n      document.addEventListener('DOMNodeInserted', onDOMNode('attached'));\n      document.addEventListener('DOMNodeRemoved', onDOMNode('detached'));\n    }\n\n    document.addEventListener('readystatechange', function (e) {\n      loopAndVerify(\n        document.querySelectorAll(query),\n        'attached'\n      );\n    });\n\n    document.createElement = function (localName, typeExtension) {\n      var\n        node = createElement.apply(document, arguments),\n        i = indexOf.call(\n          types,\n          (typeExtension ? PREFIX_IS : PREFIX_TAG) +\n          (typeExtension || localName).toUpperCase()\n        ),\n        setup = -1 < i\n      ;\n      if (typeExtension) {\n        node.setAttribute('is', typeExtension = typeExtension.toLowerCase());\n        if (setup) {\n          setup = isInQSA(localName.toUpperCase(), typeExtension);\n        }\n      }\n      if (setup) patch(node, protos[i]);\n      return node;\n    };\n\n    HTMLElementPrototype.cloneNode = function (deep) {\n      var\n        node = cloneNode.call(this, !!deep),\n        i = getTypeIndex(node)\n      ;\n      if (-1 < i) patch(node, protos[i]);\n      if (deep) loopAndSetup(node.querySelectorAll(query));\n      return node;\n    };\n  }\n\n  if (-2 < (\n    indexOf.call(types, PREFIX_IS + upperType) +\n    indexOf.call(types, PREFIX_TAG + upperType)\n  )) {\n    throw new Error('A ' + type + ' type is already registered');\n  }\n\n  if (!validName.test(upperType) || -1 < indexOf.call(invalidNames, upperType)) {\n    throw new Error('The type ' + type + ' is invalid');\n  }\n\n  var\n    constructor = function () {\n      return document.createElement(nodeName, extending && upperType);\n    },\n    opt = options || OP,\n    extending = hOP.call(opt, EXTENDS),\n    nodeName = extending ? options[EXTENDS].toUpperCase() : upperType,\n    i = types.push((extending ? PREFIX_IS : PREFIX_TAG) + upperType) - 1,\n    upperType\n  ;\n\n  query = query.concat(\n    query.length ? ',' : '',\n    extending ? nodeName + '[is=\"' + type.toLowerCase() + '\"]' : nodeName\n  );\n\n  constructor.prototype = (\n    protos[i] = hOP.call(opt, 'prototype') ?\n      opt.prototype :\n      create(HTMLElementPrototype)\n  );\n\n  loopAndVerify(\n    document.querySelectorAll(query),\n    'attached'\n  );\n\n  return constructor;\n};\n\n\n}(window, document, Object, 'registerElement'));"," /*!\n  * https://github.com/paulmillr/es6-shim\n  * @license es6-shim Copyright 2013-2014 by Paul Miller (http://paulmillr.com)\n  *   and contributors,  MIT License\n  * es6-shim: v0.23.0\n  * see https://github.com/paulmillr/es6-shim/blob/0.22.2/LICENSE\n  * Details and documentation:\n  * https://github.com/paulmillr/es6-shim/\n  */\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n  /*global define, module, exports */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory();\n  }\n}(this, function () {\n  'use strict';\n\n  var isCallableWithoutNew = function (func) {\n    try {\n      func();\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n\n  var supportsSubclassing = function (C, f) {\n    /* jshint proto:true */\n    try {\n      var Sub = function () { C.apply(this, arguments); };\n      if (!Sub.__proto__) { return false; /* skip test on IE < 11 */ }\n      Object.setPrototypeOf(Sub, C);\n      Sub.prototype = Object.create(C.prototype, {\n        constructor: { value: C }\n      });\n      return f(Sub);\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var arePropertyDescriptorsSupported = function () {\n    try {\n      Object.defineProperty({}, 'x', {});\n      return true;\n    } catch (e) { /* this is IE 8. */\n      return false;\n    }\n  };\n\n  var startsWithRejectsRegex = function () {\n    var rejectsRegex = false;\n    if (String.prototype.startsWith) {\n      try {\n        '/a/'.startsWith(/a/);\n      } catch (e) { /* this is spec compliant */\n        rejectsRegex = true;\n      }\n    }\n    return rejectsRegex;\n  };\n\n  /*jshint evil: true */\n  var getGlobal = new Function('return this;');\n  /*jshint evil: false */\n\n  var globals = getGlobal();\n  var global_isFinite = globals.isFinite;\n  var supportsDescriptors = !!Object.defineProperty && arePropertyDescriptorsSupported();\n  var startsWithIsCompliant = startsWithRejectsRegex();\n  var _indexOf = Function.call.bind(String.prototype.indexOf);\n  var _toString = Function.call.bind(Object.prototype.toString);\n  var _hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n  var ArrayIterator; // make our implementation private\n  var noop = function () {};\n\n  var Symbol = globals.Symbol || {};\n  var symbolSpecies = Symbol.species || '@@species';\n  var Type = {\n    string: function (x) { return _toString(x) === '[object String]'; },\n    regex: function (x) { return _toString(x) === '[object RegExp]'; },\n    symbol: function (x) {\n      /*jshint notypeof: true */\n      return typeof globals.Symbol === 'function' && typeof x === 'symbol';\n      /*jshint notypeof: false */\n    }\n  };\n\n  var defineProperty = function (object, name, value, force) {\n    if (!force && name in object) { return; }\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  var Value = {\n    getter: function (object, name, getter) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        get: getter\n      });\n    },\n    proxy: function (originalObject, key, targetObject) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      var originalDescriptor = Object.getOwnPropertyDescriptor(originalObject, key);\n      Object.defineProperty(targetObject, key, {\n        configurable: originalDescriptor.configurable,\n        enumerable: originalDescriptor.enumerable,\n        get: function getKey() { return originalObject[key]; },\n        set: function setKey(value) { originalObject[key] = value; }\n      });\n    },\n    redefine: function (object, property, newValue) {\n      if (supportsDescriptors) {\n        var descriptor = Object.getOwnPropertyDescriptor(object, property);\n        descriptor.value = newValue;\n        Object.defineProperty(object, property, descriptor);\n      } else {\n        object[property] = newValue;\n      }\n    }\n  };\n\n  // Define configurable, writable and non-enumerable props\n  // if they don’t exist.\n  var defineProperties = function (object, map) {\n    Object.keys(map).forEach(function (name) {\n      var method = map[name];\n      defineProperty(object, name, method, false);\n    });\n  };\n\n  // Simple shim for Object.create on ES3 browsers\n  // (unlike real shim, no attempt to support `prototype === null`)\n  var create = Object.create || function (prototype, properties) {\n    function Prototype() {}\n    Prototype.prototype = prototype;\n    var object = new Prototype();\n    if (typeof properties !== 'undefined') {\n      defineProperties(object, properties);\n    }\n    return object;\n  };\n\n  // This is a private name in the es6 spec, equal to '[Symbol.iterator]'\n  // we're going to use an arbitrary _-prefixed name to make our shims\n  // work properly with each other, even though we don't have full Iterator\n  // support.  That is, `Array.from(map.keys())` will work, but we don't\n  // pretend to export a \"real\" Iterator interface.\n  var $iterator$ = Type.symbol(Symbol.iterator) ? Symbol.iterator : '_es6-shim iterator_';\n  // Firefox ships a partial implementation using the name @@iterator.\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=907077#c14\n  // So use that name if we detect it.\n  if (globals.Set && typeof new globals.Set()['@@iterator'] === 'function') {\n    $iterator$ = '@@iterator';\n  }\n  var addIterator = function (prototype, impl) {\n    if (!impl) { impl = function iterator() { return this; }; }\n    var o = {};\n    o[$iterator$] = impl;\n    defineProperties(prototype, o);\n    if (!prototype[$iterator$] && Type.symbol($iterator$)) {\n      // implementations are buggy when $iterator$ is a Symbol\n      prototype[$iterator$] = impl;\n    }\n  };\n\n  // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n  // can be replaced with require('is-arguments') if we ever use a build process instead\n  var isArguments = function isArguments(value) {\n    var str = _toString(value);\n    var result = str === '[object Arguments]';\n    if (!result) {\n      result = str !== '[object Array]' &&\n        value !== null &&\n        typeof value === 'object' &&\n        typeof value.length === 'number' &&\n        value.length >= 0 &&\n        _toString(value.callee) === '[object Function]';\n    }\n    return result;\n  };\n\n  var ES = {\n    RequireObjectCoercible: function (x, optMessage) {\n      /* jshint eqnull:true */\n      if (x == null) {\n        throw new TypeError(optMessage || 'Cannot call method on ' + x);\n      }\n    },\n\n    TypeIsObject: function (x) {\n      /* jshint eqnull:true */\n      // this is expensive when it returns false; use this function\n      // when you expect it to return true in the common case.\n      return x != null && Object(x) === x;\n    },\n\n    ToObject: function (o, optMessage) {\n      ES.RequireObjectCoercible(o, optMessage);\n      return Object(o);\n    },\n\n    IsCallable: function (x) {\n      // some versions of IE say that typeof /abc/ === 'function'\n      return typeof x === 'function' && _toString(x) === '[object Function]';\n    },\n\n    ToInt32: function (x) {\n      return ES.ToNumber(x) >> 0;\n    },\n\n    ToUint32: function (x) {\n      return ES.ToNumber(x) >>> 0;\n    },\n\n    ToNumber: function (value) {\n      if (_toString(value) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return +value;\n    },\n\n    ToInteger: function (value) {\n      var number = ES.ToNumber(value);\n      if (Number.isNaN(number)) { return 0; }\n      if (number === 0 || !Number.isFinite(number)) { return number; }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n    },\n\n    ToLength: function (value) {\n      var len = ES.ToInteger(value);\n      if (len <= 0) { return 0; } // includes converting -0 to +0\n      if (len > Number.MAX_SAFE_INTEGER) { return Number.MAX_SAFE_INTEGER; }\n      return len;\n    },\n\n    SameValue: function (a, b) {\n      if (a === b) {\n        // 0 === -0, but they are not identical.\n        if (a === 0) { return 1 / a === 1 / b; }\n        return true;\n      }\n      return Number.isNaN(a) && Number.isNaN(b);\n    },\n\n    SameValueZero: function (a, b) {\n      // same as SameValue except for SameValueZero(+0, -0) == true\n      return (a === b) || (Number.isNaN(a) && Number.isNaN(b));\n    },\n\n    IsIterable: function (o) {\n      return ES.TypeIsObject(o) && (typeof o[$iterator$] !== 'undefined' || isArguments(o));\n    },\n\n    GetIterator: function (o) {\n      if (isArguments(o)) {\n        // special case support for `arguments`\n        return new ArrayIterator(o, 'value');\n      }\n      var itFn = o[$iterator$];\n      if (!ES.IsCallable(itFn)) {\n        throw new TypeError('value is not an iterable');\n      }\n      var it = itFn.call(o);\n      if (!ES.TypeIsObject(it)) {\n        throw new TypeError('bad iterator');\n      }\n      return it;\n    },\n\n    IteratorNext: function (it) {\n      var result = arguments.length > 1 ? it.next(arguments[1]) : it.next();\n      if (!ES.TypeIsObject(result)) {\n        throw new TypeError('bad iterator');\n      }\n      return result;\n    },\n\n    Construct: function (C, args) {\n      // CreateFromConstructor\n      var obj;\n      if (ES.IsCallable(C[symbolSpecies])) {\n        obj = C[symbolSpecies]();\n      } else {\n        // OrdinaryCreateFromConstructor\n        obj = create(C.prototype || null);\n      }\n      // Mark that we've used the es6 construct path\n      // (see emulateES6construct)\n      defineProperties(obj, { _es6construct: true });\n      // Call the constructor.\n      var result = C.apply(obj, args);\n      return ES.TypeIsObject(result) ? result : obj;\n    }\n  };\n\n  var emulateES6construct = function (o) {\n    if (!ES.TypeIsObject(o)) { throw new TypeError('bad object'); }\n    // es5 approximation to es6 subclass semantics: in es6, 'new Foo'\n    // would invoke Foo.@@species to allocation/initialize the new object.\n    // In es5 we just get the plain object.  So if we detect an\n    // uninitialized object, invoke o.constructor.@@species\n    if (!o._es6construct) {\n      if (o.constructor && ES.IsCallable(o.constructor[symbolSpecies])) {\n        o = o.constructor[symbolSpecies](o);\n      }\n      defineProperties(o, { _es6construct: true });\n    }\n    return o;\n  };\n\n\n  var numberConversion = (function () {\n    // from https://github.com/inexorabletash/polyfill/blob/master/typedarray.js#L176-L266\n    // with permission and license, per https://twitter.com/inexorabletash/status/372206509540659200\n\n    function roundToEven(n) {\n      var w = Math.floor(n), f = n - w;\n      if (f < 0.5) {\n        return w;\n      }\n      if (f > 0.5) {\n        return w + 1;\n      }\n      return w % 2 ? w + 1 : w;\n    }\n\n    function packIEEE754(v, ebits, fbits) {\n      var bias = (1 << (ebits - 1)) - 1,\n        s, e, f,\n        i, bits, str, bytes;\n\n      // Compute sign, exponent, fraction\n      if (v !== v) {\n        // NaN\n        // http://dev.w3.org/2006/webapi/WebIDL/#es-type-mapping\n        e = (1 << ebits) - 1;\n        f = Math.pow(2, fbits - 1);\n        s = 0;\n      } else if (v === Infinity || v === -Infinity) {\n        e = (1 << ebits) - 1;\n        f = 0;\n        s = (v < 0) ? 1 : 0;\n      } else if (v === 0) {\n        e = 0;\n        f = 0;\n        s = (1 / v === -Infinity) ? 1 : 0;\n      } else {\n        s = v < 0;\n        v = Math.abs(v);\n\n        if (v >= Math.pow(2, 1 - bias)) {\n          e = Math.min(Math.floor(Math.log(v) / Math.LN2), 1023);\n          f = roundToEven(v / Math.pow(2, e) * Math.pow(2, fbits));\n          if (f / Math.pow(2, fbits) >= 2) {\n            e = e + 1;\n            f = 1;\n          }\n          if (e > bias) {\n            // Overflow\n            e = (1 << ebits) - 1;\n            f = 0;\n          } else {\n            // Normal\n            e = e + bias;\n            f = f - Math.pow(2, fbits);\n          }\n        } else {\n          // Subnormal\n          e = 0;\n          f = roundToEven(v / Math.pow(2, 1 - bias - fbits));\n        }\n      }\n\n      // Pack sign, exponent, fraction\n      bits = [];\n      for (i = fbits; i; i -= 1) {\n        bits.push(f % 2 ? 1 : 0);\n        f = Math.floor(f / 2);\n      }\n      for (i = ebits; i; i -= 1) {\n        bits.push(e % 2 ? 1 : 0);\n        e = Math.floor(e / 2);\n      }\n      bits.push(s ? 1 : 0);\n      bits.reverse();\n      str = bits.join('');\n\n      // Bits to bytes\n      bytes = [];\n      while (str.length) {\n        bytes.push(parseInt(str.slice(0, 8), 2));\n        str = str.slice(8);\n      }\n      return bytes;\n    }\n\n    function unpackIEEE754(bytes, ebits, fbits) {\n      // Bytes to bits\n      var bits = [], i, j, b, str,\n          bias, s, e, f;\n\n      for (i = bytes.length; i; i -= 1) {\n        b = bytes[i - 1];\n        for (j = 8; j; j -= 1) {\n          bits.push(b % 2 ? 1 : 0);\n          b = b >> 1;\n        }\n      }\n      bits.reverse();\n      str = bits.join('');\n\n      // Unpack sign, exponent, fraction\n      bias = (1 << (ebits - 1)) - 1;\n      s = parseInt(str.slice(0, 1), 2) ? -1 : 1;\n      e = parseInt(str.slice(1, 1 + ebits), 2);\n      f = parseInt(str.slice(1 + ebits), 2);\n\n      // Produce number\n      if (e === (1 << ebits) - 1) {\n        return f !== 0 ? NaN : s * Infinity;\n      } else if (e > 0) {\n        // Normalized\n        return s * Math.pow(2, e - bias) * (1 + f / Math.pow(2, fbits));\n      } else if (f !== 0) {\n        // Denormalized\n        return s * Math.pow(2, -(bias - 1)) * (f / Math.pow(2, fbits));\n      } else {\n        return s < 0 ? -0 : 0;\n      }\n    }\n\n    function unpackFloat64(b) { return unpackIEEE754(b, 11, 52); }\n    function packFloat64(v) { return packIEEE754(v, 11, 52); }\n    function unpackFloat32(b) { return unpackIEEE754(b, 8, 23); }\n    function packFloat32(v) { return packIEEE754(v, 8, 23); }\n\n    var conversions = {\n      toFloat32: function (num) { return unpackFloat32(packFloat32(num)); }\n    };\n    if (typeof Float32Array !== 'undefined') {\n      var float32array = new Float32Array(1);\n      conversions.toFloat32 = function (num) {\n        float32array[0] = num;\n        return float32array[0];\n      };\n    }\n    return conversions;\n  }());\n\n  defineProperties(String, {\n    fromCodePoint: function fromCodePoint(codePoints) {\n      var result = [];\n      var next;\n      for (var i = 0, length = arguments.length; i < length; i++) {\n        next = Number(arguments[i]);\n        if (!ES.SameValue(next, ES.ToInteger(next)) || next < 0 || next > 0x10FFFF) {\n          throw new RangeError('Invalid code point ' + next);\n        }\n\n        if (next < 0x10000) {\n          result.push(String.fromCharCode(next));\n        } else {\n          next -= 0x10000;\n          result.push(String.fromCharCode((next >> 10) + 0xD800));\n          result.push(String.fromCharCode((next % 0x400) + 0xDC00));\n        }\n      }\n      return result.join('');\n    },\n\n    raw: function raw(callSite) {\n      var cooked = ES.ToObject(callSite, 'bad callSite');\n      var rawValue = cooked.raw;\n      var rawString = ES.ToObject(rawValue, 'bad raw value');\n      var len = rawString.length;\n      var literalsegments = ES.ToLength(len);\n      if (literalsegments <= 0) {\n        return '';\n      }\n\n      var stringElements = [];\n      var nextIndex = 0;\n      var nextKey, next, nextSeg, nextSub;\n      while (nextIndex < literalsegments) {\n        nextKey = String(nextIndex);\n        next = rawString[nextKey];\n        nextSeg = String(next);\n        stringElements.push(nextSeg);\n        if (nextIndex + 1 >= literalsegments) {\n          break;\n        }\n        next = nextIndex + 1 < arguments.length ? arguments[nextIndex + 1] : '';\n        nextSub = String(next);\n        stringElements.push(nextSub);\n        nextIndex++;\n      }\n      return stringElements.join('');\n    }\n  });\n\n  // Firefox 31 reports this function's length as 0\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1062484\n  if (String.fromCodePoint.length !== 1) {\n    var originalFromCodePoint = Function.apply.bind(String.fromCodePoint);\n    defineProperty(String, 'fromCodePoint', function fromCodePoint(codePoints) { return originalFromCodePoint(this, arguments); }, true);\n  }\n\n  var StringShims = {\n    // Fast repeat, uses the `Exponentiation by squaring` algorithm.\n    // Perf: http://jsperf.com/string-repeat2/2\n    repeat: (function () {\n      var repeat = function (s, times) {\n        if (times < 1) { return ''; }\n        if (times % 2) { return repeat(s, times - 1) + s; }\n        var half = repeat(s, times / 2);\n        return half + half;\n      };\n\n      return function (times) {\n        ES.RequireObjectCoercible(this);\n        var thisStr = String(this);\n        times = ES.ToInteger(times);\n        if (times < 0 || times === Infinity) {\n          throw new RangeError('Invalid String#repeat value');\n        }\n        return repeat(thisStr, times);\n      };\n    }()),\n\n    startsWith: function (searchStr) {\n      ES.RequireObjectCoercible(this);\n      var thisStr = String(this);\n      if (Type.regex(searchStr)) {\n        throw new TypeError('Cannot call method \"startsWith\" with a regex');\n      }\n      searchStr = String(searchStr);\n      var startArg = arguments.length > 1 ? arguments[1] : void 0;\n      var start = Math.max(ES.ToInteger(startArg), 0);\n      return thisStr.slice(start, start + searchStr.length) === searchStr;\n    },\n\n    endsWith: function (searchStr) {\n      ES.RequireObjectCoercible(this);\n      var thisStr = String(this);\n      if (Type.regex(searchStr)) {\n        throw new TypeError('Cannot call method \"endsWith\" with a regex');\n      }\n      searchStr = String(searchStr);\n      var thisLen = thisStr.length;\n      var posArg = arguments.length > 1 ? arguments[1] : void 0;\n      var pos = typeof posArg === 'undefined' ? thisLen : ES.ToInteger(posArg);\n      var end = Math.min(Math.max(pos, 0), thisLen);\n      return thisStr.slice(end - searchStr.length, end) === searchStr;\n    },\n\n    includes: function includes(searchString) {\n      var position = arguments.length > 1 ? arguments[1] : void 0;\n      // Somehow this trick makes method 100% compat with the spec.\n      return _indexOf(this, searchString, position) !== -1;\n    },\n\n    codePointAt: function (pos) {\n      ES.RequireObjectCoercible(this);\n      var thisStr = String(this);\n      var position = ES.ToInteger(pos);\n      var length = thisStr.length;\n      if (position >= 0 && position < length) {\n        var first = thisStr.charCodeAt(position);\n        var isEnd = (position + 1 === length);\n        if (first < 0xD800 || first > 0xDBFF || isEnd) { return first; }\n        var second = thisStr.charCodeAt(position + 1);\n        if (second < 0xDC00 || second > 0xDFFF) { return first; }\n        return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n      }\n    }\n  };\n  defineProperties(String.prototype, StringShims);\n\n  var hasStringTrimBug = '\\u0085'.trim().length !== 1;\n  if (hasStringTrimBug) {\n    delete String.prototype.trim;\n    // whitespace from: http://es5.github.io/#x15.5.4.20\n    // implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\n    var ws = [\n      '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n      '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n      '\\u2029\\uFEFF'\n    ].join('');\n    var trimRegexp = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\n    defineProperties(String.prototype, {\n      trim: function () {\n        if (typeof this === 'undefined' || this === null) {\n          throw new TypeError(\"can't convert \" + this + ' to object');\n        }\n        return String(this).replace(trimRegexp, '');\n      }\n    });\n  }\n\n  // see https://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype-@@iterator\n  var StringIterator = function (s) {\n    ES.RequireObjectCoercible(s);\n    this._s = String(s);\n    this._i = 0;\n  };\n  StringIterator.prototype.next = function () {\n    var s = this._s, i = this._i;\n    if (typeof s === 'undefined' || i >= s.length) {\n      this._s = void 0;\n      return { value: void 0, done: true };\n    }\n    var first = s.charCodeAt(i), second, len;\n    if (first < 0xD800 || first > 0xDBFF || (i + 1) === s.length) {\n      len = 1;\n    } else {\n      second = s.charCodeAt(i + 1);\n      len = (second < 0xDC00 || second > 0xDFFF) ? 1 : 2;\n    }\n    this._i = i + len;\n    return { value: s.substr(i, len), done: false };\n  };\n  addIterator(StringIterator.prototype);\n  addIterator(String.prototype, function () {\n    return new StringIterator(this);\n  });\n\n  if (!startsWithIsCompliant) {\n    // Firefox has a noncompliant startsWith implementation\n    defineProperties(String.prototype, {\n      startsWith: StringShims.startsWith,\n      endsWith: StringShims.endsWith\n    });\n  }\n\n  var ArrayShims = {\n    from: function (iterable) {\n      var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n\n      var list = ES.ToObject(iterable, 'bad iterable');\n      if (typeof mapFn !== 'undefined' && !ES.IsCallable(mapFn)) {\n        throw new TypeError('Array.from: when provided, the second argument must be a function');\n      }\n\n      var hasThisArg = arguments.length > 2;\n      var thisArg = hasThisArg ? arguments[2] : void 0;\n\n      var usingIterator = ES.IsIterable(list);\n      // does the spec really mean that Arrays should use ArrayIterator?\n      // https://bugs.ecmascript.org/show_bug.cgi?id=2416\n      //if (Array.isArray(list)) { usingIterator=false; }\n\n      var length;\n      var result, i, value;\n      if (usingIterator) {\n        i = 0;\n        result = ES.IsCallable(this) ? Object(new this()) : [];\n        var it = usingIterator ? ES.GetIterator(list) : null;\n        var iterationValue;\n\n        do {\n          iterationValue = ES.IteratorNext(it);\n          if (!iterationValue.done) {\n            value = iterationValue.value;\n            if (mapFn) {\n              result[i] = hasThisArg ? mapFn.call(thisArg, value, i) : mapFn(value, i);\n            } else {\n              result[i] = value;\n            }\n            i += 1;\n          }\n        } while (!iterationValue.done);\n        length = i;\n      } else {\n        length = ES.ToLength(list.length);\n        result = ES.IsCallable(this) ? Object(new this(length)) : new Array(length);\n        for (i = 0; i < length; ++i) {\n          value = list[i];\n          if (mapFn) {\n            result[i] = hasThisArg ? mapFn.call(thisArg, value, i) : mapFn(value, i);\n          } else {\n            result[i] = value;\n          }\n        }\n      }\n\n      result.length = length;\n      return result;\n    },\n\n    of: function () {\n      return Array.from(arguments);\n    }\n  };\n  defineProperties(Array, ArrayShims);\n\n  var arrayFromSwallowsNegativeLengths = function () {\n    try {\n      return Array.from({ length: -1 }).length === 0;\n    } catch (e) {\n      return false;\n    }\n  };\n  // Fixes a Firefox bug in v32\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1063993\n  if (!arrayFromSwallowsNegativeLengths()) {\n    defineProperty(Array, 'from', ArrayShims.from, true);\n  }\n\n  // Our ArrayIterator is private; see\n  // https://github.com/paulmillr/es6-shim/issues/252\n  ArrayIterator = function (array, kind) {\n      this.i = 0;\n      this.array = array;\n      this.kind = kind;\n  };\n\n  defineProperties(ArrayIterator.prototype, {\n    next: function () {\n      var i = this.i, array = this.array;\n      if (!(this instanceof ArrayIterator)) {\n        throw new TypeError('Not an ArrayIterator');\n      }\n      if (typeof array !== 'undefined') {\n        var len = ES.ToLength(array.length);\n        for (; i < len; i++) {\n          var kind = this.kind;\n          var retval;\n          if (kind === 'key') {\n            retval = i;\n          } else if (kind === 'value') {\n            retval = array[i];\n          } else if (kind === 'entry') {\n            retval = [i, array[i]];\n          }\n          this.i = i + 1;\n          return { value: retval, done: false };\n        }\n      }\n      this.array = void 0;\n      return { value: void 0, done: true };\n    }\n  });\n  addIterator(ArrayIterator.prototype);\n\n  var ArrayPrototypeShims = {\n    copyWithin: function (target, start) {\n      var end = arguments[2]; // copyWithin.length must be 2\n      var o = ES.ToObject(this);\n      var len = ES.ToLength(o.length);\n      target = ES.ToInteger(target);\n      start = ES.ToInteger(start);\n      var to = target < 0 ? Math.max(len + target, 0) : Math.min(target, len);\n      var from = start < 0 ? Math.max(len + start, 0) : Math.min(start, len);\n      end = typeof end === 'undefined' ? len : ES.ToInteger(end);\n      var fin = end < 0 ? Math.max(len + end, 0) : Math.min(end, len);\n      var count = Math.min(fin - from, len - to);\n      var direction = 1;\n      if (from < to && to < (from + count)) {\n        direction = -1;\n        from += count - 1;\n        to += count - 1;\n      }\n      while (count > 0) {\n        if (_hasOwnProperty(o, from)) {\n          o[to] = o[from];\n        } else {\n          delete o[from];\n        }\n        from += direction;\n        to += direction;\n        count -= 1;\n      }\n      return o;\n    },\n\n    fill: function (value) {\n      var start = arguments.length > 1 ? arguments[1] : void 0;\n      var end = arguments.length > 2 ? arguments[2] : void 0;\n      var O = ES.ToObject(this);\n      var len = ES.ToLength(O.length);\n      start = ES.ToInteger(typeof start === 'undefined' ? 0 : start);\n      end = ES.ToInteger(typeof end === 'undefined' ? len : end);\n\n      var relativeStart = start < 0 ? Math.max(len + start, 0) : Math.min(start, len);\n      var relativeEnd = end < 0 ? len + end : end;\n\n      for (var i = relativeStart; i < len && i < relativeEnd; ++i) {\n        O[i] = value;\n      }\n      return O;\n    },\n\n    find: function find(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#find: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0, value; i < length; i++) {\n        value = list[i];\n        if (thisArg) {\n          if (predicate.call(thisArg, value, i, list)) { return value; }\n        } else if (predicate(value, i, list)) {\n          return value;\n        }\n      }\n    },\n\n    findIndex: function findIndex(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#findIndex: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0; i < length; i++) {\n        if (thisArg) {\n          if (predicate.call(thisArg, list[i], i, list)) { return i; }\n        } else if (predicate(list[i], i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n\n    keys: function () {\n      return new ArrayIterator(this, 'key');\n    },\n\n    values: function () {\n      return new ArrayIterator(this, 'value');\n    },\n\n    entries: function () {\n      return new ArrayIterator(this, 'entry');\n    }\n  };\n  // Safari 7.1 defines Array#keys and Array#entries natively,\n  // but the resulting ArrayIterator objects don't have a \"next\" method.\n  if (Array.prototype.keys && !ES.IsCallable([1].keys().next)) {\n    delete Array.prototype.keys;\n  }\n  if (Array.prototype.entries && !ES.IsCallable([1].entries().next)) {\n    delete Array.prototype.entries;\n  }\n\n  // Chrome 38 defines Array#keys and Array#entries, and Array#@@iterator, but not Array#values\n  if (Array.prototype.keys && Array.prototype.entries && !Array.prototype.values && Array.prototype[$iterator$]) {\n    defineProperties(Array.prototype, {\n      values: Array.prototype[$iterator$]\n    });\n    if (Type.symbol(Symbol.unscopables)) {\n      Array.prototype[Symbol.unscopables].values = true;\n    }\n  }\n  defineProperties(Array.prototype, ArrayPrototypeShims);\n\n  addIterator(Array.prototype, function () { return this.values(); });\n  // Chrome defines keys/values/entries on Array, but doesn't give us\n  // any way to identify its iterator.  So add our own shimmed field.\n  if (Object.getPrototypeOf) {\n    addIterator(Object.getPrototypeOf([].values()));\n  }\n\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  defineProperties(Number, {\n    MAX_SAFE_INTEGER: maxSafeInteger,\n    MIN_SAFE_INTEGER: -maxSafeInteger,\n    EPSILON: 2.220446049250313e-16,\n\n    parseInt: globals.parseInt,\n    parseFloat: globals.parseFloat,\n\n    isFinite: function (value) {\n      return typeof value === 'number' && global_isFinite(value);\n    },\n\n    isInteger: function (value) {\n      return Number.isFinite(value) && ES.ToInteger(value) === value;\n    },\n\n    isSafeInteger: function (value) {\n      return Number.isInteger(value) && Math.abs(value) <= Number.MAX_SAFE_INTEGER;\n    },\n\n    isNaN: function (value) {\n      // NaN !== NaN, but they are identical.\n      // NaNs are the only non-reflexive value, i.e., if x !== x,\n      // then x is NaN.\n      // isNaN is broken: it converts its argument to number, so\n      // isNaN('foo') => true\n      return value !== value;\n    }\n  });\n\n  // Work around bugs in Array#find and Array#findIndex -- early\n  // implementations skipped holes in sparse arrays. (Note that the\n  // implementations of find/findIndex indirectly use shimmed\n  // methods of Number, so this test has to happen down here.)\n  /*jshint elision: true */\n  if (![, 1].find(function (item, idx) { return idx === 0; })) {\n    defineProperty(Array.prototype, 'find', ArrayPrototypeShims.find, true);\n  }\n  if ([, 1].findIndex(function (item, idx) { return idx === 0; }) !== 0) {\n    defineProperty(Array.prototype, 'findIndex', ArrayPrototypeShims.findIndex, true);\n  }\n  /*jshint elision: false */\n\n  if (supportsDescriptors) {\n    defineProperties(Object, {\n      // 19.1.3.1\n      assign: function (target, source) {\n        if (!ES.TypeIsObject(target)) {\n          throw new TypeError('target must be an object');\n        }\n        return Array.prototype.reduce.call(arguments, function (target, source) {\n          return Object.keys(Object(source)).reduce(function (target, key) {\n            target[key] = source[key];\n            return target;\n          }, target);\n        });\n      },\n\n      is: function (a, b) {\n        return ES.SameValue(a, b);\n      },\n\n      // 19.1.3.9\n      // shim from https://gist.github.com/WebReflection/5593554\n      setPrototypeOf: (function (Object, magic) {\n        var set;\n\n        var checkArgs = function (O, proto) {\n          if (!ES.TypeIsObject(O)) {\n            throw new TypeError('cannot set prototype on a non-object');\n          }\n          if (!(proto === null || ES.TypeIsObject(proto))) {\n            throw new TypeError('can only set prototype to an object or null' + proto);\n          }\n        };\n\n        var setPrototypeOf = function (O, proto) {\n          checkArgs(O, proto);\n          set.call(O, proto);\n          return O;\n        };\n\n        try {\n          // this works already in Firefox and Safari\n          set = Object.getOwnPropertyDescriptor(Object.prototype, magic).set;\n          set.call({}, null);\n        } catch (e) {\n          if (Object.prototype !== {}[magic]) {\n            // IE < 11 cannot be shimmed\n            return;\n          }\n          // probably Chrome or some old Mobile stock browser\n          set = function (proto) {\n            this[magic] = proto;\n          };\n          // please note that this will **not** work\n          // in those browsers that do not inherit\n          // __proto__ by mistake from Object.prototype\n          // in these cases we should probably throw an error\n          // or at least be informed about the issue\n          setPrototypeOf.polyfill = setPrototypeOf(\n            setPrototypeOf({}, null),\n            Object.prototype\n          ) instanceof Object;\n          // setPrototypeOf.polyfill === true means it works as meant\n          // setPrototypeOf.polyfill === false means it's not 100% reliable\n          // setPrototypeOf.polyfill === undefined\n          // or\n          // setPrototypeOf.polyfill ==  null means it's not a polyfill\n          // which means it works as expected\n          // we can even delete Object.prototype.__proto__;\n        }\n        return setPrototypeOf;\n      }(Object, '__proto__'))\n    });\n  }\n\n  // Workaround bug in Opera 12 where setPrototypeOf(x, null) doesn't work,\n  // but Object.create(null) does.\n  if (Object.setPrototypeOf && Object.getPrototypeOf &&\n      Object.getPrototypeOf(Object.setPrototypeOf({}, null)) !== null &&\n      Object.getPrototypeOf(Object.create(null)) === null) {\n    (function () {\n      var FAKENULL = Object.create(null);\n      var gpo = Object.getPrototypeOf, spo = Object.setPrototypeOf;\n      Object.getPrototypeOf = function (o) {\n        var result = gpo(o);\n        return result === FAKENULL ? null : result;\n      };\n      Object.setPrototypeOf = function (o, p) {\n        if (p === null) { p = FAKENULL; }\n        return spo(o, p);\n      };\n      Object.setPrototypeOf.polyfill = false;\n    }());\n  }\n\n  try {\n    Object.keys('foo');\n  } catch (e) {\n    var originalObjectKeys = Object.keys;\n    Object.keys = function (obj) {\n      return originalObjectKeys(ES.ToObject(obj));\n    };\n  }\n\n  if (!RegExp.prototype.flags && supportsDescriptors) {\n    var regExpFlagsGetter = function flags() {\n      if (!ES.TypeIsObject(this)) {\n        throw new TypeError('Method called on incompatible type: must be an object.');\n      }\n      var result = '';\n      if (this.global) {\n        result += 'g';\n      }\n      if (this.ignoreCase) {\n        result += 'i';\n      }\n      if (this.multiline) {\n        result += 'm';\n      }\n      if (this.unicode) {\n        result += 'u';\n      }\n      if (this.sticky) {\n        result += 'y';\n      }\n      return result;\n    };\n\n    Value.getter(RegExp.prototype, 'flags', regExpFlagsGetter);\n  }\n\n  var regExpSupportsFlagsWithRegex = (function () {\n    try {\n      return String(new RegExp(/a/g, 'i')) === '/a/i';\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  if (!regExpSupportsFlagsWithRegex && supportsDescriptors) {\n    var OrigRegExp = RegExp;\n    var RegExpShim = function RegExp(pattern, flags) {\n      if (Type.regex(pattern) && Type.string(flags)) {\n        return new RegExp(pattern.source, flags);\n      }\n      return new OrigRegExp(pattern, flags);\n    };\n    defineProperty(RegExpShim, 'toString', OrigRegExp.toString.bind(OrigRegExp), true);\n    if (Object.setPrototypeOf) {\n      // sets up proper prototype chain where possible\n      Object.setPrototypeOf(OrigRegExp, RegExpShim);\n    }\n    Object.getOwnPropertyNames(OrigRegExp).forEach(function (key) {\n      if (key === '$input') { return; } // Chrome < v39 & Opera < 26 have a nonstandard \"$input\" property\n      if (key in noop) { return; }\n      Value.proxy(OrigRegExp, key, RegExpShim);\n    });\n    RegExpShim.prototype = OrigRegExp.prototype;\n    Value.redefine(OrigRegExp.prototype, 'constructor', RegExpShim);\n    /*globals RegExp: true */\n    RegExp = RegExpShim;\n    Value.redefine(globals, 'RegExp', RegExpShim);\n    /*globals RegExp: false */\n  }\n\n  var MathShims = {\n    acosh: function (value) {\n      var x = Number(value);\n      if (Number.isNaN(x) || value < 1) { return NaN; }\n      if (x === 1) { return 0; }\n      if (x === Infinity) { return x; }\n      return Math.log(x / Math.E + Math.sqrt(x + 1) * Math.sqrt(x - 1) / Math.E) + 1;\n    },\n\n    asinh: function (value) {\n      value = Number(value);\n      if (value === 0 || !global_isFinite(value)) {\n        return value;\n      }\n      return value < 0 ? -Math.asinh(-value) : Math.log(value + Math.sqrt(value * value + 1));\n    },\n\n    atanh: function (value) {\n      value = Number(value);\n      if (Number.isNaN(value) || value < -1 || value > 1) {\n        return NaN;\n      }\n      if (value === -1) { return -Infinity; }\n      if (value === 1) { return Infinity; }\n      if (value === 0) { return value; }\n      return 0.5 * Math.log((1 + value) / (1 - value));\n    },\n\n    cbrt: function (value) {\n      value = Number(value);\n      if (value === 0) { return value; }\n      var negate = value < 0, result;\n      if (negate) { value = -value; }\n      result = Math.pow(value, 1 / 3);\n      return negate ? -result : result;\n    },\n\n    clz32: function (value) {\n      // See https://bugs.ecmascript.org/show_bug.cgi?id=2465\n      value = Number(value);\n      var number = ES.ToUint32(value);\n      if (number === 0) {\n        return 32;\n      }\n      return 32 - (number).toString(2).length;\n    },\n\n    cosh: function (value) {\n      value = Number(value);\n      if (value === 0) { return 1; } // +0 or -0\n      if (Number.isNaN(value)) { return NaN; }\n      if (!global_isFinite(value)) { return Infinity; }\n      if (value < 0) { value = -value; }\n      if (value > 21) { return Math.exp(value) / 2; }\n      return (Math.exp(value) + Math.exp(-value)) / 2;\n    },\n\n    expm1: function (value) {\n      var x = Number(value);\n      if (x === -Infinity) { return -1; }\n      if (!global_isFinite(x) || value === 0) { return x; }\n      if (Math.abs(x) > 0.5) {\n        return Math.exp(x) - 1;\n      }\n      // A more precise approximation using Taylor series expansion\n      // from https://github.com/paulmillr/es6-shim/issues/314#issuecomment-70293986\n      var t = x;\n      var sum = 0;\n      var n = 1;\n      while (sum + t !== sum) {\n        sum += t;\n        n += 1;\n        t *= x / n;\n      }\n      return sum;\n    },\n\n    hypot: function (x, y) {\n      var anyNaN = false;\n      var allZero = true;\n      var anyInfinity = false;\n      var numbers = [];\n      Array.prototype.every.call(arguments, function (arg) {\n        var num = Number(arg);\n        if (Number.isNaN(num)) {\n          anyNaN = true;\n        } else if (num === Infinity || num === -Infinity) {\n          anyInfinity = true;\n        } else if (num !== 0) {\n          allZero = false;\n        }\n        if (anyInfinity) {\n          return false;\n        } else if (!anyNaN) {\n          numbers.push(Math.abs(num));\n        }\n        return true;\n      });\n      if (anyInfinity) { return Infinity; }\n      if (anyNaN) { return NaN; }\n      if (allZero) { return 0; }\n\n      numbers.sort(function (a, b) { return b - a; });\n      var largest = numbers[0];\n      var divided = numbers.map(function (number) { return number / largest; });\n      var sum = divided.reduce(function (sum, number) { return sum + (number * number); }, 0);\n      return largest * Math.sqrt(sum);\n    },\n\n    log2: function (value) {\n      return Math.log(value) * Math.LOG2E;\n    },\n\n    log10: function (value) {\n      return Math.log(value) * Math.LOG10E;\n    },\n\n    log1p: function (value) {\n      var x = Number(value);\n      if (x < -1 || Number.isNaN(x)) { return NaN; }\n      if (x === 0 || x === Infinity) { return x; }\n      if (x === -1) { return -Infinity; }\n\n      return (1 + x) - 1 === 0 ? x : x * (Math.log(1 + x) / ((1 + x) - 1));\n    },\n\n    sign: function (value) {\n      var number = +value;\n      if (number === 0) { return number; }\n      if (Number.isNaN(number)) { return number; }\n      return number < 0 ? -1 : 1;\n    },\n\n    sinh: function (value) {\n      var x = Number(value);\n      if (!global_isFinite(value) || value === 0) { return value; }\n\n      if (Math.abs(x) < 1) {\n        return (Math.expm1(x) - Math.expm1(-x)) / 2;\n      }\n      return (Math.exp(x - 1) - Math.exp(-x - 1)) * Math.E / 2;\n    },\n\n    tanh: function (value) {\n      var x = Number(value);\n      if (Number.isNaN(value) || x === 0) { return x; }\n      if (x === Infinity) { return 1; }\n      if (x === -Infinity) { return -1; }\n      var a = Math.expm1(x);\n      var b = Math.expm1(-x);\n      if (a === Infinity) { return 1; }\n      if (b === Infinity) { return -1; }\n      return (a - b) / (Math.exp(x) + Math.exp(-x));\n    },\n\n    trunc: function (value) {\n      var number = Number(value);\n      return number < 0 ? -Math.floor(-number) : Math.floor(number);\n    },\n\n    imul: function (x, y) {\n      // taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n      x = ES.ToUint32(x);\n      y = ES.ToUint32(y);\n      var ah = (x >>> 16) & 0xffff;\n      var al = x & 0xffff;\n      var bh = (y >>> 16) & 0xffff;\n      var bl = y & 0xffff;\n      // the shift by 0 fixes the sign on the high part\n      // the final |0 converts the unsigned value into a signed value\n      return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0);\n    },\n\n    fround: function (x) {\n      if (x === 0 || x === Infinity || x === -Infinity || Number.isNaN(x)) {\n        return x;\n      }\n      var num = Number(x);\n      return numberConversion.toFloat32(num);\n    }\n  };\n  defineProperties(Math, MathShims);\n  // Chrome 40 has an imprecise Math.tanh with very small numbers\n  defineProperty(Math, 'tanh', MathShims.tanh, Math.tanh(-2e-17) !== -2e-17);\n  // Chrome 40 loses Math.acosh precision with high numbers\n  defineProperty(Math, 'acosh', MathShims.acosh, Math.acosh(Number.MAX_VALUE) === Infinity);\n\n  var roundHandlesBoundaryConditions = Math.round(0.5 - Number.EPSILON / 4) === 0 && Math.round(-0.5 + Number.EPSILON / 3.99) === 1;\n  var origMathRound = Math.round;\n  defineProperty(Math, 'round', function round(x) {\n    if (-0.5 <= x && x < 0.5 && x !== 0) {\n      return Math.sign(x * 0);\n    }\n    return origMathRound(x);\n  }, !roundHandlesBoundaryConditions);\n\n  if (Math.imul(0xffffffff, 5) !== -5) {\n    // Safari 6.1, at least, reports \"0\" for this value\n    Math.imul = MathShims.imul;\n  }\n\n  // Promises\n  // Simplest possible implementation; use a 3rd-party library if you\n  // want the best possible speed and/or long stack traces.\n  var PromiseShim = (function () {\n\n    var Promise, Promise$prototype;\n\n    ES.IsPromise = function (promise) {\n      if (!ES.TypeIsObject(promise)) {\n        return false;\n      }\n      if (!promise._promiseConstructor) {\n        // _promiseConstructor is a bit more unique than _status, so we'll\n        // check that instead of the [[PromiseStatus]] internal field.\n        return false;\n      }\n      if (typeof promise._status === 'undefined') {\n        return false; // uninitialized\n      }\n      return true;\n    };\n\n    // \"PromiseCapability\" in the spec is what most promise implementations\n    // call a \"deferred\".\n    var PromiseCapability = function (C) {\n      if (!ES.IsCallable(C)) {\n        throw new TypeError('bad promise constructor');\n      }\n      var capability = this;\n      var resolver = function (resolve, reject) {\n        capability.resolve = resolve;\n        capability.reject = reject;\n      };\n      capability.promise = ES.Construct(C, [resolver]);\n      // see https://bugs.ecmascript.org/show_bug.cgi?id=2478\n      if (!capability.promise._es6construct) {\n        throw new TypeError('bad promise constructor');\n      }\n      if (!(ES.IsCallable(capability.resolve) && ES.IsCallable(capability.reject))) {\n        throw new TypeError('bad promise constructor');\n      }\n    };\n\n    // find an appropriate setImmediate-alike\n    var setTimeout = globals.setTimeout;\n    var makeZeroTimeout;\n    /*global window */\n    if (typeof window !== 'undefined' && ES.IsCallable(window.postMessage)) {\n      makeZeroTimeout = function () {\n        // from http://dbaron.org/log/20100309-faster-timeouts\n        var timeouts = [];\n        var messageName = 'zero-timeout-message';\n        var setZeroTimeout = function (fn) {\n          timeouts.push(fn);\n          window.postMessage(messageName, '*');\n        };\n        var handleMessage = function (event) {\n          if (event.source === window && event.data === messageName) {\n            event.stopPropagation();\n            if (timeouts.length === 0) { return; }\n            var fn = timeouts.shift();\n            fn();\n          }\n        };\n        window.addEventListener('message', handleMessage, true);\n        return setZeroTimeout;\n      };\n    }\n    var makePromiseAsap = function () {\n      // An efficient task-scheduler based on a pre-existing Promise\n      // implementation, which we can use even if we override the\n      // global Promise below (in order to workaround bugs)\n      // https://github.com/Raynos/observ-hash/issues/2#issuecomment-35857671\n      var P = globals.Promise;\n      return P && P.resolve && function (task) {\n        return P.resolve().then(task);\n      };\n    };\n    /*global process */\n    var enqueue = ES.IsCallable(globals.setImmediate) ?\n      globals.setImmediate.bind(globals) :\n      typeof process === 'object' && process.nextTick ? process.nextTick :\n      makePromiseAsap() ||\n      (ES.IsCallable(makeZeroTimeout) ? makeZeroTimeout() :\n      function (task) { setTimeout(task, 0); }); // fallback\n\n    var updatePromiseFromPotentialThenable = function (x, capability) {\n      if (!ES.TypeIsObject(x)) {\n        return false;\n      }\n      var resolve = capability.resolve;\n      var reject = capability.reject;\n      try {\n        var then = x.then; // only one invocation of accessor\n        if (!ES.IsCallable(then)) { return false; }\n        then.call(x, resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n      return true;\n    };\n\n    var triggerPromiseReactions = function (reactions, x) {\n      reactions.forEach(function (reaction) {\n        enqueue(function () {\n          // PromiseReactionTask\n          var handler = reaction.handler;\n          var capability = reaction.capability;\n          var resolve = capability.resolve;\n          var reject = capability.reject;\n          try {\n            var result = handler(x);\n            if (result === capability.promise) {\n              throw new TypeError('self resolution');\n            }\n            var updateResult =\n              updatePromiseFromPotentialThenable(result, capability);\n            if (!updateResult) {\n              resolve(result);\n            }\n          } catch (e) {\n            reject(e);\n          }\n        });\n      });\n    };\n\n    var promiseResolutionHandler = function (promise, onFulfilled, onRejected) {\n      return function (x) {\n        if (x === promise) {\n          return onRejected(new TypeError('self resolution'));\n        }\n        var C = promise._promiseConstructor;\n        var capability = new PromiseCapability(C);\n        var updateResult = updatePromiseFromPotentialThenable(x, capability);\n        if (updateResult) {\n          return capability.promise.then(onFulfilled, onRejected);\n        } else {\n          return onFulfilled(x);\n        }\n      };\n    };\n\n    Promise = function (resolver) {\n      var promise = this;\n      promise = emulateES6construct(promise);\n      if (!promise._promiseConstructor) {\n        // we use _promiseConstructor as a stand-in for the internal\n        // [[PromiseStatus]] field; it's a little more unique.\n        throw new TypeError('bad promise');\n      }\n      if (typeof promise._status !== 'undefined') {\n        throw new TypeError('promise already initialized');\n      }\n      // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n      if (!ES.IsCallable(resolver)) {\n        throw new TypeError('not a valid resolver');\n      }\n      promise._status = 'unresolved';\n      promise._resolveReactions = [];\n      promise._rejectReactions = [];\n\n      var resolve = function (resolution) {\n        if (promise._status !== 'unresolved') { return; }\n        var reactions = promise._resolveReactions;\n        promise._result = resolution;\n        promise._resolveReactions = void 0;\n        promise._rejectReactions = void 0;\n        promise._status = 'has-resolution';\n        triggerPromiseReactions(reactions, resolution);\n      };\n      var reject = function (reason) {\n        if (promise._status !== 'unresolved') { return; }\n        var reactions = promise._rejectReactions;\n        promise._result = reason;\n        promise._resolveReactions = void 0;\n        promise._rejectReactions = void 0;\n        promise._status = 'has-rejection';\n        triggerPromiseReactions(reactions, reason);\n      };\n      try {\n        resolver(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n      return promise;\n    };\n    Promise$prototype = Promise.prototype;\n    var _promiseAllResolver = function (index, values, capability, remaining) {\n      var done = false;\n      return function (x) {\n        if (done) { return; } // protect against being called multiple times\n        done = true;\n        values[index] = x;\n        if ((--remaining.count) === 0) {\n          var resolve = capability.resolve;\n          resolve(values); // call w/ this===undefined\n        }\n      };\n    };\n\n    defineProperty(Promise, symbolSpecies, function (obj) {\n      var constructor = this;\n      // AllocatePromise\n      // The `obj` parameter is a hack we use for es5\n      // compatibility.\n      var prototype = constructor.prototype || Promise$prototype;\n      obj = obj || create(prototype);\n      defineProperties(obj, {\n        _status: void 0,\n        _result: void 0,\n        _resolveReactions: void 0,\n        _rejectReactions: void 0,\n        _promiseConstructor: void 0\n      });\n      obj._promiseConstructor = constructor;\n      return obj;\n    });\n    defineProperties(Promise, {\n      all: function all(iterable) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var resolve = capability.resolve;\n        var reject = capability.reject;\n        try {\n          if (!ES.IsIterable(iterable)) {\n            throw new TypeError('bad iterable');\n          }\n          var it = ES.GetIterator(iterable);\n          var values = [], remaining = { count: 1 };\n          for (var index = 0; ; index++) {\n            var next = ES.IteratorNext(it);\n            if (next.done) {\n              break;\n            }\n            var nextPromise = C.resolve(next.value);\n            var resolveElement = _promiseAllResolver(\n              index, values, capability, remaining\n            );\n            remaining.count++;\n            nextPromise.then(resolveElement, capability.reject);\n          }\n          if ((--remaining.count) === 0) {\n            resolve(values); // call w/ this===undefined\n          }\n        } catch (e) {\n          reject(e);\n        }\n        return capability.promise;\n      },\n\n      race: function race(iterable) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var resolve = capability.resolve;\n        var reject = capability.reject;\n        try {\n          if (!ES.IsIterable(iterable)) {\n            throw new TypeError('bad iterable');\n          }\n          var it = ES.GetIterator(iterable);\n          while (true) {\n            var next = ES.IteratorNext(it);\n            if (next.done) {\n              // If iterable has no items, resulting promise will never\n              // resolve; see:\n              // https://github.com/domenic/promises-unwrapping/issues/75\n              // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n              break;\n            }\n            var nextPromise = C.resolve(next.value);\n            nextPromise.then(resolve, reject);\n          }\n        } catch (e) {\n          reject(e);\n        }\n        return capability.promise;\n      },\n\n      reject: function reject(reason) {\n        var C = this;\n        var capability = new PromiseCapability(C);\n        var rejectPromise = capability.reject;\n        rejectPromise(reason); // call with this===undefined\n        return capability.promise;\n      },\n\n      resolve: function resolve(v) {\n        var C = this;\n        if (ES.IsPromise(v)) {\n          var constructor = v._promiseConstructor;\n          if (constructor === C) { return v; }\n        }\n        var capability = new PromiseCapability(C);\n        var resolvePromise = capability.resolve;\n        resolvePromise(v); // call with this===undefined\n        return capability.promise;\n      }\n    });\n\n    defineProperties(Promise$prototype, {\n      'catch': function (onRejected) {\n        return this.then(void 0, onRejected);\n      },\n\n      then: function then(onFulfilled, onRejected) {\n        var promise = this;\n        if (!ES.IsPromise(promise)) { throw new TypeError('not a promise'); }\n        // this.constructor not this._promiseConstructor; see\n        // https://bugs.ecmascript.org/show_bug.cgi?id=2513\n        var C = this.constructor;\n        var capability = new PromiseCapability(C);\n        if (!ES.IsCallable(onRejected)) {\n          onRejected = function (e) { throw e; };\n        }\n        if (!ES.IsCallable(onFulfilled)) {\n          onFulfilled = function (x) { return x; };\n        }\n        var resolutionHandler = promiseResolutionHandler(promise, onFulfilled, onRejected);\n        var resolveReaction = { capability: capability, handler: resolutionHandler };\n        var rejectReaction = { capability: capability, handler: onRejected };\n        switch (promise._status) {\n          case 'unresolved':\n            promise._resolveReactions.push(resolveReaction);\n            promise._rejectReactions.push(rejectReaction);\n            break;\n          case 'has-resolution':\n            triggerPromiseReactions([resolveReaction], promise._result);\n            break;\n          case 'has-rejection':\n            triggerPromiseReactions([rejectReaction], promise._result);\n            break;\n          default:\n            throw new TypeError('unexpected');\n        }\n        return capability.promise;\n      }\n    });\n\n    return Promise;\n  }());\n\n  // Chrome's native Promise has extra methods that it shouldn't have. Let's remove them.\n  if (globals.Promise) {\n    delete globals.Promise.accept;\n    delete globals.Promise.defer;\n    delete globals.Promise.prototype.chain;\n  }\n\n  // export the Promise constructor.\n  defineProperties(globals, { Promise: PromiseShim });\n  // In Chrome 33 (and thereabouts) Promise is defined, but the\n  // implementation is buggy in a number of ways.  Let's check subclassing\n  // support to see if we have a buggy implementation.\n  var promiseSupportsSubclassing = supportsSubclassing(globals.Promise, function (S) {\n    return S.resolve(42) instanceof S;\n  });\n  var promiseIgnoresNonFunctionThenCallbacks = (function () {\n    try {\n      globals.Promise.reject(42).then(null, 5).then(null, noop);\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }());\n  var promiseRequiresObjectContext = (function () {\n    /*global Promise */\n    try { Promise.call(3, noop); } catch (e) { return true; }\n    return false;\n  }());\n  if (!promiseSupportsSubclassing || !promiseIgnoresNonFunctionThenCallbacks || !promiseRequiresObjectContext) {\n    /*globals Promise: true */\n    Promise = PromiseShim;\n    /*globals Promise: false */\n    defineProperty(globals, 'Promise', PromiseShim, true);\n  }\n\n  // Map and Set require a true ES5 environment\n  // Their fast path also requires that the environment preserve\n  // property insertion order, which is not guaranteed by the spec.\n  var testOrder = function (a) {\n    var b = Object.keys(a.reduce(function (o, k) {\n      o[k] = true;\n      return o;\n    }, {}));\n    return a.join(':') === b.join(':');\n  };\n  var preservesInsertionOrder = testOrder(['z', 'a', 'bb']);\n  // some engines (eg, Chrome) only preserve insertion order for string keys\n  var preservesNumericInsertionOrder = testOrder(['z', 1, 'a', '3', 2]);\n\n  if (supportsDescriptors) {\n\n    var fastkey = function fastkey(key) {\n      if (!preservesInsertionOrder) {\n        return null;\n      }\n      var type = typeof key;\n      if (type === 'string') {\n        return '$' + key;\n      } else if (type === 'number') {\n        // note that -0 will get coerced to \"0\" when used as a property key\n        if (!preservesNumericInsertionOrder) {\n          return 'n' + key;\n        }\n        return key;\n      }\n      return null;\n    };\n\n    var emptyObject = function emptyObject() {\n      // accomodate some older not-quite-ES5 browsers\n      return Object.create ? Object.create(null) : {};\n    };\n\n    var collectionShims = {\n      Map: (function () {\n\n        var empty = {};\n\n        function MapEntry(key, value) {\n          this.key = key;\n          this.value = value;\n          this.next = null;\n          this.prev = null;\n        }\n\n        MapEntry.prototype.isRemoved = function () {\n          return this.key === empty;\n        };\n\n        function MapIterator(map, kind) {\n          this.head = map._head;\n          this.i = this.head;\n          this.kind = kind;\n        }\n\n        MapIterator.prototype = {\n          next: function () {\n            var i = this.i, kind = this.kind, head = this.head, result;\n            if (typeof this.i === 'undefined') {\n              return { value: void 0, done: true };\n            }\n            while (i.isRemoved() && i !== head) {\n              // back up off of removed entries\n              i = i.prev;\n            }\n            // advance to next unreturned element.\n            while (i.next !== head) {\n              i = i.next;\n              if (!i.isRemoved()) {\n                if (kind === 'key') {\n                  result = i.key;\n                } else if (kind === 'value') {\n                  result = i.value;\n                } else {\n                  result = [i.key, i.value];\n                }\n                this.i = i;\n                return { value: result, done: false };\n              }\n            }\n            // once the iterator is done, it is done forever.\n            this.i = void 0;\n            return { value: void 0, done: true };\n          }\n        };\n        addIterator(MapIterator.prototype);\n\n        function Map(iterable) {\n          var map = this;\n          if (!ES.TypeIsObject(map)) {\n            throw new TypeError('Map does not accept arguments when called as a function');\n          }\n          map = emulateES6construct(map);\n          if (!map._es6map) {\n            throw new TypeError('bad map');\n          }\n\n          var head = new MapEntry(null, null);\n          // circular doubly-linked list.\n          head.next = head.prev = head;\n\n          defineProperties(map, {\n            _head: head,\n            _storage: emptyObject(),\n            _size: 0\n          });\n\n          // Optionally initialize map from iterable\n          if (typeof iterable !== 'undefined' && iterable !== null) {\n            var it = ES.GetIterator(iterable);\n            var adder = map.set;\n            if (!ES.IsCallable(adder)) { throw new TypeError('bad map'); }\n            while (true) {\n              var next = ES.IteratorNext(it);\n              if (next.done) { break; }\n              var nextItem = next.value;\n              if (!ES.TypeIsObject(nextItem)) {\n                throw new TypeError('expected iterable of pairs');\n              }\n              adder.call(map, nextItem[0], nextItem[1]);\n            }\n          }\n          return map;\n        }\n        var Map$prototype = Map.prototype;\n        defineProperty(Map, symbolSpecies, function (obj) {\n          var constructor = this;\n          var prototype = constructor.prototype || Map$prototype;\n          obj = obj || create(prototype);\n          defineProperties(obj, { _es6map: true });\n          return obj;\n        });\n\n        Value.getter(Map.prototype, 'size', function () {\n          if (typeof this._size === 'undefined') {\n            throw new TypeError('size method called on incompatible Map');\n          }\n          return this._size;\n        });\n\n        defineProperties(Map.prototype, {\n          get: function (key) {\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              var entry = this._storage[fkey];\n              if (entry) {\n                return entry.value;\n              } else {\n                return;\n              }\n            }\n            var head = this._head, i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return i.value;\n              }\n            }\n          },\n\n          has: function (key) {\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              return typeof this._storage[fkey] !== 'undefined';\n            }\n            var head = this._head, i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return true;\n              }\n            }\n            return false;\n          },\n\n          set: function (key, value) {\n            var head = this._head, i = head, entry;\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] !== 'undefined') {\n                this._storage[fkey].value = value;\n                return this;\n              } else {\n                entry = this._storage[fkey] = new MapEntry(key, value);\n                i = head.prev;\n                // fall through\n              }\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.value = value;\n                return this;\n              }\n            }\n            entry = entry || new MapEntry(key, value);\n            if (ES.SameValue(-0, key)) {\n              entry.key = +0; // coerce -0 to +0 in entry\n            }\n            entry.next = this._head;\n            entry.prev = this._head.prev;\n            entry.prev.next = entry;\n            entry.next.prev = entry;\n            this._size += 1;\n            return this;\n          },\n\n          'delete': function (key) {\n            var head = this._head, i = head;\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] === 'undefined') {\n                return false;\n              }\n              i = this._storage[fkey].prev;\n              delete this._storage[fkey];\n              // fall through\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.key = i.value = empty;\n                i.prev.next = i.next;\n                i.next.prev = i.prev;\n                this._size -= 1;\n                return true;\n              }\n            }\n            return false;\n          },\n\n          clear: function () {\n            this._size = 0;\n            this._storage = emptyObject();\n            var head = this._head, i = head, p = i.next;\n            while ((i = p) !== head) {\n              i.key = i.value = empty;\n              p = i.next;\n              i.next = i.prev = head;\n            }\n            head.next = head.prev = head;\n          },\n\n          keys: function () {\n            return new MapIterator(this, 'key');\n          },\n\n          values: function () {\n            return new MapIterator(this, 'value');\n          },\n\n          entries: function () {\n            return new MapIterator(this, 'key+value');\n          },\n\n          forEach: function (callback) {\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var it = this.entries();\n            for (var entry = it.next(); !entry.done; entry = it.next()) {\n              if (context) {\n                callback.call(context, entry.value[1], entry.value[0], this);\n              } else {\n                callback(entry.value[1], entry.value[0], this);\n              }\n            }\n          }\n        });\n        addIterator(Map.prototype, function () { return this.entries(); });\n\n        return Map;\n      }()),\n\n      Set: (function () {\n        // Creating a Map is expensive.  To speed up the common case of\n        // Sets containing only string or numeric keys, we use an object\n        // as backing storage and lazily create a full Map only when\n        // required.\n        var SetShim = function Set(iterable) {\n          var set = this;\n          if (!ES.TypeIsObject(set)) {\n            throw new TypeError('Set does not accept arguments when called as a function');\n          }\n          set = emulateES6construct(set);\n          if (!set._es6set) {\n            throw new TypeError('bad set');\n          }\n\n          defineProperties(set, {\n            '[[SetData]]': null,\n            _storage: emptyObject()\n          });\n\n          // Optionally initialize map from iterable\n          if (typeof iterable !== 'undefined' && iterable !== null) {\n            var it = ES.GetIterator(iterable);\n            var adder = set.add;\n            if (!ES.IsCallable(adder)) { throw new TypeError('bad set'); }\n            while (true) {\n              var next = ES.IteratorNext(it);\n              if (next.done) { break; }\n              var nextItem = next.value;\n              adder.call(set, nextItem);\n            }\n          }\n          return set;\n        };\n        var Set$prototype = SetShim.prototype;\n        defineProperty(SetShim, symbolSpecies, function (obj) {\n          var constructor = this;\n          var prototype = constructor.prototype || Set$prototype;\n          obj = obj || create(prototype);\n          defineProperties(obj, { _es6set: true });\n          return obj;\n        });\n\n        // Switch from the object backing storage to a full Map.\n        var ensureMap = function ensureMap(set) {\n          if (!set['[[SetData]]']) {\n            var m = set['[[SetData]]'] = new collectionShims.Map();\n            Object.keys(set._storage).forEach(function (k) {\n              // fast check for leading '$'\n              if (k.charCodeAt(0) === 36) {\n                k = k.slice(1);\n              } else if (k.charAt(0) === 'n') {\n                k = +k.slice(1);\n              } else {\n                k = +k;\n              }\n              m.set(k, k);\n            });\n            set._storage = null; // free old backing storage\n          }\n        };\n\n        Value.getter(SetShim.prototype, 'size', function () {\n          if (typeof this._storage === 'undefined') {\n            // https://github.com/paulmillr/es6-shim/issues/176\n            throw new TypeError('size method called on incompatible Set');\n          }\n          ensureMap(this);\n          return this['[[SetData]]'].size;\n        });\n\n        defineProperties(SetShim.prototype, {\n          has: function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              return !!this._storage[fkey];\n            }\n            ensureMap(this);\n            return this['[[SetData]]'].has(key);\n          },\n\n          add: function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              this._storage[fkey] = true;\n              return this;\n            }\n            ensureMap(this);\n            this['[[SetData]]'].set(key, key);\n            return this;\n          },\n\n          'delete': function (key) {\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              var hasFKey = _hasOwnProperty(this._storage, fkey);\n              return (delete this._storage[fkey]) && hasFKey;\n            }\n            ensureMap(this);\n            return this['[[SetData]]']['delete'](key);\n          },\n\n          clear: function () {\n            if (this._storage) {\n              this._storage = emptyObject();\n            } else {\n              this['[[SetData]]'].clear();\n            }\n          },\n\n          values: function () {\n            ensureMap(this);\n            return this['[[SetData]]'].values();\n          },\n\n          entries: function () {\n            ensureMap(this);\n            return this['[[SetData]]'].entries();\n          },\n\n          forEach: function (callback) {\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var entireSet = this;\n            ensureMap(entireSet);\n            this['[[SetData]]'].forEach(function (value, key) {\n              if (context) {\n                callback.call(context, key, key, entireSet);\n              } else {\n                callback(key, key, entireSet);\n              }\n            });\n          }\n        });\n        defineProperty(SetShim, 'keys', SetShim.values, true);\n        addIterator(SetShim.prototype, function () { return this.values(); });\n\n        return SetShim;\n      }())\n    };\n    defineProperties(globals, collectionShims);\n\n    if (globals.Map || globals.Set) {\n      /*\n        - In Firefox < 23, Map#size is a function.\n        - In all current Firefox, Set#entries/keys/values & Map#clear do not exist\n        - https://bugzilla.mozilla.org/show_bug.cgi?id=869996\n        - In Firefox 24, Map and Set do not implement forEach\n        - In Firefox 25 at least, Map and Set are callable without \"new\"\n      */\n      if (\n        typeof globals.Map.prototype.clear !== 'function' ||\n        new globals.Set().size !== 0 ||\n        new globals.Map().size !== 0 ||\n        typeof globals.Map.prototype.keys !== 'function' ||\n        typeof globals.Set.prototype.keys !== 'function' ||\n        typeof globals.Map.prototype.forEach !== 'function' ||\n        typeof globals.Set.prototype.forEach !== 'function' ||\n        isCallableWithoutNew(globals.Map) ||\n        isCallableWithoutNew(globals.Set) ||\n        !supportsSubclassing(globals.Map, function (M) {\n          var m = new M([]);\n          // Firefox 32 is ok with the instantiating the subclass but will\n          // throw when the map is used.\n          m.set(42, 42);\n          return m instanceof M;\n        })\n      ) {\n        globals.Map = collectionShims.Map;\n        globals.Set = collectionShims.Set;\n      }\n    }\n    if (globals.Set.prototype.keys !== globals.Set.prototype.values) {\n      defineProperty(globals.Set.prototype, 'keys', globals.Set.prototype.values, true);\n    }\n    // Shim incomplete iterator implementations.\n    addIterator(Object.getPrototypeOf((new globals.Map()).keys()));\n    addIterator(Object.getPrototypeOf((new globals.Set()).keys()));\n  }\n\n  return globals;\n}));\n","// # ceb.js\n(function (g, factory) {\n    'use strict';\n\n    // Export the **ceb** function according the detected loader.\n\n    /* istanbul ignore next */\n    if (typeof exports === 'object') {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define('ceb', [], factory);\n    } else {\n        g.ceb = factory();\n    }\n\n}(this, function () {\n    'use strict';\n\n    // ## Polyfill\n\n    /* istanbul ignore next */\n    if (!('assign' in Object)) {\n        /* https://github.com/paulmillr/es6-shim/blob/master/es6-shim.js */\n        Object.defineProperty(Object, 'assign', {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: function polyfillAssign() {\n                return Array.prototype.reduce.call(arguments, function (target, source) {\n                    return Object.keys(Object(source)).reduce(function (target, key) {\n                        target[key] = source[key];\n                        return target;\n                    }, target);\n                });\n            }\n        });\n    }\n\n    // ## Tools\n\n    // Return a new empty function.\n    function emptyFn() {\n        return function () {};\n    }\n\n    // List the values of an object.\n    function listValues(o) {\n        return Object.keys(o).map(function (propName) {\n            return o[propName];\n        });\n    }\n\n    // Transform property notation to attribute notation.\n    function fromCamelCaseToHyphenCase(value) {\n        return value.split(/(?=[A-Z])/).map(function (part) {\n            return part.charAt(0).toLowerCase() + part.slice(1);\n        }).join('-');\n    }\n\n    // Compare object according to their levels.\n    function compareLevels(a, b) {\n        return a.level - b.level;\n    }\n\n    // Apply an attribute value to an element.\n    function applyAttributeValue(el, attName, value, isBoolean) {\n        if (isBoolean) {\n            // Handle boolean value\n            if (value && !el.hasAttribute(attName)) {\n                // Set attribute only if the attribute is not preset\n                el.setAttribute(attName, '');\n            } else if (!value && el.hasAttribute(attName)) {\n                // The value is false so the attribute must be removed\n                el.removeAttribute(attName);\n            }\n        } else {\n            // Handle none boolean value\n            if ((value === null || value === undefined) && el.hasAttribute(attName)) {\n                // There is no value, so the attribute must be removed\n                el.removeAttribute(attName);\n            } else if ((value !== null && value !== undefined) && el.getAttribute(attName) !== value) {\n                // Sync the attribute value with value\n                el.setAttribute(attName, value);\n            }\n        }\n    }\n\n    // Create an accessor function in order to wrap the original accessor with its accessors.\n    function accessorFactory(wrappers, wrapped) {\n        // Order the stack of wrappers\n        var stack = wrappers.sort(compareLevels);\n        return function accessor() {\n            var el = this;\n            // The first function of the stack is called,\n            // calling the next function when its argument function next is called.\n            // The original accessor is the last call.\n            return stack.reduce(function (previous, current) {\n                return current.bind(el, previous, el);\n            }, wrapped.bind(el, el)).apply(el, arguments);\n        };\n    }\n\n    // Create the accessor set for a property linked to an attribute\n    function attributeAccessorSetFactory(attName, setter, isBoolean) {\n        return function attributeAccessorSet(el, value) {\n            // By default, the attribute value is the set value.\n            var attValue = value;\n            if (setter) {\n                // The default value can be overridden by a given setter.\n                attValue = setter.call(el, el, value);\n            }\n            // Finally apply the attribute to the linked attribute.\n            applyAttributeValue(el, attName, attValue, isBoolean);\n        };\n    }\n\n    // Create the accessor get for a property linked to an attribute\n    function attributeAccessorGetFactory(attName, getter, isBoolean) {\n        return function attributeAccessorGet(el) {\n            // By default, the returned value is the attribute value.\n            var value = isBoolean ? el.hasAttribute(attName) : el.getAttribute(attName);\n            if (getter) {\n                // The returned value can be overridden by a given getter.\n                value = getter.call(el, el, value);\n            }\n            // Finally the value is returned\n            return value;\n        };\n    }\n\n    // Create an element's method\n    function methodFactory(wrappers, wrapped) {\n        // Order the stack of wrappers\n        var stack = wrappers.sort(compareLevels);\n        return function () {\n            var el = this;\n            // The first function of the stack is called, calling the next function when its argument function next is called.\n            // The original method is the last call.\n            return stack.reduce(function (previous, current) {\n                return current.bind(el, function next(args) {\n                    return previous.apply(el, Array.prototype.slice.call(args).slice(2, args.length));\n                }, el);\n            }, wrapped.bind(el, el)).apply(el, arguments);\n        };\n    }\n\n    // ## Life cycle\n\n    // Sanitize a structure to avoid the errors `?? not defined`\n    function sanitizeStructure(struct) {\n        struct.prototype = struct.prototype || Object.create(HTMLElement.prototype);\n        struct.features = struct.features || [];\n        struct.interceptors = struct.interceptors || [];\n        struct.wrappers = struct.wrappers || [];\n        struct.listeners = struct.listeners || [];\n        struct.properties = struct.properties || {};\n        struct.methods = Object.assign({\n            createdCallback: emptyFn(),\n            attachedCallback: emptyFn(),\n            detachedCallback: emptyFn(),\n            attributeChangedCallback: emptyFn()\n        }, struct.methods);\n        return struct;\n    }\n\n    // Call the setup's method of features.\n    function setupFeatures(struct) {\n        // Create a builder from the current structure.\n        var b = builder(struct.tagName, {\n            struct: struct,\n            registered: true\n        });\n        // Call setup functions according their features's levels.\n        struct.features.sort(compareLevels).forEach(function (feature) {\n            if (feature.fn && feature.fn.setup) {\n                feature.fn.setup(struct, b, feature.options);\n            }\n        });\n    }\n\n    // Create an hash of attributes from the structure's properties.\n    // The hash of attributes is used to keep in sync properties' values and attributes' values.\n    function createAttributesHash(struct) {\n        return listValues(struct.properties).filter(function (property) {\n            return property.attName;\n        }).reduce(function (previous, current) {\n            previous[current.attName] = current;\n            return previous;\n        }, {});\n    }\n\n    // Create an hash of defined properties from the structure's properties.\n    // The defined properties are the input of Object.defineProperties().\n    function createDefinedPropertiesHash(struct) {\n        return listValues(struct.properties).map(function (property) {\n            // By default properties should not be configurable but enumerable.\n            var definedProperty = {\n                configurable: false,\n                enumerable: true\n            };\n\n            if (property.attribute) {\n                // Create attribute accessors.\n                property.set = attributeAccessorSetFactory(property.attName, property.setter, !!property.attribute.boolean);\n                property.get = attributeAccessorGetFactory(property.attName, property.getter, !!property.attribute.boolean);\n            } else if (property.hasOwnProperty('value') && property.hasOwnProperty('writable') && !property.writable) {\n                // A constant has a value which is not writable.\n                definedProperty.value = property.value;\n                definedProperty.writable = false;\n                if (property.hasOwnProperty('enumerable')) {\n                    definedProperty.enumerable = property.enumerable;\n                }\n            } else if (!property.set && !property.get) {\n                // A none constant property without accessor must be writable.\n                definedProperty.writable = true;\n            }\n\n            if (!definedProperty.hasOwnProperty('writable')) {\n                // Create the property's function set and get according to their interceptors.\n                var interceptors = struct.interceptors[property.propName] || {};\n                if (property.set) {\n                    var setStack = interceptors.set || [];\n                    definedProperty.set = accessorFactory(setStack, property.set);\n                }\n                if (property.get) {\n                    var getStack = interceptors.get || [];\n                    definedProperty.get = accessorFactory(getStack, property.get);\n                }\n            }\n\n            // Finally add the defined property to the current property.\n            return Object.assign(property, {\n                property: definedProperty\n            });\n        }).reduce(function (previous, current) {\n            previous[current.propName] = current.property;\n            return previous;\n        }, {});\n    }\n\n    // Create an hash of methods from the structure's methods.\n    function createMethodsHash(struct) {\n        // Iterate over methods in order to wrap them with their wrappers.\n        return Object.keys(struct.methods).map(function (methName) {\n            var stack = struct.wrappers[methName] || [];\n            var fn = struct.methods[methName];\n            return {\n                methName: methName,\n                fn: methodFactory(stack, fn)\n            };\n        }).reduce(function (previous, current) {\n            previous[current.methName] = current.fn;\n            return previous;\n        }, {});\n    }\n\n    // ## Build\n\n    // Work with the structure in order to register the corresponding custom element.\n    function build(struct) {\n        // Clean the structure to avoid potential errors.\n        sanitizeStructure(struct);\n\n        // Let's feature enhanced the structure.\n        setupFeatures(struct);\n\n        // Build an hash of attribute for sync attributes' and properties' values.\n        struct.attributes = createAttributesHash(struct);\n\n        // Create the public properties definition of the custom element.\n        var definedProperties = createDefinedPropertiesHash(struct);\n        // Apply the public properties definition to the custom element prototype.\n        Object.defineProperties(struct.prototype, definedProperties);\n\n        // Override the originals methods to create the wrapped ones.\n        var wrappedMethods = createMethodsHash(struct);\n\n        // Apply the wrapped methods to the custom element prototype.\n        Object.assign(struct.prototype, wrappedMethods);\n\n        // Register the custom element according to its structure.\n        return document.registerElement(struct.tagName, struct);\n    }\n\n    // ## Built-in feature\n\n    // **ceb** defines an internal feature in order to add runtime functionalities:\n    // - initialize properties' values\n    // - add and remove event listeners\n    // - sync properties' values when theirs linked attributes change\n    // - handle delegation of property access to a child element\n\n    // ### Interceptors\n\n    // Intercept write accesses of delegable properties.\n    function delegableSetAccessorInterceptor(property, next, el, value) {\n        next(value);\n        // Logic should be done after the effective write.\n        var target = el.querySelector(property.delegate.target);\n        /* istanbul ignore else  */\n        if (target) {\n            // Resolve the eventual targeted property's name or attribute's name.\n            var targetPropName = property.delegate.property;\n            var targetAttName = property.delegate.attribute;\n            if (!targetPropName && !targetAttName) {\n                targetPropName = property.propName;\n                targetAttName = property.attName;\n            }\n            // Check the boolean nature of the value.\n            var isBoolean = property.attribute && !!property.attribute.boolean;\n            if (property.delegate.hasOwnProperty('boolean')) {\n                isBoolean = property.delegate.boolean;\n            }\n            // Apply change to the child.\n            if (targetAttName) {\n                // Update the child's attribute value.\n                applyAttributeValue(target, targetAttName, value, isBoolean);\n            } else {\n                // Update the child's property value.\n                target[targetPropName] = value;\n            }\n        }\n    }\n\n    // Intercept read accesses of delegable properties.\n    function delegableGetAccessorInterceptor(property, next, el, value) {\n        var result = next(value);\n        // Logic should be done after the effective write.\n        var target = el.querySelector(property.delegate.target);\n        /* istanbul ignore else  */\n        if (target) {\n            // Resolve the eventual targeted property's name or attribute's name.\n            var targetPropName = property.delegate.property;\n            var targetAttName = property.delegate.attribute;\n            if (!targetPropName && !targetAttName) {\n                targetPropName = property.propName;\n                targetAttName = property.attName;\n            }\n            // Check the boolean nature of the value.\n            var isBoolean = property.attribute && !!property.attribute.boolean;\n            if (property.delegate.hasOwnProperty('boolean')) {\n                isBoolean = property.delegate.boolean;\n            }\n            // Get value from the child.\n            if (targetAttName) {\n                // Get the child's attribute value.\n                result = isBoolean ? target.hasAttribute(targetAttName) : target.getAttribute(targetAttName);\n            } else {\n                // Get the child's property value.\n                result = target[targetPropName];\n            }\n        }\n        return result;\n    }\n\n    // ### Listeners\n\n    // DOM event listener calling the structure's event listener.\n    function eventListener(el, fn, evt) {\n        fn(el, evt);\n    }\n\n    // ### Feature's functions\n\n    // Initialize the builtInFeature;\n    var builtInFeature = emptyFn();\n    // The setup function of the built-in feature\n    builtInFeature.setup = function (struct, builder) {\n        // Iterate over structure's properties in order to detect delegable properties.\n        listValues(struct.properties).filter(function (property) {\n            return property.delegate;\n        }).forEach(function (property) {\n            if (!property.attName) {\n                // Force the existence of getter and setter to handle interception.\n                property.set = property.set || emptyFn();\n                property.get = property.get || emptyFn();\n            }\n            // Create interceptor for the delegable property.\n            builder.intercept(\n                property.propName,\n                delegableSetAccessorInterceptor.bind(this, property),\n                delegableGetAccessorInterceptor.bind(this, property)\n            );\n        });\n        // Wrap the method createdCallback.\n        builder.wrap('createdCallback', function (next, el) {\n            next(arguments);\n            // Initialize the properties' value after the call of the createdCallback method.\n            listValues(struct.properties).forEach(function (property) {\n                if (property.attName) {\n                    if (el.hasAttribute(property.attName)) {\n                        el[property.propName] = property.attribute.boolean ? true : el.getAttribute(property.attName);\n                    } else if (property.hasOwnProperty('value')) {\n                        applyAttributeValue(el, property.attName, property.value, property.attribute.boolean);\n                    }\n                } else if (property.hasOwnProperty('value') && property.writable) {\n                    el[property.propName] = property.value;\n                }\n            });\n        });\n        // Wrap the method attachedCallback.\n        builder.wrap('attachedCallback', function (next, el) {\n            next(arguments);\n            // Add the event listeners after the call of the attachedCallback method.\n            el.__eventHandlers = struct.listeners.map(function (listener) {\n                var target = listener.target ? el.querySelector(listener.target) : el;\n                var callback = eventListener.bind(el, el, listener.fn);\n                target.addEventListener(listener.event, callback, true);\n                return {\n                    event: listener.event,\n                    target: target,\n                    callback: callback\n                };\n            });\n        });\n        // Wrap the method detachedCallback.\n        builder.wrap('detachedCallback', function (next, el) {\n            // Remove the event listeners before the call of the detachedCallback method.\n            (el.__eventHandlers || []).forEach(function (handler) {\n                handler.target.removeEventListener(handler.event, handler.callback, true);\n            });\n            el.__eventHandlers = null;\n            next(arguments);\n        });\n        // Wrap the method attributeChangedCallback.\n        builder.wrap('attributeChangedCallback', function (next, el, attName, oldVal, newVal) {\n            // Synchronize the attributes' values with their properties\n            var property = struct.attributes[attName];\n            if (property) {\n                var value = newVal;\n                if (property.attribute.boolean) {\n                    value = typeof newVal === 'string' ? true : false;\n                }\n                el[property.propName] = value;\n            }\n            next(arguments);\n        });\n    };\n\n    // ## ceb\n\n    // Create a base and valid structure;\n    function baseStructFactory() {\n        return {\n            properties: {},\n            methods: {},\n            wrappers: [],\n            interceptors: [],\n            listeners: [],\n            features: [{\n                fn: builtInFeature\n            }]\n        };\n    }\n\n    // Sanitize the properties on the fly\n    function sanitizeProperty(property) {\n        if (property.attribute) {\n            // A property linked to an attribute must have a valid attribute name\n            property.attName = fromCamelCaseToHyphenCase(property.attribute.name || property.propName);\n        }\n        // By default a property is writable\n        property.writable = property.hasOwnProperty('writable') ? property.writable : true;\n        return property;\n    }\n\n    // Provides the sugar API of **ceb**.\n    function builder(tagName, params) {\n        // The structure of the builder can be given from the parameters.\n        var struct = params && params.struct ? sanitizeStructure(params.struct) : baseStructFactory();\n        // A structure must have a tag name.\n        struct.tagName = tagName;\n        // A strucuture which is already registered will not register the custom element twice.\n        var registered = params && params.hasOwnProperty('registered') ? params.registered : false;\n        var api = {};\n        // Add a wrapper to the structure.\n        api.wrap = function (methName, fn, level) {\n            if (!struct.wrappers[methName]) {\n                struct.wrappers[methName] = [];\n            }\n            fn.level = isNaN(level) ? 0 : level;\n            struct.wrappers[methName].push(fn);\n            return api;\n        };\n        // Add an interceptor to the structure.\n        api.intercept = function (propName, setFn, getFn, level) {\n            if (!struct.interceptors[propName]) {\n                struct.interceptors[propName] = {\n                    set: [],\n                    get: []\n                };\n            }\n            if (setFn) {\n                setFn.level = isNaN(level) ? 0 : level;\n                struct.interceptors[propName].set.push(setFn);\n            }\n            if (getFn) {\n                getFn.level = isNaN(level) ? 0 : level;\n                struct.interceptors[propName].get.push(getFn);\n            }\n            return api;\n        };\n        // Set the extends value\n        api['extends'] = function (anExtend) {\n            struct['extends'] = anExtend;\n            return api;\n        };\n        // Set the herited prototype\n        api.prototype = function (aProto) {\n            struct.prototype = aProto;\n            return api;\n        };\n        // Add properties to the structure.\n        api.properties = function (someProperties) {\n            var sanitizedProperties = Object.keys(someProperties).map(function (propName) {\n                return Object.assign(someProperties[propName], {\n                    propName: propName\n                });\n            }).map(sanitizeProperty).reduce(function (previous, current) {\n                previous[current.propName] = current;\n                return previous;\n            }, {});\n\n            Object.assign(struct.properties, sanitizedProperties);\n\n            return api;\n        };\n        // Add methods to the structure.\n        api.methods = function (someMethods) {\n            Object.assign(struct.methods, someMethods);\n            return api;\n        };\n        // Add a listener to the structure.\n        api.listen = function (queries, fn) {\n            queries.trim().split(',').map(function (query) {\n                var parts = query.trim().split(' ');\n                return {\n                    event: parts[0].trim(),\n                    target: (parts[1] || '').trim(),\n                    fn: fn\n                };\n            }).forEach(function (listener) {\n                struct.listeners.push(listener);\n            });\n            return api;\n        };\n        // Add a feature to the structure.\n        api.feature = function (fn, options, level) {\n            struct.features.push({\n                fn: fn,\n                options: options || {},\n                level: isNaN(level) ? 0 : level\n            });\n            return api;\n        };\n        // Register the custom element if not already done.\n        api.register = function () {\n            if (!registered) {\n                registered = true;\n                return build(struct);\n            }\n        };\n        // Get the current structure.\n        api.get = function () {\n            return struct;\n        };\n        return api;\n    }\n\n    // The `ced()` function.\n    function ceb(params) {\n        var api = {};\n        // A builder is given when a name is known.\n        api.name = function (tagName) {\n            return builder(tagName, params);\n        };\n        return api;\n    }\n\n    return ceb;\n}));\n"]}