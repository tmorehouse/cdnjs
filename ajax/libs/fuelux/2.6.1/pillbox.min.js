define(["require","jquery"],function(c){var d=c("jquery");var a=d.fn.pillbox;var b=function(f,e){this.$element=d(f);this.options=d.extend({},d.fn.pillbox.defaults,e);this.$element.on("click","li",d.proxy(this.itemclicked,this))};b.prototype={constructor:b,items:function(){return this.$element.find("li").map(function(){var e=d(this);return d.extend({text:e.text()},e.data())}).get()},itemclicked:function(g){var h=d(g.currentTarget);var f=d.extend({text:h.html()},h.data());h.remove();g.preventDefault();this.$element.trigger("removed",f)},itemCount:function(){return this.$element.find("li").length},addItem:function(f,e){e=e||f;var g=d('<li data-value="'+e+'">'+f+"</li>");if(this.$element.find("ul").length>0){this.$element.find("ul").append(g)}else{this.$element.append(g)}this.$element.trigger("added",{text:f,value:e});return g},removeBySelector:function(e,f){if(typeof f==="undefined"){f=true}this.$element.find("ul").find(e).remove();if(!!f){this._removePillTrigger({method:"removeBySelector",removedSelector:e})}},removeByValue:function(f){var e='li[data-value="'+f+'"]';this.removeBySelector(e,false);this._removePillTrigger({method:"removeByValue",removedValue:f})},removeByText:function(f){var e='li:contains("'+f+'")';this.removeBySelector(e,false);this._removePillTrigger({method:"removeByText",removedText:f})},clear:function(){this.$element.find("ul").empty()},_removePillTrigger:function(e){this.$element.trigger("removed",e)}};d.fn.pillbox=function(g){var f=Array.prototype.slice.call(arguments,1);var h;var e=this.each(function(){var k=d(this);var j=k.data("pillbox");var i=typeof g==="object"&&g;if(!j){k.data("pillbox",(j=new b(this,i)))}if(typeof g==="string"){h=j[g].apply(j,f)}});return(h===undefined)?e:h};d.fn.pillbox.defaults={};d.fn.pillbox.Constructor=b;d.fn.pillbox.noConflict=function(){d.fn.pillbox=a;return this};d(function(){d("body").on("mousedown.pillbox.data-api",".pillbox",function(){var e=d(this);if(e.data("pillbox")){return}e.pillbox(e.data())})})});