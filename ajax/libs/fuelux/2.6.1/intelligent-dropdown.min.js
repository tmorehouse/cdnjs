define(["jquery","fuelux/all"],function(a){a(function(){a(document.body).on("click","[data-toggle=dropdown][data-direction]",function(g){var f=a(this).data().direction;if(f==="auto"||f==="up"){if(a(this).parent().css("position")==="static"){a(this).parent().css({position:"relative"})}if(g.hasOwnProperty("originalEvent")){g.stopPropagation();if(f==="auto"){b(a(this))}else{if(f==="up"){e(a(this))}}}}});function e(h){var i=h.next();var f=5;var g;a(i).addClass("dropUp");g=((i.outerHeight()+f)*-1)+"px";i.css({visibility:"visible",top:g});h.click()}function b(h){var i=h.next();var f=5;var g;i.css({visibility:"hidden"});if(c(i)){a(i).addClass("dropUp");g=((i.outerHeight()+f)*-1)+"px"}else{a(i).removeClass("dropUp");g="auto"}i.css({visibility:"visible",top:g});h.click()}function c(g){var h=d(g);var f={};f.parentHeight=g.parent().outerHeight();f.parentOffsetTop=g.parent().offset().top;f.dropdownHeight=g.outerHeight();f.containerHeight=h.overflowElement.outerHeight();f.containerOffsetTop=(!!h.isWindow)?h.overflowElement.scrollTop():h.overflowElement.offset().top;f.fromTop=f.parentOffsetTop-f.containerOffsetTop;f.fromBottom=f.containerHeight-f.parentHeight-(f.parentOffsetTop-f.containerOffsetTop);if(f.dropdownHeight<f.fromBottom){return false}else{if(f.dropdownHeight<f.fromTop){return true}else{if(f.dropdownHeight>=f.fromTop&&f.dropdownHeight>=f.fromBottom){if(f.fromTop>=f.fromBottom){return true}else{return false}}}}}function d(g){var h=window;var f=true;a.each(g.parents(),function(i,j){if(a(j).css("overflow")!=="visible"){h=j;f=false;return false}});return{overflowElement:a(h),isWindow:f}}})});