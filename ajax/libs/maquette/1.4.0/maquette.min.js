!function(e){"use strict";var n=!1,o=function(){},r=[],t=function(e,n){var o={};return Object.keys(e).forEach(function(n){o[n]=e[n]}),n&&Object.keys(n).forEach(function(e){o[e]=n[e]}),o},i=function(e,n,o,r,t){for(var d=0;d<n.length;d++){var s=n[d];Array.isArray(s)?r=i(s,o,r):(a(e,s,t),o.splice(r,0,s),r++)}return r},a=function(e,o,r){if(!n){var t=o.vnodeSelector;if(!(""===t||o.properties&&o.properties.key)){for(var i=0;i<r.length;i++)if(t===r[i])throw new Error("["+e+"] contains undistinguishable child nodes ["+t+"], please add unique key properties.");r.push(t)}}},d=function(e){return{vnodeSelector:"",text:null==e?"":""+e,domNode:null}},s=function(e,n){if(null===n||void 0===n)return null;if(!Array.isArray(n))return n.hasOwnProperty("vnodeSelector")?[n]:[d(n)];for(var o=0,r=[];o<n.length;){var t=n[o];null===t||void 0===t?n.splice(o,1):Array.isArray(t)?(n.splice(o,1),o=i(e,t,n,o,r)):t.hasOwnProperty("vnodeSelector")?(a(e,t,r),o++):(n[o]=d(t),o++)}return n},u=/([\.#]?[a-zA-Z0-9_:-]+)/,l={nodeToRemove:function(e){e.parentNode.removeChild(e)},nodeAdded:function(){},nodeUpdated:function(){}},c={namespace:null,transitions:l},p=function(e){return t(c,e)},f=function(e,n){return n in e?!1:!0},m=function(e,n,o){if(n){var r=o.eventHandlerInterceptor;for(var t in n){var i=n[t];if("class"===t||"className"===t||"classList"===t)throw new Error("Not supported, use 'classes' instead.");if("classes"===t)for(var a in i)i[a]&&e.classList.add(a);else{if("key"===t)continue;"function"==typeof i?(r&&(i=r(t,i,e)),e[t]=i):o.namespace||f(e,t)?e.setAttribute(t,i):e[t]=i}}}},v=function(e,n,o,r){if(o)for(var t in o){var i=o[t],a=n[t];if("classes"===t){if(i===a)continue;for(var d in i){var s=!!i[d],u=!!a[d];s!==u&&(s?(e.classList.add(d),r.transitions.nodeUpdated(e,"addClass",d,void 0,void 0)):(e.classList.remove(d),r.transitions.nodeUpdated(e,"removeClass",d,void 0,void 0)))}}else{if(i||"string"!=typeof a||(i=""),"value"===t){if(e.value===i){i!==a&&r.transitions.nodeUpdated(e,"property","value",i,a);continue}e.value=i,i!==a&&r.transitions.nodeUpdated(e,"property","value",i,a);continue}if(i!==a){if("function"==typeof i)throw new Error("Functions may not be updated on subsequent renders (property: "+t+")");r.namespace||f(e,t)?e.setAttribute(t,i):e[t]=i,r.transitions.nodeUpdated(e,"property",t,i,a)}}}},h=function(e,n,o){n&&n.forEach(function(n){N(n,function(n){e.appendChild(n)},o)})},w=function(e,n){return e.vnodeSelector!==n.vnodeSelector?!1:e.properties&&n.properties?e.properties.key===n.properties.key:!e.properties&&!n.properties},y=function(e,n,o){if(""!==n.vnodeSelector)for(var r=o;r<e.length;r++)if(w(e[r],n))return r;return-1},g=function(e,n,o,t){if(n!==o){n=n||r,o=o||r;for(var i,a=t.transitions,d=0,s=0;s<o.length;){var u=d<n.length?n[d]:null,l=o[s];if(u&&w(u,l))S(u,l,t),d++;else{var c=y(n,l,d+1);if(c>=0){for(i=d;c>i;i++)a.nodeToRemove(n[i].domNode,n[i].properties);S(n[c],l,t),d=c+1}else N(l,function(o){if(d<n.length){var r=n[d];r.domNode.parentNode.insertBefore(o,r.domNode)}else e.appendChild(o)},t),a.nodeAdded(l.domNode,l.properties)}s++}if(n.length>d)for(i=d;i<n.length;i++)a.nodeToRemove(n[i].domNode,n[i].properties)}},N=function(e,n,o){if(""===e.vnodeSelector)e.domNode=document.createTextNode(e.text),n(e.domNode);else{var r,i,a,d,s=e.vnodeSelector.split(u);for(a=0;a<s.length;a++)i=s[a],i&&(d=i.charAt(0),r?"."===d?r.classList.add(i.substring(1)):"#"===d&&(r.id=i.substr(1)):("svg"===i&&(o=t(o,{namespace:"http://www.w3.org/2000/svg"})),r=e.domNode=o.namespace?document.createElementNS(o.namespace,i):document.createElement(i),n(r)));A(r,e,o)}},A=function(e,n,o){m(e,n.properties,o),h(e,n.children,o),n.properties&&n.properties.afterCreate&&n.properties.afterCreate(e,o,n.vnodeSelector,n.properties,n.children)},S=function(e,n,o){var r=e.domNode;if(!r)throw new Error("previous node was not mounted");e!==n&&(""===n.vnodeSelector?n.text!==e.text&&(r.nodeValue=n.text,o.transitions.nodeUpdated(r,"text",void 0,n.text,e.text)):(v(r,e.properties,n.properties,o),g(r,e.children,n.children,o),n.properties&&n.properties.afterUpdate&&n.properties.afterUpdate(r,o,n.vnodeSelector,n.properties,n.children)),n.domNode=e.domNode)};window.performance=window.performance||{offset:new Date,now:function(){return new Date-this.offset}};var x={lastCreateVDom:null,lastCreateDom:null,lastUpdateVDom:null,lastUpdateDom:null,lastRenderLoop:null,createExecuted:function(e,n,o,r){x.lastRenderLoop=r,x.lastCreateVDom=n-e,x.lastCreateDom=o-n},updateExecuted:function(e,n,o,r){x.lastRenderLoop=r,x.lastUpdateVDom=n-e,x.lastUpdateDom=o-n}},D=function(e,n){return{update:function(o){if(e.vnodeSelector!==o.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using mergeDom with one extra level)");S(e,o,n),e=o},domNode:e.domNode}},E={h:function(e,n,o){return!o&&("string"==typeof n||Array.isArray(n)||n&&n.hasOwnProperty("vnodeSelector"))&&(o=n,n=null),o=s(e,o),{vnodeSelector:e,properties:n,children:o,domNode:null}},createDom:function(e,n){return n=p(n),N(e,o,n),D(e,n)},appendToDom:function(e,n,o){return o=p(o),N(n,function(n){e.appendChild(n)},o),D(n,o)},mergeDom:function(e,n,o){return o=p(o),n.domNode=e,A(e,n,o),D(n,o)},renderLoop:function(e,n,o){o=p(o),o.eventHandlerInterceptor=function(e,n){return function(){return d.scheduleRender(),n.apply(this,arguments)}};var r,t=null,i=!1,a=function(){if(r=null,t){var i=window.performance.now(),a=n(),s=window.performance.now();t.update(a),x.updateExecuted(i,s,window.performance.now(),d)}else{var u=window.performance.now(),l=n(),c=window.performance.now();t=E.mergeDom(e,l,o),x.createExecuted(u,c,window.performance.now(),d)}};r=requestAnimationFrame(a);var d={scheduleRender:function(){r||i||(r=requestAnimationFrame(a))},destroy:function(){r&&(cancelAnimationFrame(r),r=null),i=!0}};return d},createCache:function(){var e=null,n=null,o={invalidate:function(){n=null,e=null},result:function(o,r){if(e)for(var t=0;t<o.length;t++)e[t]!==o[t]&&(n=null);return n||(n=r(),e=o),n}};return o},stats:x};void 0!==e.module&&e.module.exports?e.module.exports=E:"function"==typeof e.define&&e.define.amd&&e.define(function(){return E}),window&&(window.maquette=E)}(this);