var Meny={create:function(e){return function(){function t(){switch(M="",X="",I.position){case z:x="50% 0%",w="rotateX( 30deg ) translateY( -100% ) translateY( "+I.overlap+"px )",Y="50% 0",D="translateY( "+I.height+"px ) rotateX( -15deg )",E={top:"-"+(I.height-I.overlap)+"px"},k={top:"0px"},L={top:"0px"},C={top:I.height+"px"};break;case H:x="100% 50%",w="rotateY( 30deg ) translateX( 100% ) translateX( -2px ) scale( 1.01 )",Y="100% 50%",D="translateX( -"+I.width+"px ) rotateY( -15deg )",E={right:"-"+(I.width-I.overlap)+"px"},k={right:"0px"},L={left:"0px"},C={left:"-"+I.width+"px"};break;case P:x="50% 100%",w="rotateX( -30deg ) translateY( 100% ) translateY( -"+I.overlap+"px )",Y="50% 100%",D="translateY( -"+I.height+"px ) rotateX( 15deg )",E={bottom:"-"+(I.height-I.overlap)+"px"},k={bottom:"0px"},L={top:"0px"},C={top:"-"+I.height+"px"};break;default:x="100% 50%",w="translateX( -100% ) translateX( "+I.overlap+"px ) scale( 1.01 ) rotateY( -30deg )",Y="0 50%",D="translateX( "+I.width+"px ) rotateY( 15deg )",E={left:"-"+(I.width-I.overlap)+"px"},k={left:"0px"},L={left:"0px"},C={left:I.width+"px"}}}function n(){Meny.addClass(A.wrapper,"meny-"+I.position),A.wrapper.style[Meny.prefix("perspective")]="800px",A.wrapper.style[Meny.prefix("perspectiveOrigin")]=Y}function i(){A.cover=document.createElement("div"),A.cover.style.position="absolute",A.cover.style.display="block",A.cover.style.width="100%",A.cover.style.height="100%",A.cover.style.left=0,A.cover.style.top=0,A.cover.style.zIndex=1e3,A.cover.style.visibility="hidden",A.cover.style.opacity=0;try{A.cover.style.background="rgba( 0, 0, 0, 0.4 )",A.cover.style.background="-ms-linear-gradient("+I.position+", rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)",A.cover.style.background="-moz-linear-gradient("+I.position+", rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)",A.cover.style.background="-webkit-linear-gradient("+I.position+", rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.65) 100%)"}catch(e){}F&&(A.cover.style[Meny.prefix("transition")]="all "+I.transitionDuration+" "+I.transitionEasing),A.contents.appendChild(A.cover)}function o(){var e=A.menu.style;switch(I.position){case z:e.width="100%",e.height=I.height+"px";break;case H:e.right="0",e.width=I.width+"px",e.height="100%";break;case P:e.bottom="0",e.width="100%",e.height=I.height+"px";break;case W:e.width=I.width+"px",e.height="100%"}e.position="fixed",e.display="block",e.zIndex=1,F?(e[Meny.prefix("transform")]=w,e[Meny.prefix("transformOrigin")]=x,e[Meny.prefix("transition")]="all "+I.transitionDuration+" "+I.transitionEasing):Meny.extend(e,E)}function r(){var e=A.contents.style;F?(e[Meny.prefix("transform")]=X,e[Meny.prefix("transformOrigin")]=Y,e[Meny.prefix("transition")]="all "+I.transitionDuration+" "+I.transitionEasing):(e.position=e.position.match(/relative|absolute|fixed/gi)?e.position:"relative",Meny.extend(e,L))}function a(){"ontouchstart"in window&&(Meny.bindEvent(document,"touchstart",d),Meny.bindEvent(document,"touchend",v)),Meny.bindEvent(document,"mousedown",p),Meny.bindEvent(document,"mouseup",u),Meny.bindEvent(document,"mousemove",l)}function s(){B||(B=!0,Meny.addClass(A.wrapper,"meny-active"),A.cover.style.height=A.contents.scrollHeight+"px",A.cover.style.visibility="visible",F?(A.cover.style.opacity=1,A.contents.style[Meny.prefix("transform")]=D,A.menu.style[Meny.prefix("transform")]=M):(N&&N.stop(),N=Meny.animate(A.menu,k,500),O&&O.stop(),O=Meny.animate(A.contents,C,500),T&&T.stop(),T=Meny.animate(A.cover,{opacity:1},500)),Meny.dispatchEvent(A.menu,"open"))}function c(){B&&(B=!1,Meny.removeClass(A.wrapper,"meny-active"),F?(A.cover.style.visibility="hidden",A.cover.style.opacity=0,A.contents.style[Meny.prefix("transform")]=X,A.menu.style[Meny.prefix("transform")]=w):(N&&N.stop(),N=Meny.animate(A.menu,E,500),O&&O.stop(),O=Meny.animate(A.contents,L,500),T&&T.stop(),T=Meny.animate(A.cover,{opacity:0},500,function(){A.cover.style.visibility="hidden"})),Meny.dispatchEvent(A.menu,"close"))}function p(){G=!0}function l(e){if(!G){var t=e.clientX-Q,n=e.clientY-U;switch(I.position){case z:n>I.height?c():n<I.threshold&&s();break;case H:var i=A.wrapper.offsetWidth;t<i-I.width?c():t>i-I.threshold&&s();break;case P:var o=A.wrapper.offsetHeight;n<o-I.height?c():n>o-I.threshold&&s();break;case W:t>I.width?c():t<I.threshold&&s()}}}function u(){G=!1}function d(e){Z=e.touches[0].clientX-Q,$=e.touches[0].clientY-U,j=null,q=null,Meny.bindEvent(document,"touchmove",h)}function h(e){j=e.touches[0].clientX-Q,q=e.touches[0].clientY-U;var t=null;Math.abs(j-Z)>Math.abs(q-$)?j<Z-I.threshold?t=m:j>Z+I.threshold&&(t=y):q<$-I.threshold?t=b:q>$+I.threshold&&(t=g),t&&t()&&e.preventDefault()}function v(){Meny.unbindEvent(document,"touchmove",h),null===j&&null===q&&f()}function f(){var e=I.position===z&&$>I.height||I.position===H&&Z<A.wrapper.offsetWidth-I.width||I.position===P&&$<A.wrapper.offsetHeight-I.height||I.position===W&&Z<I.width;e&&c()}function y(){return I.position===H&&B?(c(),!0):I.position!==W||B?void 0:(s(),!0)}function m(){return I.position!==H||B?I.position===W&&B?(c(),!0):void 0:(s(),!0)}function g(){return I.position===P&&B?(c(),!0):I.position!==z||B?void 0:(s(),!0)}function b(){return I.position!==P||B?I.position===z&&B?(c(),!0):void 0:(s(),!0)}if(!e||!e.menuElement||!e.contentsElement)throw"You need to specify which menu and contents elements to use.";if(e.menuElement.parentNode!==e.contentsElement.parentNode)throw"The menu and contents elements must have the same parent.";var x,w,M,E,k,Y,X,D,L,C,N,O,T,z="top",H="right",P="bottom",W="left",F="WebkitPerspective"in document.body.style||"MozPerspective"in document.body.style||"msPerspective"in document.body.style||"OPerspective"in document.body.style||"perspective"in document.body.style,I={width:300,height:300,position:W,threshold:40,overlap:6,transitionDuration:"0.5s",transitionEasing:"ease"},A={menu:e.menuElement,contents:e.contentsElement,wrapper:e.menuElement.parentNode,cover:null},Q=A.wrapper.offsetLeft,U=A.wrapper.offsetTop,Z=null,$=null,j=null,q=null,B=!1,G=!1;return Meny.extend(I,e),t(),n(),i(),o(),r(),a(),{open:s,close:c,isOpen:function(){return B},addEventListener:function(e,t){A.menu&&Meny.bindEvent(A.menu,e,t)},removeEventListener:function(e,t){A.menu&&Meny.unbindEvent(A.menu,e,t)}}}()},animate:function(e,t,n,i){return function(){function o(){var t=1-Math.pow(1-(Date.now()-p)/n,5);for(var s in a){var l=a[s];e.style[s]=l.start+(l.end-l.start)*t+l.unit}1>t?c=setTimeout(o,1e3/60):(i&&i(),r())}function r(){clearTimeout(c)}var a={};for(var s in t)a[s]={start:parseFloat(e.style[s])||0,end:parseFloat(t[s]),unit:"string"==typeof t[s]&&t[s].match(/px|em|%/gi)?t[s].match(/px|em|%/gi)[0]:""};var c,p=Date.now();return o(),{stop:r}}()},extend:function(e,t){for(var n in t)e[n]=t[n]},prefix:function(e,t){for(var n=e.slice(0,1).toUpperCase()+e.slice(1),i=["Webkit","Moz","O","ms"],o=0,r=i.length;r>o;o++){var a=i[o];if("undefined"!=typeof(t||document.body).style[a+n])return a+n}return e},addClass:function(e,t){e.className=e.className.replace(/\s+$/gi,"")+" "+t},removeClass:function(e,t){e.className=e.className.replace(t,"")},bindEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},unbindEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},dispatchEvent:function(e,t,n){if(e){var i=document.createEvent("HTMLEvents",1,2);i.initEvent(t,!0,!0),Meny.extend(i,n),e.dispatchEvent(i)}},getQuery:function(){var e={};return location.search.replace(/[A-Z0-9]+?=([\w|:|\/\.]*)/gi,function(t){e[t.split("=").shift()]=t.split("=").pop()}),e}};"function"!=typeof Date.now&&(Date.now=function(){return(new Date).getTime()});