!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){!function(e){function t(e,t,n){return t>e&&(e=t),e>n&&(e=n),e}var n="mmenu",o="dragOpen";e[n].addons[o]={_init:function(){},_setup:function(){if(this.opts.offCanvas){var i=this,p=this.opts[o],f=this.conf[o];if("boolean"==typeof p&&(p={open:p}),"object"!=typeof p&&(p={}),p=e.extend(!0,{},e[n].defaults[o],p),p.open){if(Hammer.VERSION<2)return;var d,c,h,u,m={},g=0,l=!1,v=!1,_=0,w=0;switch(this.opts.offCanvas.position){case"left":case"right":m.events="panleft panright",m.typeLower="x",m.typeUpper="X",v="width";break;case"top":case"bottom":m.events="panup pandown",m.typeLower="y",m.typeUpper="Y",v="height"}switch(this.opts.offCanvas.position){case"left":case"top":m.negative=!1;break;case"right":case"bottom":m.negative=!0}switch(this.opts.offCanvas.position){case"left":m.open_dir="right",m.close_dir="left";break;case"right":m.open_dir="left",m.close_dir="right";break;case"top":m.open_dir="down",m.close_dir="up";break;case"bottom":m.open_dir="up",m.close_dir="down"}var b=this.__valueOrFn(p.pageNode,this.$menu,r.$page);"string"==typeof b&&(b=e(b));var y=r.$page;switch(this.opts.offCanvas.zposition){case"front":y=this.$menu;break;case"next":y=y.add(this.$menu)}var x=new Hammer(b[0],p.vendors.hammer);x.on("panstart",function(e){switch(u=e.center[m.typeLower],i.opts.offCanvas.position){case"right":case"bottom":u>=r.$wndw[v]()-p.maxStartPos&&(g=1);break;default:u<=p.maxStartPos&&(g=1)}l=m.open_dir}).on(m.events+" panend",function(e){g>0&&e.preventDefault()}).on(m.events,function(e){if(d=e["delta"+m.typeUpper],m.negative&&(d=-d),d!=_&&(l=d>=_?m.open_dir:m.close_dir),_=d,_>p.threshold&&1==g){if(r.$html.hasClass(a.opened))return;g=2,i._openSetup(),i.$menu.trigger(s.opening),r.$html.addClass(a.dragging),w=t(r.$wndw[v]()*f[v].perc,f[v].min,f[v].max)}2==g&&(c=t(_,10,w)-("front"==i.opts.offCanvas.zposition?w:0),m.negative&&(c=-c),h="translate"+m.typeUpper+"("+c+"px )",y.css({"-webkit-transform":"-webkit-"+h,transform:h}))}).on("panend",function(){2==g&&(r.$html.removeClass(a.dragging),y.css("transform",""),i[l==m.open_dir?"_openFinish":"close"]()),g=0})}}},_add:function(){return"function"!=typeof Hammer?(e[n].addons[o]._init=function(){},void(e[n].addons[o]._setup=function(){})):(a=e[n]._c,i=e[n]._d,s=e[n]._e,a.add("dragging"),void(r=e[n].glbl))}},e[n].defaults[o]={open:!1,maxStartPos:100,threshold:50,vendors:{hammer:{}}},e[n].configuration[o]={width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}};var a,i,s,r}(e)});