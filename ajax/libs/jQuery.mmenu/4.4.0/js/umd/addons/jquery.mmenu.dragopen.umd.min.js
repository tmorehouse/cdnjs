!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){!function(e){function t(t){return"boolean"==typeof t&&(t={open:t}),"object"!=typeof t&&(t={}),t=e.extend(!0,{},e[f].defaults[d],t)}function o(e){return e}function n(){c=!0,s=e[f]._c,i=e[f]._d,r=e[f]._e,s.add("dragging"),p=e[f].glbl}function a(e,t,o){return t>e&&(e=t),e>o&&(e=o),e}var s,i,r,p,f="mmenu",d="dragOpen",c=!1;e[f].prototype["_init_"+d]=function(){if("function"==typeof Hammer&&this.opts.offCanvas&&!this.vars[d+"_added"]){this.vars[d+"_added"]=!0,c||n(),this.opts[d]=t(this.opts[d]),this.conf[d]=o(this.conf[d]);var i=this,r=this.opts[d],h=this.conf[d];if(r.open){if(Hammer.VERSION<2)return e[f].deprecated("Older version of the Hammer library","version 2 or newer"),!1;var u={},m=0,l=!1,v=!1,g=0,_=0;switch(this.opts.offCanvas.position){case"left":case"right":u.events="panleft panright",u.typeLower="x",u.typeUpper="X",v="width";break;case"top":case"bottom":u.events="panup pandown",u.typeLower="y",u.typeUpper="Y",v="height"}switch(this.opts.offCanvas.position){case"left":case"top":u.negative=!1;break;case"right":case"bottom":u.negative=!0}switch(this.opts.offCanvas.position){case"left":u.open_dir="right",u.close_dir="left";break;case"right":u.open_dir="left",u.close_dir="right";break;case"top":u.open_dir="down",u.close_dir="up";break;case"bottom":u.open_dir="up",u.close_dir="down"}var b=this.__valueOrFn(r.pageNode,this.$menu,p.$page);"string"==typeof b&&(b=e(b));var w=p.$page.find("."+s.mm("fixed-top")+", ."+s.mm("fixed-bottom")),y=p.$page;switch(this.opts.offCanvas.zposition){case"back":y=y.add(w);break;case"front":y=this.$menu;break;case"next":y=y.add(this.$menu).add(w)}var x=new Hammer(b[0]);x.on("panstart",function(e){var t=e.center[u.typeLower];switch(i.opts.offCanvas.position){case"right":case"bottom":t>=p.$wndw[v]()-r.maxStartPos&&(m=1);break;default:t<=r.maxStartPos&&(m=1)}}).on(u.events+" panend",function(e){m>0&&e.preventDefault()}).on(u.events,function(e){var t=u.negative?-e["delta"+u.typeUpper]:e["delta"+u.typeUpper];if(l=t>=g?u.open_dir:u.close_dir,g=t,g>r.threshold&&1==m){if(p.$html.hasClass(s.opened))return;m=2,i._openSetup(),p.$html.addClass(s.dragging),_=a(p.$wndw[v]()*h[v].perc,h[v].min,h[v].max)}2==m&&y.css(i.opts.offCanvas.position,a(g,10,_)-("front"==i.opts.offCanvas.zposition?_:0))}).on("panend",function(){2==m&&(p.$html.removeClass(s.dragging),y.css(i.opts.offCanvas.position,""),i[l==u.open_dir?"_openFinish":"close"]()),m=0})}}},e[f].addons.push(d),e[f].defaults[d]={open:!1,maxStartPos:100,threshold:50},e[f].configuration[d]={width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}}}(e)});