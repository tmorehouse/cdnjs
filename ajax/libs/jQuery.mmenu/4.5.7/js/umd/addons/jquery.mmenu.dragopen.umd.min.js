!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){!function(e){function t(e,t,n){return t>e&&(e=t),e>n&&(e=n),e}function n(t){return"boolean"==typeof t&&(t={open:t}),"object"!=typeof t&&(t={}),t=e.extend(!0,{},e[a].defaults[s],t)}function o(e){return e}function i(){c=!0,r=e[a]._c,p=e[a]._d,f=e[a]._e,r.add("dragging"),d=e[a].glbl}var a="mmenu",s="dragOpen";e[a].prototype["_init_"+s]=function(){if("function"==typeof Hammer&&this.opts.offCanvas&&!this.vars[s+"_added"]){this.vars[s+"_added"]=!0,c||i(),this.opts[s]=n(this.opts[s]),this.conf[s]=o(this.conf[s]);var p=this,h=this.opts[s],u=this.conf[s];if(h.open){if(Hammer.VERSION<2)return e[a].deprecated("Older version of the Hammer library","version 2 or newer"),!1;var m,g,l,v,_={},w=0,y=!1,b=!1,x=0,$=0;switch(this.opts.offCanvas.position){case"left":case"right":_.events="panleft panright",_.typeLower="x",_.typeUpper="X",b="width";break;case"top":case"bottom":_.events="panup pandown",_.typeLower="y",_.typeUpper="Y",b="height"}switch(this.opts.offCanvas.position){case"left":case"top":_.negative=!1;break;case"right":case"bottom":_.negative=!0}switch(this.opts.offCanvas.position){case"left":_.open_dir="right",_.close_dir="left";break;case"right":_.open_dir="left",_.close_dir="right";break;case"top":_.open_dir="down",_.close_dir="up";break;case"bottom":_.open_dir="up",_.close_dir="down"}var C=this.__valueOrFn(h.pageNode,this.$menu,d.$page);"string"==typeof C&&(C=e(C));var k=d.$page;switch(this.opts.offCanvas.zposition){case"front":k=this.$menu;break;case"next":k=k.add(this.$menu)}var j=new Hammer(C[0]);j.on("panstart",function(e){switch(v=e.center[_.typeLower],p.opts.offCanvas.position){case"right":case"bottom":v>=d.$wndw[b]()-h.maxStartPos&&(w=1);break;default:v<=h.maxStartPos&&(w=1)}y=_.open_dir}).on(_.events+" panend",function(e){w>0&&e.preventDefault()}).on(_.events,function(e){if(m=e["delta"+_.typeUpper],_.negative&&(m=-m),m!=x&&(y=m>=x?_.open_dir:_.close_dir),x=m,x>h.threshold&&1==w){if(d.$html.hasClass(r.opened))return;w=2,p._openSetup(),p.$menu.trigger(f.opening),d.$html.addClass(r.dragging),$=t(d.$wndw[b]()*u[b].perc,u[b].min,u[b].max)}2==w&&(g=t(x,10,$)-("front"==p.opts.offCanvas.zposition?$:0),_.negative&&(g=-g),l="translate"+_.typeUpper+"("+g+"px )",k.css({"-webkit-transform":"-webkit-"+l,transform:l}))}).on("panend",function(){2==w&&(d.$html.removeClass(r.dragging),k.css("transform",""),p[y==_.open_dir?"_openFinish":"close"]()),w=0})}}},e[a].addons.push(s),e[a].defaults[s]={open:!1,maxStartPos:100,threshold:50},e[a].configuration[s]={width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}};var r,p,f,d,c=!1}(e)});