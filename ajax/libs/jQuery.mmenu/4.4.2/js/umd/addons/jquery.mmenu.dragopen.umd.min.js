!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){!function(e){function t(e,t,o){return t>e&&(e=t),e>o&&(e=o),e}function o(t){return"boolean"==typeof t&&(t={open:t}),"object"!=typeof t&&(t={}),t=e.extend(!0,{},e[s].defaults[i],t)}function n(e){return e}function a(){c=!0,r=e[s]._c,p=e[s]._d,f=e[s]._e,r.add("dragging"),d=e[s].glbl}var s="mmenu",i="dragOpen";e[s].prototype["_init_"+i]=function(){if("function"==typeof Hammer&&this.opts.offCanvas&&!this.vars[i+"_added"]){this.vars[i+"_added"]=!0,c||a(),this.opts[i]=o(this.opts[i]),this.conf[i]=n(this.conf[i]);var p=this,f=this.opts[i],h=this.conf[i];if(f.open){if(Hammer.VERSION<2)return e[s].deprecated("Older version of the Hammer library","version 2 or newer"),!1;var u={},m=0,l=!1,v=!1,g=0,_=0;switch(this.opts.offCanvas.position){case"left":case"right":u.events="panleft panright",u.typeLower="x",u.typeUpper="X",v="width";break;case"top":case"bottom":u.events="panup pandown",u.typeLower="y",u.typeUpper="Y",v="height"}switch(this.opts.offCanvas.position){case"left":case"top":u.negative=!1;break;case"right":case"bottom":u.negative=!0}switch(this.opts.offCanvas.position){case"left":u.open_dir="right",u.close_dir="left";break;case"right":u.open_dir="left",u.close_dir="right";break;case"top":u.open_dir="down",u.close_dir="up";break;case"bottom":u.open_dir="up",u.close_dir="down"}var b=this.__valueOrFn(f.pageNode,this.$menu,d.$page);"string"==typeof b&&(b=e(b));var w=d.$page.find("."+r.mm("fixed-top")+", ."+r.mm("fixed-bottom")),y=d.$page;switch(this.opts.offCanvas.zposition){case"back":y=y.add(w);break;case"front":y=this.$menu;break;case"next":y=y.add(this.$menu).add(w)}var x=new Hammer(b[0]);x.on("panstart",function(e){var t=e.center[u.typeLower];switch(p.opts.offCanvas.position){case"right":case"bottom":t>=d.$wndw[v]()-f.maxStartPos&&(m=1);break;default:t<=f.maxStartPos&&(m=1)}}).on(u.events+" panend",function(e){m>0&&e.preventDefault()}).on(u.events,function(e){var o=u.negative?-e["delta"+u.typeUpper]:e["delta"+u.typeUpper];if(l=o>=g?u.open_dir:u.close_dir,g=o,g>f.threshold&&1==m){if(d.$html.hasClass(r.opened))return;m=2,p._openSetup(),d.$html.addClass(r.dragging),_=t(d.$wndw[v]()*h[v].perc,h[v].min,h[v].max)}2==m&&y.css(p.opts.offCanvas.position,t(g,10,_)-("front"==p.opts.offCanvas.zposition?_:0))}).on("panend",function(){2==m&&(d.$html.removeClass(r.dragging),y.css(p.opts.offCanvas.position,""),p[l==u.open_dir?"_openFinish":"close"]()),m=0})}}},e[s].addons.push(i),e[s].defaults[i]={open:!1,maxStartPos:100,threshold:50},e[s].configuration[i]={width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}};var r,p,f,d,c=!1}(e)});