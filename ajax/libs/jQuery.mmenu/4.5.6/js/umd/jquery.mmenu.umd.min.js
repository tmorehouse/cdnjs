!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){!function(e){function n(n,t,s){if(s)return"object"!=typeof n&&(n={}),n;n=e.extend(!0,{},e[o].defaults,n);for(var i=["position","zposition","modal","moveBackground"],a=0,l=i.length;l>a;a++)"undefined"!=typeof n[i[a]]&&(e[o].deprecated('The option "'+i[a]+'"',"offCanvas."+i[a]),n.offCanvas=n.offCanvas||{},n.offCanvas[i[a]]=n[i[a]]);return n}function t(n){n=e.extend(!0,{},e[o].configuration,n);for(var t=["panel","list","selected","label","spacer"],s=0,i=t.length;i>s;s++)"undefined"!=typeof n[t[s]+"Class"]&&(e[o].deprecated('The configuration option "'+t[s]+'Class"',"classNames."+t[s]),n.classNames[t[s]]=n[t[s]+"Class"]);if("undefined"!=typeof n.counterClass&&(e[o].deprecated('The configuration option "counterClass"',"classNames.counters.counter"),n.classNames.counters=n.classNames.counters||{},n.classNames.counters.counter=n.counterClass),"undefined"!=typeof n.collapsedClass&&(e[o].deprecated('The configuration option "collapsedClass"',"classNames.labels.collapsed"),n.classNames.labels=n.classNames.labels||{},n.classNames.labels.collapsed=n.collapsedClass),"undefined"!=typeof n.header)for(var t=["panelHeader","panelNext","panelPrev"],s=0,i=t.length;i>s;s++)"undefined"!=typeof n.header[t[s]+"Class"]&&(e[o].deprecated('The configuration option "header.'+t[s]+'Class"',"classNames.header."+t[s]),n.classNames.header=n.classNames.header||{},n.classNames.header[t[s]]=n.header[t[s]+"Class"]);for(var t=["pageNodetype","pageSelector","menuWrapperSelector","menuInjectMethod"],s=0,i=t.length;i>s;s++)"undefined"!=typeof n[t[s]]&&(e[o].deprecated('The configuration option "'+t[s]+'"',"offCanvas."+t[s]),n.offCanvas=n.offCanvas||{},n.offCanvas[t[s]]=n[t[s]]);return n}function s(){d=!0,p.$wndw=e(window),p.$html=e("html"),p.$body=e("body"),e.each([a,l,r],function(e,n){n.add=function(e){e=e.split(" ");for(var t in e)n[e[t]]=n.mm(e[t])}}),a.mm=function(e){return"mm-"+e},a.add("wrapper menu inline panel nopanel list nolist subtitle selected label spacer current highest hidden opened subopened subopen fullsubopen subclose"),a.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},l.mm=function(e){return"mm-"+e},l.add("parent"),r.mm=function(e){return e+".mm"},r.add("toggle open close setSelected transitionend webkitTransitionEnd mousedown mouseup touchstart touchmove touchend scroll resize click keydown keyup"),e[o]._c=a,e[o]._d=l,e[o]._e=r,e[o].glbl=p}var o="mmenu",i="4.5.6";if(!e[o]){var a={},l={},r={},d=!1,p={$wndw:null,$html:null,$body:null};e[o]=function(e,t,s){return this.$menu=e,this.opts=t,this.conf=s,this.vars={},this.opts=n(this.opts,this.conf,this.$menu),this._initMenu(),this._init(this.$menu.children(this.conf.panelNodetype)),this},e[o].version=i,e[o].addons=[],e[o].uniqueId=0,e[o].defaults={classes:"",slidingSubmenus:!0,onClick:{setSelected:!0}},e[o].configuration={panelNodetype:"ul, ol, div",transitionDuration:400,openingInterval:25,classNames:{panel:"Panel",selected:"Selected",label:"Label",spacer:"Spacer"}},e[o].prototype={_init:function(n){n=n.not("."+a.nopanel),n=this._initPanels(n),n=this._initLinks(n),n=this._bindCustomEvents(n);for(var t=0;t<e[o].addons.length;t++)"function"==typeof this["_init_"+e[o].addons[t]]&&this["_init_"+e[o].addons[t]](n);this._update()},_initMenu:function(){this.opts.offCanvas&&this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){e(this).attr("id",a.mm(e(this).attr("id")))})),this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()}),this.$menu.parent().addClass(a.wrapper);var n=[a.menu];n.push(a.mm(this.opts.slidingSubmenus?"horizontal":"vertical")),this.opts.classes&&n.push(this.opts.classes),this.$menu.addClass(n.join(" "))},_initPanels:function(n){var t=this;this.__findAddBack(n,"ul, ol").not("."+a.nolist).addClass(a.list);var s=this.__findAddBack(n,"."+a.list).find("> li");this.__refactorClass(s,this.conf.classNames.selected,"selected"),this.__refactorClass(s,this.conf.classNames.label,"label"),this.__refactorClass(s,this.conf.classNames.spacer,"spacer"),s.off(r.setSelected).on(r.setSelected,function(n,t){n.stopPropagation(),s.removeClass(a.selected),"boolean"!=typeof t&&(t=!0),t&&e(this).addClass(a.selected)}),this.__refactorClass(this.__findAddBack(n,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel"),n.add(this.__findAddBack(n,"."+a.list).children().children().filter(this.conf.panelNodetype).not("."+a.nopanel)).addClass(a.panel);var o=this.__findAddBack(n,"."+a.panel),i=e("."+a.panel,this.$menu);o.each(function(){var n=e(this),s=n.attr("id")||t.__getUniqueId();n.attr("id",s)}),o.each(function(){var n=e(this),s=n.is("ul, ol")?n:n.find("ul ,ol").first(),o=n.parent(),i=o.find("> a, > span"),r=o.closest("."+a.panel);if(o.parent().is("."+a.list)){n.data(l.parent,o);var d=e('<a class="'+a.subopen+'" href="#'+n.attr("id")+'" />').insertBefore(i);i.is("a")||d.addClass(a.fullsubopen),t.opts.slidingSubmenus&&s.prepend('<li class="'+a.subtitle+'"><a class="'+a.subclose+'" href="#'+r.attr("id")+'">'+i.text()+"</a></li>")}});var d=this.opts.slidingSubmenus?r.open:r.toggle;if(i.each(function(){var n=e(this),t=n.attr("id");e('a[href="#'+t+'"]',i).off(r.click).on(r.click,function(e){e.preventDefault(),n.trigger(d)})}),this.opts.slidingSubmenus){var p=this.__findAddBack(n,"."+a.list).find("> li."+a.selected);p.parents("li").removeClass(a.selected).end().add(p.parents("li")).each(function(){var n=e(this),t=n.find("> ."+a.panel);t.length&&(n.parents("."+a.panel).addClass(a.subopened),t.addClass(a.opened))}).closest("."+a.panel).addClass(a.opened).parents("."+a.panel).addClass(a.subopened)}else{var p=e("li."+a.selected,i);p.parents("li").removeClass(a.selected).end().add(p.parents("li")).addClass(a.opened)}var c=i.filter("."+a.opened);return c.length||(c=o.first()),c.addClass(a.opened).last().addClass(a.current),this.opts.slidingSubmenus&&o.not(c.last()).addClass(a.hidden).end().appendTo(this.$menu),o},_initLinks:function(n){var t=this;return this.__findAddBack(n,"."+a.list).find("> li > a").not("."+a.subopen).not("."+a.subclose).not('[rel="external"]').not('[target="_blank"]').off(r.click).on(r.click,function(n){var s=e(this),o=s.attr("href")||"";t.__valueOrFn(t.opts.onClick.setSelected,s)&&s.parent().trigger(r.setSelected);var i=t.__valueOrFn(t.opts.onClick.preventDefault,s,"#"==o.slice(0,1));i&&n.preventDefault(),t.__valueOrFn(t.opts.onClick.blockUI,s,!i)&&p.$html.addClass(a.blocking),t.__valueOrFn(t.opts.onClick.close,s,i)&&t.$menu.triggerHandler(r.close)}),n},_bindCustomEvents:function(n){var t=this;return n.off(r.toggle+" "+r.open+" "+r.close).on(r.toggle+" "+r.open+" "+r.close,function(e){e.stopPropagation()}),this.opts.slidingSubmenus?n.on(r.open,function(){return t._openSubmenuHorizontal(e(this))}):n.on(r.toggle,function(){var n=e(this);return n.triggerHandler(n.parent().hasClass(a.opened)?r.close:r.open)}).on(r.open,function(){return e(this).parent().addClass(a.opened),"open"}).on(r.close,function(){return e(this).parent().removeClass(a.opened),"close"}),n},_openSubmenuHorizontal:function(n){if(n.hasClass(a.current))return!1;var t=e("."+a.panel,this.$menu),s=t.filter("."+a.current);return t.removeClass(a.highest).removeClass(a.current).not(n).not(s).addClass(a.hidden),n.hasClass(a.opened)?s.addClass(a.highest).removeClass(a.opened).removeClass(a.subopened):(n.addClass(a.highest),s.addClass(a.subopened)),n.removeClass(a.hidden).addClass(a.current),setTimeout(function(){n.removeClass(a.subopened).addClass(a.opened)},this.conf.openingInterval),"open"},_update:function(e){if(this.updates||(this.updates=[]),"function"==typeof e)this.updates.push(e);else for(var n=0,t=this.updates.length;t>n;n++)this.updates[n].call(this,e)},__valueOrFn:function(e,n,t){return"function"==typeof e?e.call(n[0]):"undefined"==typeof e&&"undefined"!=typeof t?t:e},__refactorClass:function(e,n,t){e.filter("."+n).removeClass(n).addClass(a[t])},__findAddBack:function(e,n){return e.find(n).add(e.filter(n))},__transitionend:function(e,n,t){var s=!1,o=function(){s||n.call(e[0]),s=!0};e.one(r.transitionend,o),e.one(r.webkitTransitionEnd,o),setTimeout(o,1.1*t)},__getUniqueId:function(){return a.mm(e[o].uniqueId++)}},e.fn[o]=function(i,a){return d||s(),i=n(i,a),a=t(a),this.each(function(){var n=e(this);n.data(o)||n.data(o,new e[o](n,i,a))})},e[o].support={touch:"ontouchstart"in window.document},e[o].debug=function(){},e[o].deprecated=function(e,n){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn("MMENU: "+e+" is deprecated, use "+n+" instead.")}}}(e),!function(e){function n(n){return("top"==n.position||"bottom"==n.position)&&("back"==n.zposition||"next"==n.zposition)&&(e[o].deprecated('Using position "'+n.position+'" in combination with zposition "'+n.zposition+'"','zposition "front"'),n.zposition="front"),n}function t(e){return"string"!=typeof e.pageSelector&&(e.pageSelector="> "+e.pageNodetype),e}function s(){p=!0,a=e[o]._c,l=e[o]._d,r=e[o]._e,a.add("offcanvas modal background opening blocker page"),l.add("style"),r.add("opening opened closing closed setPage"),d=e[o].glbl,d.$allMenus=(d.$allMenus||e()).add(this.$menu),d.$wndw.on(r.keydown,function(e){return d.$html.hasClass(a.opened)&&9==e.keyCode?(e.preventDefault(),!1):void 0});var n=0;d.$wndw.on(r.resize,function(e,t){if(t||d.$html.hasClass(a.opened)){var s=d.$wndw.height();(t||s!=n)&&(n=s,d.$page.css("minHeight",s))}})}var o="mmenu",i="offCanvas";e[o].prototype["_init_"+i]=function(){if(this.opts[i]&&!this.vars[i+"_added"]){this.vars[i+"_added"]=!0,p||s(),this.opts[i]=n(this.opts[i]),this.conf[i]=t(this.conf[i]);var e=this.opts[i],o=this.conf[i],l=[a.offcanvas];"boolean"!=typeof this.vars.opened&&(this.vars.opened=!1),"left"!=e.position&&l.push(a.mm(e.position)),"back"!=e.zposition&&l.push(a.mm(e.zposition)),this.$menu.addClass(l.join(" ")).parent().removeClass(a.wrapper),this[i+"_initPage"](d.$page),this[i+"_initBlocker"](),this[i+"_initOpenClose"](),this[i+"_bindCustomEvents"](),this.$menu[o.menuInjectMethod+"To"](o.menuWrapperSelector)}},e[o].addons.push(i),e[o].defaults[i]={position:"left",zposition:"back",modal:!1,moveBackground:!0},e[o].configuration[i]={pageNodetype:"div",pageSelector:null,menuWrapperSelector:"body",menuInjectMethod:"prepend"},e[o].prototype.open=function(){if(this.vars.opened)return!1;var e=this;return this._openSetup(),setTimeout(function(){e._openFinish()},this.conf.openingInterval),"open"},e[o].prototype._openSetup=function(){d.$allMenus.not(this.$menu).trigger(r.close),d.$page.data(l.style,d.$page.attr("style")||""),d.$wndw.trigger(r.resize,[!0]);var e=[a.opened];this.opts[i].modal&&e.push(a.modal),this.opts[i].moveBackground&&e.push(a.background),"left"!=this.opts[i].position&&e.push(a.mm(this.opts[i].position)),"back"!=this.opts[i].zposition&&e.push(a.mm(this.opts[i].zposition)),this.opts.classes&&e.push(this.opts.classes),d.$html.addClass(e.join(" ")),this.vars.opened=!0,this.$menu.addClass(a.current+" "+a.opened)},e[o].prototype._openFinish=function(){var e=this;this.__transitionend(d.$page,function(){e.$menu.trigger(r.opened)},this.conf.transitionDuration),d.$html.addClass(a.opening),this.$menu.trigger(r.opening)},e[o].prototype.close=function(){if(!this.vars.opened)return!1;var e=this;return this.__transitionend(d.$page,function(){e.$menu.removeClass(a.current).removeClass(a.opened),d.$html.removeClass(a.opened).removeClass(a.modal).removeClass(a.background).removeClass(a.mm(e.opts[i].position)).removeClass(a.mm(e.opts[i].zposition)),e.opts.classes&&d.$html.removeClass(e.opts.classes),d.$page.attr("style",d.$page.data(l.style)),e.vars.opened=!1,e.$menu.trigger(r.closed)},this.conf.transitionDuration),d.$html.removeClass(a.opening),this.$menu.trigger(r.closing),"close"},e[o].prototype[i+"_initBlocker"]=function(){var n=this;d.$blck||(d.$blck=e('<div id="'+a.blocker+'" />').appendTo(d.$body)),d.$blck.off(r.touchstart).on(r.touchstart,function(e){e.preventDefault(),e.stopPropagation(),d.$blck.trigger(r.mousedown)}).on(r.mousedown,function(e){e.preventDefault(),d.$html.hasClass(a.modal)||n.close()})},e[o].prototype[i+"_initPage"]=function(n){n||(n=e(this.conf[i].pageSelector,d.$body),n.length>1&&(e[o].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf[i].pageNodetype+">."),n=n.wrapAll("<"+this.conf[i].pageNodetype+" />").parent())),n.addClass(a.page),d.$page=n},e[o].prototype[i+"_initOpenClose"]=function(){var n=this,t=this.$menu.attr("id");t&&t.length&&(this.conf.clone&&(t=a.umm(t)),e('a[href="#'+t+'"]').off(r.click).on(r.click,function(e){e.preventDefault(),n.open()}));var t=d.$page.attr("id");t&&t.length&&e('a[href="#'+t+'"]').on(r.click,function(e){e.preventDefault(),n.close()})},e[o].prototype[i+"_bindCustomEvents"]=function(){var e=this,n=r.open+" "+r.opening+" "+r.opened+" "+r.close+" "+r.closing+" "+r.closed+" "+r.setPage;this.$menu.off(n).on(n,function(e){e.stopPropagation()}),this.$menu.on(r.open,function(){e.open()}).on(r.close,function(){e.close()}).on(r.setPage,function(n,t){e[i+"_initPage"](t),e[i+"_initOpenClose"]()})};var a,l,r,d,p=!1}(e)});