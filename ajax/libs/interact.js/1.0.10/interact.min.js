/* interact.js v1.0.10 | https://raw.github.com/taye/interact.js/master/LICENSE */
!function(e){"use strict";function t(){}function n(e){return!!e&&("object"==typeof Element?e instanceof Element:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)}function i(e,t){o(t,et),e.pageX=et.x,e.pageY=et.y,s(t,et),e.clientX=et.x,e.clientY=et.y,e.timeStamp=(new Date).getTime()}function r(e,t,n){var i,r,o;return n=n||{},e=e||"page",t.touches?(i=t.touches.length?t.touches[0]:t.changedTouches[0],r=i[e+"X"],o=i[e+"Y"]):(r=t[e+"X"],o=t[e+"Y"]),n.x=r,n.y=o,n}function o(t,n){return n=n||{},t instanceof m?(n.x=t.pageX,n.y=t.pageY):jt?(r("screen",t,n),n.x+=e.scrollX,n.y+=e.scrollY):/gesture|inertia/i.test(t.type)?(r("client",t,n),n.x+=L.documentElement.scrollLeft,n.y+=L.documentElement.scrollTop):r("page",t,n),n}function s(e,t){return t=t||{},e instanceof m?(t.x=e.clientX,t.y=e.clientY):r(jt?"screen":"client",e,t),t}function a(){return{x:e.scrollX||L.documentElement.scrollLeft,y:e.scrollY||L.documentElement.scrollTop}}function l(e){var t=/ipad|iphone|ipod/i.test(navigator.userAgent)?{x:0,y:0}:a(),n=e instanceof N?e.getBoundingClientRect():e.getClientRects()[0];return{left:n.left+t.x,right:n.right+t.x,top:n.top+t.y,bottom:n.bottom+t.y,width:n.width||n.right-n.left,height:n.heigh||n.bottom-n.top}}function c(e){var t,n=e.touches,i=0,r=0,o=0,s=0;for(t=0;t<n.length;t++)i+=n[t].pageX/n.length,r+=n[t].pageY/n.length,o+=n[t].clientX/n.length,s+=n[t].clientY/n.length;return{pageX:i,pageY:r,clientX:o,clientY:s}}function u(e){if(e.touches.length){var t,n=e.touches,i=e.touches[0].pageX,r=e.touches[0].pageY,o=i,s=r;for(t=1;t<n.length;t++)i=i>e.touches[t].pageX?i:e.touches[t].pageX,r=i>e.touches[t].pageX?r:e.touches[t].pageY;return{left:i,top:r,width:o-i,height:s-r}}}function p(e){var t=(ut&&ut.options||gt).deltaSource,n=t+"X",i=t+"Y",r=e.touches[0][n],o=e.touches[0][i];return"touchend"===e.type&&1===e.touches.length?(r-=e.changedTouches[0][n],o-=e.changedTouches[0][i]):(r-=e.touches[1][n],o-=e.touches[1][i]),V(r,o)}function d(e,t){var n=(ut&&ut.options||gt).deltaSource,i=n+"X",r=n+"Y",o=e.touches[0][i],s=e.touches[0][r];"touchend"===e.type&&1===e.touches.length?(o-=e.changedTouches[0][i],s-=e.changedTouches[0][r]):(o-=e.touches[1][i],s-=e.touches[1][r]);var a=180*Math.atan(s/o)/Math.PI;if("number"==typeof t){var l=a-t,c=l%360;c>315?a-=360+a/360|0:c>135?a-=180+a/360|0:-315>c?a+=360+a/360|0:-135>c&&(a+=180+a/360|0)}return a}function h(e){e=e||ut;var t=e?e.options.origin:gt.origin;return n(t)?(t=k(t).getRect(),t.x=t.left,t.y=t.top):"function"==typeof t&&(t=t(e&&e._element)),t}function f(e){for(var t=0,n=e.length;n>t;t++)e[t].rect=e[t].getRect()}function g(e){if(e.length){var t,n,i,r,o,s=e[0],a=[],l=[];for(r=1;r<e.length;r++){if(t=e[r],!a.length)for(n=s;n.parentNode!==L;)a.unshift(n),n=n.parentNode;if(s instanceof $&&t instanceof N&&!(t instanceof G)){if(t===s.parentNode)continue;n=t.ownerSVGElement}else n=t;for(l=[];n.parentNode!==L;)l.unshift(n),n=n.parentNode;for(o=0;l[o]&&l[o]===a[o];)o++;var c=[l[o-1],l[o],a[o]];for(i=c[0].lastChild;i;){if(i===c[1]){s=t,a=[];break}if(i===c[2])break;i=i.previousSibling}}return{element:s,index:e.indexOf(s)}}}function y(e,t){if(it.length||st.length){var i,r,o,s=[],a=[],l=[],c=[];for(t=t||ut._element,i=0;i<it.length;i++){var u=it[i];if(n(u.options.accept)){if(u.options.accept!==t)continue}else if("string"==typeof u.options.accept&&!t[Pt](u.options.accept))continue;t!==u._element&&u.dropCheck(e)&&(s.push(u),a.push(u._element))}if(r=g(a),o=r?s[r.index]:null,st.length){for(i=0;i<st.length;i++)for(var p=st[i],d=L.querySelectorAll(p.selector),h=0,f=d.length;f>h;h++){if(p._element=d[h],p.rect=p.getRect(),n(p.options.accept)){if(p.options.accept!==t)continue}else if("string"==typeof p.options.accept&&!t[Pt](p.options.accept))continue;p._element!==t&&-1===a.indexOf(p._element)&&c.indexOf(-1===p._element)&&p.dropCheck(e)&&(l.push(p),c.push(p._element))}c.length&&(o&&(l.push(o),c.push(o._element)),r=g(c),r&&(o=l[r.index],o.selector&&(o._element=c[r.index])))}return o?{dropzone:o,element:o._element}:null}}function m(e,t,n,r,a){var l,f,g=(ut&&ut.options||gt).deltaSource,y=g+"X",v=g+"Y",x=ut?ut.options:gt,b=h(ut);if(r=r||ut._element,"gesture"===t){var E=c(e);f={x:E.pageX-b.x,y:E.pageY-b.y},l={x:E.clientX-b.x,y:E.clientY-b.y}}else f=o(e),l=s(e),f.x-=b.x,f.y-=b.y,l.x-=b.x,l.y-=b.y,x.snapEnabled&&-1!==x.snap.actions.indexOf(t)&&(this.snap={range:yt.range,locked:yt.locked,x:yt.x,y:yt.y,realX:yt.realX,realY:yt.realY,dx:yt.dx,dy:yt.dy},yt.locked&&(f.x+=yt.dx,f.y+=yt.dy,l.x+=yt.dx,l.y+=yt.dy));if(ut.options.restrict[t]&&mt.restricted&&(f.x+=mt.dx,f.y+=mt.dy,l.x+=mt.dx,l.y+=mt.dy,this.restrict={dx:mt.dx,dy:mt.dy}),this.pageX=f.x,this.pageY=f.y,this.clientX=l.x,this.clientY=l.y,"start"!==n||e instanceof m||i(H,this),this.x0=H.pageX,this.y0=H.pageY,this.clientX0=H.clientX,this.clientY0=H.clientY,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.target=r,this.t0=J,this.type=t+(n||""),a&&(this.relatedTarget=a),"end"===n||"drop"===t?"client"===g?(this.dx=l.x-H.clientX,this.dy=l.y-H.clientY):(this.dx=f.x-H.pageX,this.dy=f.y-H.pageY):"client"===g?(this.dx=l.x-Z.clientX,this.dy=l.y-Z.clientY):(this.dx=f.x-Z.pageX,this.dy=f.y-Z.pageY),"resize"===t?x.squareResize||e.shiftKey?("y"===Xt?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=Xt,"x"===Xt?this.dy=0:"y"===Xt&&(this.dx=0)):"gesture"===t&&(this.touches=e.touches,this.distance=p(e),this.box=u(e),"start"===n?(this.scale=1,this.ds=0,this.angle=d(e),this.da=0):(this.scale=this.distance/tt.startDistance,this.angle=d(e,tt.prevAngle),"end"===n?(this.da=this.angle-tt.startAngle,this.ds=this.scale-1):(this.da=this.angle-tt.prevAngle,this.ds=this.scale-tt.prevScale))),"start"===n)this.timeStamp=J,this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else{this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-Z.timeStamp,this.duration=this.timeStamp-J;var O,S,z;"end"===n||e instanceof m?(z=Math.max(("end"===n?this.duration:this.dt)/1e3,.001),O=this[y]-Z[y],S=this[v]-Z[v],this.snap&&this.snap.locked&&(O-=this.snap.dx,S-=this.snap.dy),this.restrict&&(O-=this.restrict.dx,S-=this.restrict.dy),Z.snap&&Z.snap.locked&&(O-=Z[y]-Z.snap.dx,S-=Z[v]-Z.snap.dy),Z.restrict&&(O+=Z.restrict.dx,S+=Z.restrict.dy),this.speed=V(O,S)/z,this.velocityX=O/z,this.velocityY=S/z):(O=U[y]-W[y],S=U[v]-W[v],z=Math.max((U.timeStamp-W.timeStamp)/1e3,.001),this.speed=V(O,S)/z,this.velocityX=O/z,this.velocityY=S/z)}}function v(e,t){if("string"!=typeof e)return null;t=t||ut;var n=-1!==e.indexOf("resize")?"resize":e,i=(t||ut).options;return("resize"===n&&i.resizable||"drag"===e&&i.draggable||"gesture"===e&&i.gesturable)&&At[n]?(("resize"===e||"resizeyx"===e)&&(e="resizexy"),e):null}function x(e){var t;if(!(wt||Tt||zt)){if(at.length&&/mousedown|pointerdown/i.test(e.type))t=T(e,at);else for(var n,i,r=e.target instanceof I?e.target.correspondingUseElement:e.target;r!==L&&!t;){at=[];for(n in ot)i=Element.prototype[Pt]===q?L.querySelectorAll(n):void 0,r[Pt](n,i)&&(ot[n]._element=r,at.push(ot[n]));t=T(e,at),r=r.parentNode}return t?(Et=!0,b(e,t)):void 0}}function b(e,t){(e.touches&&e.touches.length<2&&!ut||!Et)&&(ut=nt.get(e.currentTarget));var n=ut&&ut.options;if(ut&&!(wt||Tt||zt)){var i,r,a,l=v(t||ut.getAction(e));if(K&&e instanceof K&&(ut.selector?ct.addPointer(e.pointerId):(ut._gesture.target||(ut._gesture.target=ut._element),ut._gesture.addPointer(e.pointerId))),e.touches?(i=c(e),r={x:i.pageX,y:i.pageY},a={x:i.clientX,y:i.clientY}):(r=o(e),a=s(e)),!l)return e;Et=!0,Ot=!1,n.styleCursor&&(L.documentElement.style.cursor=Yt[l].cursor),Xt="resizexy"===l?"xy":"resizex"===l?"x":"resizey"===l?"y":"",Ct=l,yt.x=null,yt.y=null,e.preventDefault(),J=(new Date).getTime(),Q=e}}function E(e,t){var n,i,r,s,a,l,c,u,p,d=ut.options.snap,f=d.anchors,g=o(e),y=h(ut);if(t=t||yt,t.realX=g.x,t.realY=g.y,g.x-=y.x,g.y-=y.y,d.range<0&&(d.range=1/0),"path"===d.mode)for(f=[],u=0,p=d.paths.length;p>u;u++){var m=d.paths[u];"function"==typeof m&&(m=m(g.x,g.y)),f.push({x:"number"==typeof m.x?m.x:g.x,y:"number"==typeof m.y?m.y:g.y,range:"number"==typeof m.range?m.range:d.range})}if("anchor"!==d.mode&&"path"!==d.mode||!f.length){if("grid"===d.mode){var v=Math.round((g.x-d.gridOffset.x)/d.grid.x),x=Math.round((g.y-d.gridOffset.y)/d.grid.y),b=v*d.grid.x+d.gridOffset.x,E=x*d.grid.y+d.gridOffset.y;a=b-g.x,l=E-g.y,c=V(a,l),r=c<d.range,s=b!==t.x||E!==t.y,t.x=b,t.y=E,t.dx=a,t.dy=l,t.range=d.range}}else{for(n={anchor:null,distance:0,range:0,dx:0,dy:0},u=0,p=f.length;p>u;u++){var O=f[u];i="number"==typeof O.range?O.range:d.range,a=O.x-g.x,l=O.y-g.y,c=V(a,l),r=i>c,1/0===i&&n.inRange&&1/0!==n.range&&(r=!1),(!n.anchor||(r?n.inRange&&1/0!==i?c/i<n.distance/n.range:c<n.distance:!n.inRange&&c<n.distance))&&(1/0===i&&(r=!0),n.anchor=O,n.distance=c,n.range=i,n.inRange=r,n.dx=a,n.dy=l,t.range=i)}r=n.inRange,s=n.anchor.x!==t.x||n.anchor.y!==t.y,t.x=n.anchor.x,t.y=n.anchor.y,t.dx=n.dx,t.dy=n.dy}return t.changed=s||r&&!t.locked,t.locked=r,t}function O(e){var t=k.currentAction()||Ct,i=ut&&ut.options.restrict[t];if(mt.dx=0,mt.dy=0,mt.restricted=!1,t&&i){var r,s=o(e),a=s.x,l=s.y;n(i)?r=k(i).getRect():("function"==typeof i&&(i=i(s.x,s.y,ut._element)),r=i,"x"in i&&"y"in i&&(r={left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})),mt.dx=Math.max(Math.min(r.right,s.x),r.left)-a,mt.dy=Math.max(Math.min(r.bottom,s.y),r.top)-l,mt.restricted=!0}}function S(e,t){if(e instanceof m||i(U,e),Et&&(Ot=!0,Ct&&ut)){var n=ut.options.restrictEnabled&&(!ut.options.restrict.endOnly||t),r=!(wt||Tt||zt),o=r?Q:e;r&&(Z=Q),n||(mt.restricted=!1),!ut.options.snapEnabled||-1===ut.options.snap.actions.indexOf(Ct)||ut.options.snap.endOnly&&!t?(n&&O(e),Yt[Ct].moveListener(e)):(E(o),(yt.changed||!yt.locked)&&(n&&O(e),Yt[Ct].moveListener(e)))}e instanceof m||i(W,e),(wt||Tt)&&vt.edgeMove(e)}function z(e){e.preventDefault();var t,n,i,r,o;if(!wt){if(t=new m(Q,"drag","start"),wt=!0,ut.fire(t),!_t){f(it);for(var s=0;s<st.length;s++)st[s]._elements=L.querySelectorAll(st[s].selector)}Z=t,ut.options.snapEnabled&&!ut.options.snap.endOnly&&E(e)}t=new m(e,"drag","move");var a=ut._element,l=y(t,a);l?(r=l.dropzone,dt=l.element):r=dt=null,ut._element=a,dt!==ft&&(ht&&(i=new m(e,"drag","leave",ft,a),t.dragLeave=ft,o=ht,ht=ft=null),r&&(n=new m(e,"drag","enter",dt,a),t.dragEnter=r._element,ht=r,ft=ht._element)),ut.fire(t),i&&o.fire(i),n&&r.fire(n),Z=t}function w(e){e.preventDefault();var t;Tt||(t=new m(Q,"resize","start"),ut.fire(t),ut.fire(t),Tt=!0,Z=t,ut.options.snapEnabled&&!ut.options.snap.endOnly&&E(e)),t=new m(e,"resize","move"),ut.fire(t),Z=t}function _(e){if(e.touches&&!(e.touches.length<2)){e.preventDefault();var t;zt||(t=new m(Q,"gesture","start"),t.ds=0,tt.startDistance=tt.prevDistance=t.distance,tt.startAngle=tt.prevAngle=t.angle,tt.scale=1,zt=!0,ut.fire(t),Z=t,ut.options.snapEnabled&&!ut.options.snap.endOnly&&E(e)),t=new m(e,"gesture","move"),t.ds=t.scale-tt.scale,ut.fire(t),Z=t,tt.prevAngle=t.angle,tt.prevDistance=t.distance,1/0===t.scale||null===t.scale||void 0===t.scale||isNaN(t.scale)||(tt.scale=t.scale)}}function T(e,t){for(var n=0,i=t.length;i>n;n++){var r=t[n],o=v(r.getAction(e,r),r);if(o)return ut=r,o}}function X(e){if(!(Et||wt||Tt||zt)){var t=[],n=ut&&ut._element,i=e.target instanceof I?e.target.correspondingUseElement:e.target;for(var r in ot)ot.hasOwnProperty(r)&&ot[r]&&i[Pt](r)&&(ot[r]._element=i,t.push(ot[r]));var o=nt.get(i),s=o&&v(o.getAction(e),o);if(s)ut=o,at=[];else if(T(e,t))at=t,A(e,at),$t.addToElement(i,"mousemove",A);else if(ut){var a=n.querySelectorAll("*");if(-1!==Array.prototype.indexOf.call(a,i)){for(var l=0;l<at.length;l++)at[l]._element=n;A(e,at),$t.addToElement(ut._element,"mousemove",A)}else ut=null,at=[]}}}function Y(e){var t=e.target instanceof I?e.target.correspondingUseElement:e.target;nt.get(t)||$t.removeFromElement(t,A),ut&&ut.options.styleCursor&&!(wt||Tt||zt)&&(L.documentElement.style.cursor="")}function A(e,t){if(Et||wt||Tt||zt)e.preventDefault();else{var n;t?n=T(e,t):ut&&(n=v(ut.getAction(e))),ut&&ut.options.styleCursor&&(L.documentElement.style.cursor=n?Yt[n].cursor:"")}}function C(e){var t;if(!(e.touches&&e.touches.length>=2)){if((wt||Tt||zt)&&ut.options.snap.endOnly&&S(e,!0),wt){t=new m(e,"drag","end");var n,i=ut._element,r=y(t,i);if(r?(pt=r.dropzone,dt=r.element):(pt=null,dt=null),ut._element=i,pt)n=new m(e,"drop",null,dt,i),t.dropzone=dt;else if(ht){var o=new m(e,"drag","leave",dt,i);ht.fire(o,i),t.dragLeave=ft}ut.fire(t),n&&pt.fire(n)}else if(Tt)t=new m(e,"resize","end"),ut.fire(t);else if(zt)t=new m(e,"gesture","end"),ut.fire(t);else if(/mouseup|touchend|pointerup/i.test(e.type)&&ut&&Et&&!Ot){var s={};for(var a in e)s[a]=e[a];s.currentTarget=ut._element,s.type="tap",ut.fire(s)}k.stop()}}function D(e,t){var n,i,r={},o=lt[e.type],s=e.target;t=t?!0:!1;for(var a in e)r[a]=e[a];for(r.preventDefault=function(){e.preventDefault()};s!==L;){for(n in o)if(s[Pt](n)){var l=o[n];for(r.currentTarget=s,i=0;i<l.length;i++)if(l[i][1]===t)try{l[i][0](r)}catch(c){B.error('Error thrown from delegated listener: "'+n+'" '+e.type+" "+(l[i][0].name?l[i][0].name:"")),B.log(c)}}s=s.parentNode}}function M(e){return D.call(this,e,!0)}function R(){ut&&!ut.selector&&(ut=null),pt=dt=ht=ft=null}function k(e){return nt.get(e)||new P(e)}function j(e){for(var t in gt)e.hasOwnProperty(t)&&typeof e[t]==typeof gt[t]&&(this[t]=e[t])}function P(e,t){this._element=e,this._iEvents=this._iEvents||{},"string"==typeof e?(L.querySelector(e),ot[e]=this,this.selector=e):(n(e)&&(K?($t.add(this,"pointerdown",b),$t.add(this,"pointermove",A),this._gesture=new F,this._gesture.target=e):($t.add(this,"mousedown",b),$t.add(this,"mousemove",A),$t.add(this,"touchstart",b),$t.add(this,"touchmove",A))),rt.push(this)),nt.push(this),this.set(t)}var q,L=e.document,B=e.console,N=e.SVGElement||t,G=e.SVGSVGElement||t,I=e.SVGElementInstance||t,$=e.HTMLElement||e.Element,K=e.PointerEvent||e.MSPointerEvent,F=(e.GestureEvent||e.MSGestureEvent,e.Gesture||e.MSGesture),V=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},W={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},U={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},H={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},J=0,Q=null,Z=null,et={},tt={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},nt=[],it=[],rt=[],ot={},st=[],at=[],lt={},ct=null,ut=null,pt=null,dt=null,ht=null,ft=null,gt={draggable:!1,dropzone:!1,accept:null,resizable:!1,squareResize:!1,gesturable:!1,styleCursor:!0,snap:{mode:"grid",endOnly:!1,actions:["drag"],range:1/0,grid:{x:100,y:100},gridOffset:{x:0,y:0},anchors:[],paths:[],arrayTypes:/^anchors$|^paths$|^actions$/,objectTypes:/^grid$|^gridOffset$/,stringTypes:/^mode$/,numberTypes:/^range$/,boolTypes:/^endOnly$/},snapEnabled:!1,restrict:{drag:null,resize:null,gesture:null,endOnly:!1},restrictEnabled:!0,autoScroll:{container:e,margin:60,speed:300,numberTypes:/^margin$|^speed$/},autoScrollEnabled:!1,origin:{x:0,y:0},deltaSource:"page"},yt={locked:!1,x:0,y:0,dx:0,dy:0,realX:0,realY:0,anchors:[],paths:[]},mt={dx:0,dy:0,restricted:!1},vt={target:null,i:null,x:0,y:0,scroll:function(){var t=vt.target.options.autoScroll,n=t.container,i=(new Date).getTime(),r=(i-vt.prevTime)/1e3,o=t.speed*r;o>=1&&(n instanceof e.Window?n.scrollBy(vt.x*o,vt.y*o):n&&(n.scrollLeft+=vt.x*o,n.scrollTop+=vt.y*o),vt.prevTime=i),vt.isScrolling&&(Lt(vt.i),vt.i=qt(vt.scroll))},edgeMove:function(t){if(ut&&ut.options.autoScrollEnabled&&(wt||Tt)){var n,i,r,o,s=ut.options.autoScroll;if(s.container instanceof e.Window)o=t.clientX<vt.margin,n=t.clientY<vt.margin,i=t.clientX>s.container.innerWidth-vt.margin,r=t.clientY>s.container.innerHeight-vt.margin;else{var a=l(s.container);o=t.clientX<a.left+vt.margin,n=t.clientY<a.top+vt.margin,i=t.clientX>a.right-vt.margin,r=t.clientY>a.bottom-vt.margin}vt.x=i?1:o?-1:0,vt.y=r?1:n?-1:0,vt.isScrolling||(vt.margin=s.margin,vt.speed=s.speed,vt.start(ut))}},isScrolling:!1,prevTime:0,start:function(e){vt.isScrolling=!0,Lt(vt.i),vt.target=e,vt.prevTime=(new Date).getTime(),vt.i=qt(vt.scroll)},stop:function(){vt.isScrolling=!1,Lt(vt.i)}},xt="createTouch"in L,bt=xt?20:10,Et=!1,Ot=!1,St=!1,zt=!1,wt=!1,_t=!1,Tt=!1,Xt="xy",Yt={drag:{cursor:"move",moveListener:z},resizex:{cursor:"e-resize",moveListener:w},resizey:{cursor:"s-resize",moveListener:w},resizexy:{cursor:"se-resize",moveListener:w},gesture:{cursor:"",moveListener:_}},At={drag:!0,resize:!0,gesture:!0},Ct=null,Dt="onmousewheel"in L?"mousewheel":"wheel",Mt=["resizestart","resizemove","resizeend","dragstart","dragmove","dragend","dragenter","dragleave","drop","gesturestart","gesturemove","gestureend","tap"],Rt={},kt={directBind:0,onevent:1,globalBind:2},jt="Opera"==navigator.appName&&xt&&navigator.userAgent.match("Presto"),Pt="matchesSelector"in Element.prototype?"matchesSelector":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",qt=e.requestAnimationFrame,Lt=e.cancelAnimationFrame,Bt={_element:e,events:{}},Nt={_element:L,events:{}},Gt={_element:e.parent,events:{}},It={_element:null,events:{}},$t=function(){function t(e,t,n,i){var s=l.indexOf(e),p=c[s];if(p||(p={events:{},typeCount:0},s=l.push(e)-1,c.push(p),u.push(r?{supplied:[],wrapped:[],useCount:[]}:null)),p.events[t]||(p.events[t]=[],p.typeCount++),-1===p.events[t].indexOf(n)){var d;if(r){var h=u[s],f=h.supplied.indexOf(n),g=h.wrapped[f]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=e,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+L.documentElement.scrollLeft,t.pageY=t.clientY+L.documentElement.scrollTop),n(t))};d=e[o](a+t,g,Boolean(i)),-1===f?(h.supplied.push(n),h.wrapped.push(g),h.useCount.push(1)):h.useCount[f]++}else d=e[o](t,n,i||!1);return p.events[t].push(n),d}}function n(e,t,i,o){var p,d,h,f=l.indexOf(e),g=c[f],y=i;if(g&&g.events)if(r&&(d=u[f],h=d.supplied.indexOf(i),y=d.wrapped[h]),"all"!==t){if(g.events[t]){var m=g.events[t].length;if("all"===i)for(p=0;m>p;p++)n(e,t,g.events[t][p],Boolean(o));else for(p=0;m>p;p++)if(g.events[t][p]===i){e[s](a+t,y,o||!1),g.events[t].splice(p,1),r&&d&&(d.useCount[h]--,0===d.useCount[h]&&(d.supplied.splice(h,1),d.wrapped.splice(h,1),d.useCount.splice(h,1)));break}g.events[t]&&0===g.events[t].length&&(g.events[t]=null,g.typeCount--)}g.typeCount||(c.splice(f),l.splice(f),u.splice(f))}else for(t in g.events)g.events.hasOwnProperty(t)&&n(e,t,"all")}var i=e.Event,r="attachEvent"in e&&!("addEventListener"in e),o=r?"attachEvent":"addEventListener",s=r?"detachEvent":"removeEventListener",a=r?"on":"",l=[],c=[],u=[];return"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),"stopPropagation"in i.prototype||(i.prototype.stopPropagation=function(){this.cancelBubble=!0},i.prototype.stopImmediatePropagation=function(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}),"preventDefault"in i.prototype||(i.prototype.preventDefault=function(){this.returnValue=!1}),"hasOwnProperty"in i.prototype||(i.prototype.hasOwnProperty=Object.prototype.hasOwnProperty),{add:function(e,n,i,r){t(e._element,n,i,r)},remove:function(e,t,i,r){n(e._element,t,i,r)},addToElement:t,removeFromElement:n,useAttachEvent:r}}();m.prototype={preventDefault:t,stopImmediatePropagation:function(){St=!0},stopPropagation:t},nt.indexOfElement=it.indexOfElement=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(n.selector===e||!n.selector&&n._element===e)return t}return-1},nt.get=function(e){return"string"==typeof e?ot[e]:this[this.indexOfElement(e)]},it.get=function(e){return this[this.indexOfElement(e)]},j.prototype=gt,P.prototype={setOnEvents:function(e,t){if("drop"===e){var n=t.ondrop||t.onDrop||t.drop,i=t.ondragenter||t.onDropEnter||t.dragenter,r=t.ondragleave||t.onDropLeave||t.dragleave;"function"==typeof n&&(this.ondrop=n),"function"==typeof i&&(this.ondragenter=i),"function"==typeof r&&(this.ondragleave=r)}else{var o=t.onstart||t.onStart||t.start,s=t.onmove||t.onMove||t.move,a=t.onend||t.onEnd||t.end;e="on"+e,"function"==typeof o&&(this[e+"start"]=o),"function"==typeof s&&(this[e+"move"]=s),"function"==typeof a&&(this[e+"end"]=a)}return this},draggable:function(e){return e instanceof Object?(this.options.draggable=!0,this.setOnEvents("drag",e),this):"boolean"==typeof e?(this.options.draggable=e,this):null===e?(delete this.options.draggable,this):this.options.draggable},dropzone:function(e){if(e instanceof Object)return this.options.dropzone=!0,this.setOnEvents("drop",e),this.accept(e.accept),(this.selector?st:it).push(this),_t||this.selector||(this.rect=this.getRect()),this;if("boolean"==typeof e){if(e)(this.selector?st:it).push(this),_t||this.selector||(this.rect=this.getRect());else{var t=this.selector?st:it,n=t.indexOf(this);-1!==n&&t.splice(n,1)}return this.options.dropzone=e,this}return null===e?(delete this.options.dropzone,this):this.options.dropzone},dropCheck:function(e){var t,n,i=o(e);return _t&&(this.rect=this.getRect()),t=i.x>this.rect.left&&i.x<this.rect.right,n=i.y>this.rect.top&&i.y<this.rect.bottom,t&&n},dropChecker:function(e){return"function"==typeof e?(this.dropCheck=e,this):this.dropCheck},accept:function(e){return n(e)?(this.options.accept=e,this):"string"==typeof e?(L.querySelector(e),this.options.accept=e,this):null===e?(delete this.options.accept,this):this.options.accept},resizable:function(e){return e instanceof Object?(this.options.resizable=!0,this.setOnEvents("resize",e),this):"boolean"==typeof e?(this.options.resizable=e,this):this.options.resizable},resizeable:t,squareResize:function(e){return"boolean"==typeof e?(this.options.squareResize=e,this):null===e?(delete this.options.squareResize,this):this.options.squareResize},gesturable:function(e){return e instanceof Object?(this.options.gesturable=!0,this.setOnEvents("gesture",e),this):"boolean"==typeof e?(this.options.gesturable=e,this):null===e?(delete this.options.gesturable,this):this.options.gesturable},gestureable:t,autoScroll:function(t){var i=gt.autoScroll;if(t instanceof Object){var r=this.options.autoScroll;return r===i&&(r=this.options.autoScroll={margin:i.margin,distance:i.distance,interval:i.interval,container:i.container}),r.margin=this.validateSetting("autoScroll","margin",t.margin),r.speed=this.validateSetting("autoScroll","speed",t.speed),r.container=n(t.container)||t.container instanceof e.Window?t.container:i.container,this.options.autoScrollEnabled=!0,this.options.autoScroll=r,this}return"boolean"==typeof t?(this.options.autoScrollEnabled=t,this):null===t?(delete this.options.autoScrollEnabled,delete this.options.autoScroll,this):this.options.autoScrollEnabled?this.options.autoScroll:!1},snap:function(e){var t=gt.snap;if(e instanceof Object){var n=this.options.snap;return n===t&&(n={}),n.mode=this.validateSetting("snap","mode",e.mode),n.endOnly=this.validateSetting("snap","endOnly",e.endOnly),n.actions=this.validateSetting("snap","actions",e.actions),n.range=this.validateSetting("snap","range",e.range),n.paths=this.validateSetting("snap","paths",e.paths),n.grid=this.validateSetting("snap","grid",e.grid),n.gridOffset=this.validateSetting("snap","gridOffset",e.gridOffset),n.anchors=this.validateSetting("snap","anchors",e.anchors),this.options.snapEnabled=!0,this.options.snap=n,this}return"boolean"==typeof e?(this.options.snapEnabled=e,this):null===e?(delete this.options.snapEnabled,delete this.options.snap,this):this.options.snapEnabled?this.options.snap:!1},getAction:function(e){var t,n,i,r=this.getRect(),s=o(e),a=this.options;return At.resize&&a.resizable&&(t=s.x>r.right-bt,n=s.y>r.bottom-bt),At.gesture&&e.touches&&e.touches.length>=2&&!wt&&!Tt?i="gesture":(Xt=(t?"x":"")+(n?"y":""),i=Xt?"resize"+Xt:At.drag&&a.draggable?"drag":null),i},actionChecker:function(e){return"function"==typeof e?(this.getAction=e,this):null===e?(delete this.options.getAction,this):this.getAction},getRect:function(){return this.selector&&!n(this._element)&&(this._element=L.querySelector(this.selector)),l(this._element)},rectChecker:function(e){return"function"==typeof e?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return"boolean"==typeof e?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},origin:function(e){return e instanceof Object?(this.options.origin=e,this):null===e?(delete this.options.origin,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):null===e?(delete this.options.deltaSource,this):this.options.deltaSource},restrict:function(e){if(void 0===e)return this.options.restrict;if(e instanceof Object){var t={};e.drag instanceof Object&&(t.drag=e.drag),e.resize instanceof Object&&(t.resize=e.resize),e.gesture instanceof Object&&(t.gesture=e.gesture),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly),this.options.restrictEnabled=!0,this.options.restrict=t}else null===e&&(delete this.options.restrict,delete this.options.restrictEnabled);return this},validateSetting:function(e,t,i){var r=gt[e],o=this.options[e];if(void 0!==r&&void 0!==r[t]){if("objectTypes"in r&&r.objectTypes.test(t))return i instanceof Object?i:t in o&&o[t]instanceof Object?o[t]:r[t];if("arrayTypes"in r&&r.arrayTypes.test(t))return i instanceof Array?i:t in o&&o[t]instanceof Array?o[t]:r[t];if("stringTypes"in r&&r.stringTypes.test(t))return"string"==typeof i?i:t in o&&"string"==typeof o[t]?o[t]:r[t];if("numberTypes"in r&&r.numberTypes.test(t))return"number"==typeof i?i:t in o&&"number"==typeof o[t]?o[t]:r[t];if("boolTypes"in r&&r.boolTypes.test(t))return"boolean"==typeof i?i:t in o&&"boolean"==typeof o[t]?o[t]:r[t];if("elementTypes"in r&&r.elementTypes.test(t))return n(i)?i:t in o&&n(o[t])?o[t]:r[t]}return null},element:function(){return this._element},fire:function(e){if(!e||!e.type||-1===Mt.indexOf(e.type))return this;for(var t,n,i=0,r=0,o="on"+e.type;3>i;)try{switch(i){case kt.directBind:if(e.type in this._iEvents){for(t=this._iEvents[e.type],n=t.length;n>r&&!St;r++)t[r](e);break}break;case kt.onevent:"function"==typeof this[o]&&this[o](e);break;case kt.globalBind:if(e.type in Rt&&(t=Rt[e.type]))for(n=t.length;n>r&&!St;r++)t[r](e)}r=0,i++}catch(s){B.error("Error thrown from "+e.type+" listener"),B.error(s),r++,i===kt.onevent&&i++}return St=!1,this},on:function(e,t,n){if("wheel"===e&&(e=Dt),-1!==Mt.indexOf(e))e in this._iEvents?-1===this._iEvents[e].indexOf(t)&&this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){lt[e]||(lt[e]={});var i=lt[e];i[this.selector]||(i[this.selector]=[]),i[this.selector].push([t,n?!0:!1]),$t.add(Nt,e,n?M:D,n)}else $t.add(this,e,t,n);return this},off:function(e,t,n){var i,r=-1;if(n=n?!0:!1,"wheel"===e&&(e=Dt),-1!==Mt.indexOf(e))i=this._iEvents[e],i&&-1!==(r=i.indexOf(t))&&this._iEvents[e].splice(r,1);else if(this.selector){var o=lt[e];if(o&&(i=o[this.selector])){for(r=0;r<i.length&&i[r][1]!==n;r++);r<i.length&&i.splice(r,1)}}else $t.remove(this._element,t,n);return this},set:function(e){return e&&"object"==typeof e||(e={}),this.options=new j(e),this.draggable("draggable"in e?e.draggable:this.options.draggable),this.dropzone("dropzone"in e?e.dropzone:this.options.dropzone),this.resizable("resizable"in e?e.resizable:this.options.resizable),this.gesturable("gesturable"in e?e.gesturable:this.options.gesturable),"autoScroll"in e&&this.autoScroll(e.autoScroll),this},unset:function(){return $t.remove(this,"all"),"string"==typeof this.selector?delete ot[this.selector]:($t.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor=""),this._gesture&&(this._gesture.target=null),rt.splice(rt.indexOf(this.element()))),this.dropzone(!1),nt.splice(nt.indexOf(this),1),k}},P.prototype.gestureable=P.prototype.gesturable,P.prototype.resizeable=P.prototype.resizable,k.isSet=function(e){return-1!==nt.indexOfElement(e)},k.on=function(e,t,n){return-1!==Mt.indexOf(e)?Rt[e]?-1===Rt[e].indexOf(t)&&Rt[e].push(t):Rt[e]=[t]:$t.add(Nt,e,t,n),k},k.off=function(e,t,n){if(-1===Mt.indexOf(e))$t.remove(Nt,e,t,n);else{var i;e in Rt&&-1!==(i=Rt[e].indexOf(t))&&Rt[e].splice(i,1)}return k},k.simulate=function(e,n,i){var r,o,s={};if("resize"===e&&(e="resizexy"),!(e in Yt))return k;if(i)for(r in i)i.hasOwnProperty(r)&&(s[r]=i[r]);else o=ut._element instanceof N?n.getBoundingClientRect():o=n.getClientRects()[0],"drag"===e?(s.pageX=o.left+o.width/2,s.pageY=o.top+o.height/2):(s.pageX=o.right,s.pageY=o.bottom);return s.target=s.currentTarget=n,s.preventDefault=s.stopPropagation=t,b(s,e),k},k.enableDragging=function(e){return null!==e&&void 0!==e?(At.drag=e,k):At.drag},k.enableResizing=function(e){return null!==e&&void 0!==e?(At.resize=e,k):At.resize},k.enableGesturing=function(e){return null!==e&&void 0!==e?(At.gesture=e,k):At.gesture},k.eventTypes=Mt,k.debug=function(){return{target:ut,dragging:wt,resizing:Tt,gesturing:zt,prepared:Ct,prevCoords:W,downCoords:H,downTime:J,downEvent:Q,prevEvent:Z,Interactable:P,IOptions:j,interactables:nt,dropzones:it,pointerIsDown:Et,defaultOptions:gt,actions:Yt,dragMove:z,resizeMove:w,gestureMove:_,pointerUp:C,pointerDown:b,pointerMove:S,pointerHover:A,events:$t,globalEvents:Rt,delegatedEvents:lt}},k.getTouchAverage=c,k.getTouchBBox=u,k.getTouchDistance=p,k.getTouchAngle=d,k.getElementRect=l,k.margin=function(e){return"number"==typeof e?(bt=e,k):bt},k.styleCursor=function(e){return"boolean"==typeof e?(gt.styleCursor=e,k):gt.styleCursor},k.autoScroll=function(t){var i=gt.autoScroll;return t instanceof Object?(gt.autoScrollEnabled=!0,"number"==typeof t.margin&&(i.margin=t.margin),"number"==typeof t.speed&&(i.speed=t.speed),i.container=n(t.container)||t.container instanceof e.Window?t.container:i.container,k):"boolean"==typeof t?(gt.autoScrollEnabled=t,k):gt.autoScrollEnabled?i:!1},k.snap=function(e){var t=gt.snap;return e instanceof Object?(gt.snapEnabled=!0,"string"==typeof e.mode&&(t.mode=e.mode),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly),"number"==typeof e.range&&(t.range=e.range),e.actions instanceof Array&&(t.actions=e.actions),e.anchors instanceof Array&&(t.anchors=e.anchors),e.grid instanceof Object&&(t.grid=e.grid),e.gridOffset instanceof Object&&(t.gridOffset=e.gridOffset),k):"boolean"==typeof e?(gt.snapEnabled=e,k):{enabled:gt.snapEnabled,mode:t.mode,actions:t.actions,grid:t.grid,gridOffset:t.gridOffset,anchors:t.anchors,paths:t.paths,range:t.range,locked:yt.locked,x:yt.x,y:yt.y,realX:yt.realX,realY:yt.realY,dx:yt.dx,dy:yt.dy}},k.supportsTouch=function(){return xt},k.currentAction=function(){return wt&&"drag"||Tt&&"resize"||zt&&"gesture"||null},k.stop=function(e){if(wt||Tt||zt){vt.stop(),at=[],ut.options.styleCursor&&(L.documentElement.style.cursor=""),ut._gesture&&(ut._gesture.stop(),ct.stop()),R();for(var t=0;t<st.length;t++)st._elements=[];e&&"function"==typeof e.preventDefault&&e.preventDefault()}return Et=yt.locked=wt=Tt=zt=!1,Ot=!0,Ct=Q=Z=null,k},k.dynamicDrop=function(e){return"boolean"==typeof e?(wt&&_t!==e&&!e&&f(it),_t=e,k):_t},k.deltaSource=function(e){return"page"===e||"client"===e?(gt.deltaSource=e,this):gt.deltaSource},k.restrict=function(e){var t=gt.restrict;return void 0===e?gt.restrict:(e instanceof Object?(e.drag instanceof Object&&(t.drag=e.drag),e.resize instanceof Object&&(t.resize=e.resize),e.gesture instanceof Object&&(t.gesture=e.gesture),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly)):null===e&&(t.drag=t.resize=t.gesture=null,t.endOnly=!1),this)},K?($t.add(Nt,"pointerdown",x),$t.add(Nt,"pointercancel",C),$t.add(Nt,"MSGestureChange",S),$t.add(Nt,"MSGestureEnd",C),$t.add(Nt,"MSInertiaStart",C),$t.add(Nt,"pointerover",X),$t.add(Nt,"pointerout",Y),$t.add(Nt,"pointermove",function(e){var t=(new Date).getTime();t>W.timeStamp&&i(W,e)}),ct=new F,ct.target=L.documentElement):($t.add(Nt,"mousedown",x),$t.add(Nt,"mousemove",S),$t.add(Nt,"mouseup",C),$t.add(Nt,"mouseover",X),$t.add(Nt,"mouseout",Y),$t.add(Nt,"touchstart",x),$t.add(Nt,"touchmove",S),$t.add(Nt,"touchend",C),$t.add(Nt,"touchcancel",C)),$t.add(Bt,"blur",C);
try{e.frameElement&&(It._element=e.frameElement.ownerDocument,$t.add(It,"mouseup",C),$t.add(It,"touchend",C),$t.add(It,"touchcancel",C),$t.add(It,"pointerup",C),$t.add(Gt,"blur",C))}catch(Kt){k.windowParentError=Kt}$t.add(Nt,"selectstart",function(e){(wt||Tt||zt)&&e.preventDefault()}),Pt in Element.prototype&&"function"==typeof Element.prototype[Pt]||(Element.prototype[Pt]=q=function(e,t){t=t||this.parentNode.querySelectorAll(e);for(var n=t.length,i=0;n>i;i++)if(t[i]===this)return!0;return!1}),function(){for(var t=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!e.requestAnimationFrame;++i)qt=e[n[i]+"RequestAnimationFrame"],Lt=e[n[i]+"CancelAnimationFrame"]||e[n[i]+"CancelRequestAnimationFrame"];qt||(qt=function(n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=e.setTimeout(function(){n(i+r)},r);return t=i+r,o}),Lt||(Lt=function(e){clearTimeout(e)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports.interact=k):e.interact=k}(this);
