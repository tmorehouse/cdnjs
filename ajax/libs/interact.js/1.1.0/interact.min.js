/* interact.js v1.1.0 | https://raw.github.com/taye/interact.js/master/LICENSE */
!function(){"use strict";function e(){}function t(e){return!!e&&"object"==typeof e&&(/object|function/.test(typeof Element)?e instanceof Element:1===e.nodeType&&"string"==typeof e.nodeName)}function i(e){return e instanceof Object}function r(e){return e instanceof Array}function n(e){return"function"==typeof e}function s(e){return"number"==typeof e}function o(e){return"boolean"==typeof e}function a(e){return"string"==typeof e}function h(e,t){for(var i in t)e[i]=t[i];return e}function p(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function l(e,t,i){t||(t=i.pointerIds.length>1?E(i.pointers):i.pointers[0]),u(t,pt,i),e.page.x=pt.x,e.page.y=pt.y,g(t,pt,i),e.client.x=pt.x,e.client.y=pt.y,e.timeStamp=(new Date).getTime()}function d(e,t,i){e.page.x=i.page.x-t.page.x,e.page.y=i.page.y-t.page.y,e.client.x=i.client.x-t.client.x,e.client.y=i.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var r=Math.max(e.timeStamp/1e3,.001);e.page.speed=ht(e.page.x,e.page.y)/r,e.page.vx=e.page.x/r,e.page.vy=e.page.y/r,e.client.speed=ht(e.client.x,e.page.y)/r,e.client.vx=e.client.x/r,e.client.vy=e.client.y/r}function c(e,t,i){return i=i||{},e=e||"page",i.x=t[e+"X"],i.y=t[e+"Y"],i}function u(e,t,i){return t=t||{},e instanceof N?/inertiastart/.test(e.type)?(i=i||e.interaction,h(t,i.inertiaStatus.upCoords.page),t.x+=i.inertiaStatus.sx,t.y+=i.inertiaStatus.sy):(t.x=e.pageX,t.y=e.pageY):Ct?(c("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):c("page",e,t),t}function g(e,t,i){return t=t||{},e instanceof N?/inertiastart/.test(e.type)?(h(t,i.inertiaStatus.upCoords.client),t.x+=i.inertiaStatus.sx,t.y+=i.inertiaStatus.sy):(t.x=e.clientX,t.y=e.clientY):c(Ct?"screen":"client",e,t),t}function v(){return{x:window.scrollX||tt.documentElement.scrollLeft,y:window.scrollY||tt.documentElement.scrollTop}}function m(e){return s(e.pointerId)?e.pointerId:e.identifier}function f(e){return e instanceof st?e.correspondingUseElement:e}function y(e){var t=/ipad|iphone|ipod/i.test(navigator.userAgent)?{x:0,y:0}:v(),i=e instanceof rt?e.getBoundingClientRect():e.getClientRects()[0];return i&&{left:i.left+t.x,right:i.right+t.x,top:i.top+t.y,bottom:i.bottom+t.y,width:i.width||i.right-i.left,height:i.heigh||i.bottom-i.top}}function x(e){var t=[];return r(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function E(e){var t=x(e);return{pageX:(t[0].pageX+t[1].pageX)/2,pageY:(t[0].pageY+t[1].pageY)/2,clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function S(e){if(e.length||e.touches&&e.touches.length>1){var t=x(e),i=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),n=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:i,y:r,left:i,top:r,width:n-i,height:s-r}}}function w(e,t){t=t||gt.deltaSource;var i=t+"X",r=t+"Y",n=x(e),s=n[0][i]-n[1][i],o=n[0][r]-n[1][r];return ht(s,o)}function b(e,t,i){i=i||gt.deltaSource;var r=i+"X",n=i+"Y",o=x(e),a=o[0][r]-o[1][r],h=o[0][n]-o[1][n],p=180*Math.atan(h/a)/Math.PI;if(s(t)){var l=p-t,d=l%360;d>315?p-=360+p/360|0:d>135?p-=180+p/360|0:-315>d?p+=360+p/360|0:-135>d&&(p+=180+p/360|0)}return p}function D(e,i){var r=e?e.options.origin:gt.origin;return"parent"===r?r=i.parentNode:"self"===r&&(r=i),t(r)?(r=y(r),r.x=r.left,r.y=r.top):n(r)&&(r=r(e&&i)),r}function z(e,t,i,r){var n=1-e;return n*n*t+2*n*e*i+e*e*r}function T(e,t,i,r,n,s,o){return{x:z(o,e,i,n),y:z(o,t,r,s)}}function C(e,t,i,r){return e/=r,-i*e*(e-2)+t}function M(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1}function O(e,t){return e._context===tt||M(e._context,t)}function P(e,i,r){var n=e.options.ignoreFrom;return n&&t(r)&&r!==i.parentNode?a(n)?Q(r,n)||P(e,r.parentNode):t(n)?r===n||M(n,r):!1:!1}function A(e,i,r){var n=e.options.allowFrom;return n?t(r)&&r!==i.parentNode?a(n)?Q(r,n)||A(e,r.parentNode):t(n)?r===n||M(n,r):!1:!1:!0}function X(e,t){if(!t)return!1;var i=t.options.dragAxis;return"xy"===e||"xy"===i||i===e}function Y(e,t){var i=e.options;return/^resize/.test(t)&&(t="resize"),"gesture"!==t&&i.snapEnabled&&J(i.snap.actions,t)}function k(e,t){var i=e.options;return/^resize/.test(t)&&(t="resize"),i.restrictEnabled&&i.restrict[t]}function R(e,t,i){i=/resize/.test(i)?"resize":i;for(var r=e.options,n=r[i+"Max"],s=r[i+"MaxPerElement"],o=0,a=0,h=0,p=0,l=dt.length;l>p;p++){var d=dt[p],c=/resize/.test(d.prepared)?"resize":d.prepared,u=d.interacting();if(u){if(o++,o>=xt)return!1;if(d.target===e){if(a+=c===i|0,a>=n)return!1;if(d.element===t&&(h++,c!==i||h>=s))return!1}}}return xt>0}function _(e){var t,i,r,n,s,o=e[0],a=o?0:-1,h=[],p=[];for(n=1;n<e.length;n++)if(t=e[n],t&&t!==o)if(o){if(t.parentNode!==tt)if(o.parentNode!==tt){if(!h.length)for(i=o;i.parentNode&&i.parentNode!==tt;)h.unshift(i),i=i.parentNode;if(o instanceof ot&&t instanceof rt&&!(t instanceof nt)){if(t===o.parentNode)continue;i=t.ownerSVGElement}else i=t;for(p=[];i.parentNode!==tt;)p.unshift(i),i=i.parentNode;for(s=0;p[s]&&p[s]===h[s];)s++;var l=[p[s-1],p[s],h[s]];for(r=l[0].lastChild;r;){if(r===l[1]){o=t,a=n,h=[];break}if(r===l[2])break;r=r.previousSibling}}else o=t,a=n}else o=t,a=n;return a}function I(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared=null,this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},n(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downTime=0,this.downEvent=null,this.downPointer={},this.downTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffset={x:0,y:0},this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,anchors:[],paths:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,dt.push(this)}function F(e,t,i){var r,n=0,s=dt.length,o=/mouse/i.test(e.pointerType||t)||4===e.pointerType,a=m(e);if(/down|start/i.test(t))for(n=0;s>n;n++){r=dt[n];var h=i;if(r.inertiaStatus.active&&r.mouse===o)for(;h;){if(h===r.element)return r.removePointer(r.pointers[0]),r.addPointer(e),r;h=h.parentNode}}if(o||!mt&&!ft){for(n=0;s>n;n++)if(dt[n].mouse&&!dt[n].inertiaStatus.active)return dt[n];for(n=0;s>n;n++)if(dt[n].mouse&&(!/down/.test(t)||!dt[n].inertiaStatus.active))return r;return r=new I,r.mouse=!0,r}for(n=0;s>n;n++)if(J(dt[n].pointerIds,a))return dt[n];if(/up|end|out/i.test(t))return null;for(n=0;s>n;n++)if(r=dt[n],!(r.prepared&&!r.target.gesturable()||r.interacting()||!o&&r.mouse))return r.addPointer(e),r;return new I}function $(e){return function(t){var i,r,n=f(t.target),s=f(t.currentTarget);if(mt&&/touch/.test(t.type))for(r=0;r<t.changedTouches.length;r++){var o=t.changedTouches[r];i=F(o,t.type,n),i&&i[e](o,t,n,s)}else{if(!ft&&/mouse/.test(t.type))for(r=0;r<dt.length;r++)if(!dt[r].mouse&&dt[r].pointerIsDown)return;if(i=F(t,t.type,n),!i)return;i[e](t,t,n,s)}}}function N(e,t,i,r,n,s){var o,a,p=e.target,l=e.snapStatus,d=e.restrictStatus,c=e.pointers,u=(p&&p.options||gt).deltaSource,g=u+"X",v=u+"Y",m=p?p.options:gt,f=D(p,n),y="start"===r,x="end"===r,E=y?e.startCoords:e.curCoords;n=n||e.element,a=h({},E.page),o=h({},E.client),a.x-=f.x,a.y-=f.y,o.x-=f.x,o.y-=f.y,!Y(p,i)||y&&m.snap.elementOrigin||(this.snap={range:l.range,locked:l.locked,x:l.snappedX,y:l.snappedY,realX:l.realX,realY:l.realY,dx:l.dx,dy:l.dy},l.locked&&(a.x+=l.dx,a.y+=l.dy,o.x+=l.dx,o.y+=l.dy)),!k(p,i)||y&&m.restrict.elementRect||!d.restricted||(a.x+=d.dx,a.y+=d.dy,o.x+=d.dx,o.y+=d.dy,this.restrict={dx:d.dx,dy:d.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=o.x,this.clientY=o.y,this.x0=e.startCoords.page.x,this.y0=e.startCoords.page.y,this.clientX0=e.startCoords.client.x,this.clientY0=e.startCoords.client.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.target=n,this.t0=e.downTime,this.type=i+(r||""),this.interaction=e,this.interactable=p;var z=e.inertiaStatus;if(z.active&&(this.detail="inertia"),s&&(this.relatedTarget=s),x||"drop"===i?"client"===u?(this.dx=o.x-e.startCoords.client.x,this.dy=o.y-e.startCoords.client.y):(this.dx=a.x-e.startCoords.page.x,this.dy=a.y-e.startCoords.page.y):y?(this.dx=0,this.dy=0):"inertiastart"===r?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===u?(this.dx=o.x-e.prevEvent.clientX,this.dy=o.y-e.prevEvent.clientY):(this.dx=a.x-e.prevEvent.pageX,this.dy=a.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!z.active&&m.inertia.zeroResumeDelta&&(z.resumeDx+=this.dx,z.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===i?m.squareResize||t.shiftKey?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===i&&(this.touches=[c[0],c[1]],y?(this.distance=w(c,u),this.box=S(c),this.scale=1,this.ds=0,this.angle=b(c,void 0,u),this.da=0):x||t instanceof N?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=w(c,u),this.box=S(c),this.scale=this.distance/e.gesture.startDistance,this.angle=b(c,e.gesture.prevAngle,u),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),y)this.timeStamp=e.downTime,this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===r)this.timeStamp=(new Date).getTime(),this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else{this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTime;var T,C,M;t instanceof N?(M=Math.max((x?this.duration:this.dt)/1e3,.001),T=this[g]-e.prevEvent[g],C=this[v]-e.prevEvent[v],this.snap&&this.snap.locked&&(T-=this.snap.dx,C-=this.snap.dy),this.restrict&&(T-=this.restrict.dx,C-=this.restrict.dy),e.prevEvent.snap&&e.prevEvent.snap.locked&&(T-=e.prevEvent[g]-e.prevEvent.snap.dx,C-=e.prevEvent[v]-e.prevEvent.snap.dy),e.prevEvent.restrict&&(T+=e.prevEvent.restrict.dx,C+=e.prevEvent.restrict.dy),this.speed=ht(T,C)/M,this.velocityX=T/M,this.velocityY=C/M):(this.speed=e.pointerDelta[u].speed,this.velocityX=e.pointerDelta[u].vx,this.velocityY=e.pointerDelta[u].vy)}if((x||"inertiastart"===r)&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var O=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI,P=22.5;0>O&&(O+=360);var A=O>=135-P&&225+P>O,X=O>=225-P&&315+P>O,R=!A&&(O>=315-P||45+P>O),_=!X&&O>=45-P&&135+P>O;this.swipe={up:X,down:_,left:A,right:R,angle:O,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function q(){this.originalEvent.preventDefault()}function U(e,t,i){var r,n,s=this.getRect(i),o=null,a=h({},t.curCoords.page),p=this.options;return s?(St.resize&&p.resizable&&(r="y"!==p.resizeAxis&&a.x>s.right-yt,n="x"!==p.resizeAxis&&a.y>s.bottom-yt),t.resizeAxes=(r?"x":"")+(n?"y":""),o=t.resizeAxes?"resize"+t.resizeAxes:St.drag&&p.draggable?"drag":null,St.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(o="gesture"),o):null}function H(e,t){if(!a(e))return null;var i=-1!==e.search("resize")?"resize":e,r=t;return("resize"===i&&r.resizable||"drag"===e&&r.draggable||"gesture"===e&&r.gesturable)&&St[i]?(("resize"===e||"resizeyx"===e)&&(e="resizexy"),e):null}function W(e,t){var i={},r=ut[e.type],n=e.target;t=t?!0:!1;for(var s in e)i[s]=e[s];for(i.originalEvent=e,i.preventDefault=q;n&&n!==tt;){for(var o=0;o<r.selectors.length;o++){var a=r.selectors[o],h=r.contexts[o];if(Q(n,a)&&h===e.currentTarget&&M(h,n)){var p=r.listeners[o];i.currentTarget=n;for(var l=0;l<p.length;l++)if(p[l][1]===t)if(Tt)try{p[l][0](i)}catch(d){var c=(c=p[l][0].name)?', "'+c+'",':"";it.error('Error thrown from delegated "'+e.type+'" listener'+c+' on "'+a+'" element:\n'+d.message),d.stack&&it.log(d.stack),it.log(d)}else p[l][0](i)}}n=n.parentNode}}function B(e){return W.call(this,e,!0)}function L(e,t){return lt.get(e,t)||new j(e,t)}function K(e){for(var t in gt)e.hasOwnProperty(t)&&typeof e[t]==typeof gt[t]&&(this[t]=e[t])}function j(e,i){this._element=e,this._iEvents=this._iEvents||{},a(e)?(tt.querySelector(e),this.selector=e,i&&i.context&&(window.Node?i.context instanceof window.Node:t(i.context)||i.context===tt)&&(this._context=i.context)):t(e)&&(at?(Rt.add(this,Z.down,_t.pointerDown),Rt.add(this,Z.move,_t.pointerHover)):(Rt.add(this,"mousedown",_t.pointerDown),Rt.add(this,"mousemove",_t.pointerHover),Rt.add(this,"touchstart",_t.pointerDown),Rt.add(this,"touchmove",_t.pointerHover))),lt.push(this),this.set(i)}function G(e){for(var t=0;t<dt.length;t++)dt[t].pointerUp(e,e)}function V(e,t){for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1}function J(e,t){return-1!==V(e,t)}function Q(e,t,i){return et?et(e,t,i):e[Mt](t)}var Z,et,tt=window.document,it=window.console,rt=window.SVGElement||e,nt=window.SVGSVGElement||e,st=window.SVGElementInstance||e,ot=window.HTMLElement||window.Element,at=window.PointerEvent||window.MSPointerEvent,ht=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},pt={},lt=[],dt=[],ct=!1,ut={},gt={draggable:!1,dragAxis:"xy",dropzone:!1,accept:null,dropOverlap:"pointer",resizable:!1,squareResize:!1,resizeAxis:"xy",gesturable:!1,dragMax:1,resizeMax:1,gestureMax:1,dragMaxPerElement:1,resizeMaxPerElement:1,gestureMaxPerElement:1,pointerMoveTolerance:1,actionChecker:null,styleCursor:!0,preventDefault:"auto",snap:{mode:"grid",endOnly:!1,actions:["drag"],range:1/0,grid:{x:100,y:100},gridOffset:{x:0,y:0},anchors:[],paths:[],elementOrigin:null,arrayTypes:/^anchors$|^paths$|^actions$/,objectTypes:/^grid$|^gridOffset$|^elementOrigin$/,stringTypes:/^mode$/,numberTypes:/^range$/,boolTypes:/^endOnly$/},snapEnabled:!1,restrict:{drag:null,resize:null,gesture:null,endOnly:!1},restrictEnabled:!1,autoScroll:{container:window,margin:60,speed:300,numberTypes:/^margin$|^speed$/},autoScrollEnabled:!1,inertia:{resistance:10,minSpeed:100,endSpeed:10,zeroResumeDelta:!1,smoothEndDuration:300,actions:["drag","resize"],numberTypes:/^resistance$|^minSpeed$|^endSpeed$|^smoothEndDuration$/,arrayTypes:/^actions$/,boolTypes:/^zeroResumeDelta$/},inertiaEnabled:!1,origin:{x:0,y:0},deltaSource:"page",context:tt},vt={target:null,i:null,x:0,y:0,scroll:function(){var e=vt.target.options.autoScroll,t=e.container,i=(new Date).getTime(),r=(i-vt.prevTime)/1e3,n=e.speed*r;n>=1&&(t instanceof window.Window?t.scrollBy(vt.x*n,vt.y*n):t&&(t.scrollLeft+=vt.x*n,t.scrollTop+=vt.y*n),vt.prevTime=i),vt.isScrolling&&(Pt(vt.i),vt.i=Ot(vt.scroll))},edgeMove:function(e){for(var t,i=!1,r=0;r<dt.length;r++){var n=dt[r];if(t=n.target,t&&t.options.autoScrollEnabled&&(n.dragging||n.resizing)){i=!0;break}}if(i){var s,o,a,h,p=t.options.autoScroll;if(p.container instanceof window.Window)h=e.clientX<vt.margin,s=e.clientY<vt.margin,o=e.clientX>p.container.innerWidth-vt.margin,a=e.clientY>p.container.innerHeight-vt.margin;else{var l=y(p.container);h=e.clientX<l.left+vt.margin,s=e.clientY<l.top+vt.margin,o=e.clientX>l.right-vt.margin,a=e.clientY>l.bottom-vt.margin}vt.x=o?1:h?-1:0,vt.y=a?1:s?-1:0,vt.isScrolling||(vt.margin=p.margin,vt.speed=p.speed,vt.start(t))}},isScrolling:!1,prevTime:0,start:function(e){vt.isScrolling=!0,Pt(vt.i),vt.target=e,vt.prevTime=(new Date).getTime(),vt.i=Ot(vt.scroll)},stop:function(){vt.isScrolling=!1,Pt(vt.i)}},mt="ontouchstart"in window||window.DocumentTouch&&tt instanceof window.DocumentTouch,ft=!!at,yt=mt||ft?20:10,xt=1,Et={drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",gesture:""},St={drag:!0,resize:!0,gesture:!0},wt="onmousewheel"in tt?"mousewheel":"wheel",bt=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","tap","doubletap"],Dt={},zt={directBind:0,onevent:1,globalBind:2},Tt=!1,Ct="Opera"==navigator.appName&&mt&&navigator.userAgent.match("Presto"),Mt="matchesSelector"in Element.prototype?"matchesSelector":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Ot=window.requestAnimationFrame,Pt=window.cancelAnimationFrame,At={_element:window,events:{}},Xt={_element:tt,events:{}},Yt={_element:window.parent,events:{}},kt={_element:null,events:{}},Rt=function(){function e(e,t,a,c){var u=V(p,e),g=l[u];if(g||(g={events:{},typeCount:0},u=p.push(e)-1,l.push(g),d.push(s?{supplied:[],wrapped:[],useCount:[]}:null)),g.events[t]||(g.events[t]=[],g.typeCount++),!J(g.events[t],a)){var v;if(s){var m=d[u],f=V(m.supplied,a),y=m.wrapped[f]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=e,t.preventDefault=t.preventDefault||i,t.stopPropagation=t.stopPropagation||r,t.stopImmediatePropagation=t.stopImmediatePropagation||n,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+tt.documentElement.scrollLeft,t.pageY=t.clientY+tt.documentElement.scrollTop),a(t))};v=e[o](h+t,y,Boolean(c)),-1===f?(m.supplied.push(a),m.wrapped.push(y),m.useCount.push(1)):m.useCount[f]++}else v=e[o](t,a,c||!1);return g.events[t].push(a),v}}function t(e,i,r,n){var o,c,u,g=V(p,e),v=l[g],m=r;if(v&&v.events)if(s&&(c=d[g],u=V(c.supplied,r),m=c.wrapped[u]),"all"!==i){if(v.events[i]){var f=v.events[i].length;if("all"===r)for(o=0;f>o;o++)t(e,i,v.events[i][o],Boolean(n));else for(o=0;f>o;o++)if(v.events[i][o]===r){e[a](h+i,m,n||!1),v.events[i].splice(o,1),s&&c&&(c.useCount[u]--,0===c.useCount[u]&&(c.supplied.splice(u,1),c.wrapped.splice(u,1),c.useCount.splice(u,1)));break}v.events[i]&&0===v.events[i].length&&(v.events[i]=null,v.typeCount--)}v.typeCount||(l.splice(g),p.splice(g),d.splice(g))}else for(i in v.events)v.events.hasOwnProperty(i)&&t(e,i,"all")}function i(){this.returnValue=!1}function r(){this.cancelBubble=!0}function n(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var s="attachEvent"in window&&!("addEventListener"in window),o=s?"attachEvent":"addEventListener",a=s?"detachEvent":"removeEventListener",h=s?"on":"",p=[],l=[],d=[];return{add:function(t,i,r,n){e(t._element,i,r,n)},remove:function(e,i,r,n){t(e._element,i,r,n)},addToElement:e,removeFromElement:t,useAttachEvent:s,_elements:p,_targets:l,_attachedListeners:d}}();I.prototype={getPageXY:function(e,t){return u(e,t,this)},getClientXY:function(e,t){return g(e,t,this)},setEventXY:function(e,t){return l(e,t,this)},pointerOver:function(e,t,i){function r(e,t){e&&O(e,i)&&!P(e,i,i)&&A(e,i,i)&&Q(i,t)&&(n.push(e),s.push(i))}if(!this.prepared&&this.mouse){var n=[],s=[],o=this.element;this.addPointer(e),!this.target||!P(this.target,this.element,i)&&A(this.target,this.element,i)&&R(this.target,this.element,this.prepared)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var a=lt.get(i),h=a&&!P(a,i,i)&&A(a,i,i)&&H(a.getAction(e,this,i),a);h=a&&R(a,i,h)?h:null,h?(this.target=a,this.element=i,this.matches=[],this.matchElements=[]):(lt.forEachSelector(r),this.validateSelector(e,n,s)?(this.matches=n,this.matchElements=s,this.pointerHover(e,t,this.matches,this.matchElements),Rt.addToElement(i,at?Z.move:"mousemove",_t.pointerHover)):this.target&&(M(o,i)?(this.pointerHover(e,t,this.matches,this.matchElements),Rt.addToElement(this.element,at?Z.move:"mousemove",_t.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,i,r,n,s){var o=this.target;if(!this.prepared&&this.mouse){var a;this.setEventXY(this.curCoords,e),n?a=this.validateSelector(e,n,s):o&&(a=H(o.getAction(this.pointers[0],this,this.element),this.target)),o&&o.options.styleCursor&&(tt.documentElement.style.cursor=a?Et[a]:"")}else this.prepared&&this.checkAndPreventDefault(t,o,this.element)},pointerOut:function(e,t,i){this.prepared||(lt.get(i)||Rt.removeFromElement(i,at?Z.move:"mousemove",_t.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(tt.documentElement.style.cursor=""))},selectorDown:function(e,t,i,r){function n(e,t,r){var n=et?r.querySelectorAll(t):void 0;O(e,o)&&!P(e,o,i)&&A(e,o,i)&&Q(o,t,n)&&(a.matches.push(e),a.matchElements.push(o))}this.pointerIsDown=!0;var s,o=i;if(this.addPointer(e),this.inertiaStatus.active&&this.target.selector)for(;o&&o!==tt;){if(o===this.element&&H(this.target.getAction(e,this,this.element),this.target)===this.prepared)return Pt(this.inertiaStatus.i),void(this.inertiaStatus.active=!1);o=o.parentNode}if(!this.interacting()){var a=this;if(this.setEventXY(this.curCoords,e),this.matches.length&&this.mouse)s=this.validateSelector(e,this.matches,this.matchElements);else for(;o&&o!==tt&&!s;)this.matches=[],this.matchElements=[],lt.forEachSelector(n),s=this.validateSelector(e,this.matches,this.matchElements),o=o.parentNode;return s?(this.prepared=s,this.pointerDown(e,t,i,r,s)):(this.downTime=(new Date).getTime(),this.downTarget=i,this.downEvent=t,h(this.downPointer,e),p(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void 0)}},pointerDown:function(e,t,i,r,n){if(!n&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared)return void this.checkAndPreventDefault(t,this.target,this.element);this.pointerIsDown=!0,this.addPointer(e);var s;if(this.pointerIds.length<2&&!this.target||!this.prepared){var o=lt.get(r);o&&!P(o,r,i)&&A(o,r,i)&&(s=H(n||o.getAction(e,this),o,i))&&R(o,r,s)&&(this.target=o,this.element=r)}var a=this.target,p=a&&a.options;if(a&&!this.interacting()){if(s=s||H(n||a.getAction(e,this),a,this.element),this.setEventXY(this.startCoords),!s)return;p.styleCursor&&(tt.documentElement.style.cursor=Et[s]),this.resizeAxes="resizexy"===s?"xy":"resizex"===s?"x":"resizey"===s?"y":"","gesture"===s&&this.pointerIds.length<2&&(s=null),this.prepared=s,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=0/0,this.downTime=(new Date).getTime(),this.downTarget=i,this.downEvent=t,h(this.downPointer,e),this.setEventXY(this.prevCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,a,this.element)}else this.inertiaStatus.active&&r===this.element&&H(a.getAction(e,this,this.element),a)===this.prepared&&(Pt(this.inertiaStatus.i),this.inertiaStatus.active=!1)},pointerMove:function(e,t,i,r,n){if(this.pointerIsDown){if(this.setEventXY(this.curCoords,e instanceof N?this.inertiaStatus.startEvent:void 0),this.pointerWasMoved&&this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y)return void this.checkAndPreventDefault(t,this.target,this.element);d(this.pointerDelta,this.prevCoords,this.curCoords);var s,o;if(this.pointerWasMoved||(s=this.curCoords.client.x-this.startCoords.client.x,o=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=ht(s,o)>gt.pointerMoveTolerance),this.prepared){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof N&&/inertiastart/.test(e.type))){if(!this.interacting()&&(d(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared)){var a=Math.abs(s),h=Math.abs(o),l=this.target.options.dragAxis,c=a>h?"x":h>a?"y":"xy";if("xy"!==c&&"xy"!==l&&l!==c){this.prepared=null;for(var u=i;u&&u!==tt;){var g=lt.get(u);if(g&&g!==this.target&&"drag"===g.getAction(this.downPointer,this,u)&&X(c,g)){this.prepared="drag",this.target=g,this.element=u;break}u=u.parentNode}if(!this.prepared){var v=function(e,t,r){var n=et?r.querySelectorAll(t):void 0;if(e!==this.target)return O(e,i)&&!P(e,u,i)&&A(e,u,i)&&Q(u,t,n)&&"drag"===e.getAction(this.downPointer,this,u)&&X(c,e)&&R(e,u,"drag")?e:void 0};for(u=i;u&&u!==tt;){var m=lt.forEachSelector(v);if(m){this.prepared="drag",this.target=m,this.element=u;break}u=u.parentNode}}}}var f=!!this.prepared&&!this.interacting();if(f&&!R(this.target,this.element,this.prepared))return void this.stop();if(this.prepared&&this.target){var y=this.target,x=Y(y,this.prepared)&&(!y.options.snap.endOnly||n),E=k(y,this.prepared)&&(!y.options.restrict.endOnly||n),S=f?this.startCoords.page:this.curCoords.page;if(f){var w=y.getRect(this.element),b=y.options.snap,D=y.options.restrict;w?(this.startOffset.left=this.startCoords.page.x-w.left,this.startOffset.top=this.startCoords.page.y-w.top,this.startOffset.right=w.right-this.startCoords.page.x,this.startOffset.bottom=w.bottom-this.startCoords.page.y):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,w&&b.elementOrigin?(this.snapOffset.x=this.startOffset.left-w.width*b.elementOrigin.x,this.snapOffset.y=this.startOffset.top-w.height*b.elementOrigin.y):this.snapOffset.x=this.snapOffset.y=0,w&&D.elementRect?(this.restrictOffset.left=this.startOffset.left-w.width*D.elementRect.left,this.restrictOffset.top=this.startOffset.top-w.height*D.elementRect.top,this.restrictOffset.right=this.startOffset.right-w.width*(1-D.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-w.height*(1-D.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0}x?this.setSnapping(S):this.snapStatus.locked=!1,E?this.setRestriction(S):this.restrictStatus.restricted=!1;var z=(x?this.snapStatus.changed||!this.snapStatus.locked:!0)&&(E?!this.restrictStatus.restricted||this.restrictStatus.restricted&&this.restrictStatus.changed:!0);if(z){var T=/resize/.test(this.prepared)?"resize":this.prepared;if(f){var C=this[T+"Start"](this.downEvent);this.prevEvent=C,this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var M=this.getDropEvents(t,C);M.activate&&this.fireActiveDrops(M.activate),x&&this.setSnapping(S),E&&this.setRestriction(S)}this.prevEvent=this[T+"Move"](t)}this.checkAndPreventDefault(t,this.target,this.element)}}p(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&vt.edgeMove(t)}}},dragStart:function(e){var t=new N(this,e,"drag","start",this.element);return this.dragging=!0,this.target.fire(t),t},dragMove:function(e){var t=this.target,i=new N(this,e,"drag","move",this.element),r=this.element,n=this.getDrop(i,r);this.dropTarget=n.dropzone,this.dropElement=n.element;var s=this.getDropEvents(e,i);return t.fire(i),s.leave&&this.prevDropTarget.fire(s.leave),s.enter&&this.dropTarget.fire(s.enter),s.move&&this.dropTarget.fire(s.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,i},resizeStart:function(e){var t=new N(this,e,"resize","start",this.element);return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new N(this,e,"resize","move",this.element);return this.target.fire(t),t},gestureStart:function(e){var t=new N(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){if(!this.pointerIds.length)return this.prevEvent;var t;return t=new N(this,e,"gesture","move",this.element),t.ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,1/0===t.scale||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t},pointerUp:function(e,t,i,r){var n,s=this.target,o=s&&s.options,a=o&&o.inertia,l=this.inertiaStatus;if(this.interacting()){if(l.active)return;var d,c,u=(new Date).getTime(),g=!1,v=!1,m=!1,f=Y(s,this.prepared)&&o.snap.endOnly,y=k(s,this.prepared)&&o.restrict.endOnly,x=0,E=0;if(this.dragging&&(d="x"===o.dragAxis?Math.abs(this.pointerDelta.client.vx):"y"===o.dragAxis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed),g=o.inertiaEnabled&&"gesture"!==this.prepared&&J(a.actions,this.prepared)&&t!==l.startEvent,v=g&&u-this.curCoords.timeStamp<50&&d>a.minSpeed&&d>a.endSpeed,g&&!v&&(f||y)){var S={};S.snap=S.restrict=S,f&&(this.setSnapping(this.curCoords.page,S),S.locked&&(x+=S.dx,E+=S.dy)),y&&(this.setRestriction(this.curCoords.page,S),S.restricted&&(x+=S.dx,E+=S.dy)),(x||E)&&(m=!0)}if(v||m){if(p(l.upCoords,this.curCoords),this.pointers[0]=l.startEvent=c=new N(this,t,this.prepared,"inertiastart",this.element),l.t0=u,s.fire(l.startEvent),v){l.vx0=this.pointerDelta.client.vx,l.vy0=this.pointerDelta.client.vy,l.v0=d,this.calcInertia(l);var w,b=h({},this.curCoords.page),z=D(s,this.element);if(b.x=b.x+l.xe-z.x,b.y=b.y+l.ye-z.y,w={useStatusXY:!0,x:b.x,y:b.y,dx:0,dy:0,snap:null},w.snap=w,x=E=0,f){var T=this.setSnapping(this.curCoords.page,w);T.locked&&(x+=T.dx,E+=T.dy)}if(y){var C=this.setRestriction(this.curCoords.page,w);C.restricted&&(x+=C.dx,E+=C.dy)}l.modifiedXe+=x,l.modifiedYe+=E,l.i=Ot(this.boundInertiaFrame)}else l.smoothEnd=!0,l.xe=x,l.ye=E,l.sx=l.sy=0,l.i=Ot(this.boundSmoothEndFrame);return void(l.active=!0)}(f||y)&&this.pointerMove(e,t,i,r,!0)}if(this.dragging){n=new N(this,t,"drag","end",this.element);var M,O=this.element,P=this.getDrop(n,O);if(this.dropTarget=P.dropzone,this.dropElement=P.element,this.dropTarget)M=new N(this,t,"drop",null,this.dropElement,O),n.dropzone=this.dropElement;else if(this.prevDropTarget){var A=new N(this,t,"drag","leave",this.dropElement,O);this.prevDropTarget.fire(A,O),n.dragLeave=this.prevDropElement}var X=this.getDropEvents(t,n);X.leave&&this.prevDropTarget.fire(X.leave),X.enter&&this.dropTarget.fire(X.enter),X.drop&&this.dropTarget.fire(X.drop),X.deactivate&&this.fireActiveDrops(X.deactivate),s.fire(n)}else this.resizing?(n=new N(this,t,"resize","end",this.element),s.fire(n)):this.gesturing&&(n=new N(this,t,"gesture","end",this.element),s.fire(n));this.stop(t)},collectDrops:function(e){var i,r=[],n=[];for(e=e||this.element,i=0;i<lt.length;i++)if(lt[i].options.dropzone){var s=lt[i];if(!(t(s.options.accept)&&s.options.accept!==e||a(s.options.accept)&&!Q(e,s.options.accept)))for(var o=s.selector?s._context.querySelectorAll(s.selector):[s._element],h=0,p=o.length;p>h;h++){var l=o[h];l!==e&&(r.push(s),n.push(l))}}return{dropzones:r,elements:n}},fireActiveDrops:function(e){var t,i,r,n;for(t=0;t<this.activeDrops.dropzones.length;t++)i=this.activeDrops.dropzones[t],r=this.activeDrops.elements[t],r!==n&&(e.target=r,i.fire(e)),n=r},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var i=0;i<this.activeDrops.dropzones.length;i++)this.activeDrops.rects[i]=this.activeDrops.dropzones[i].getRect(this.activeDrops.elements[i])
},getDrop:function(e,t){var i=[];ct&&this.setActiveDrops(t);for(var r=0;r<this.activeDrops.dropzones.length;r++){var n=this.activeDrops.dropzones[r],s=this.activeDrops.elements[r],o=this.activeDrops.rects[r];i.push(n.dropCheck(this.pointers[0],this.target,t,s,o)?s:null)}var a=_(i),h=this.activeDrops.dropzones[a]||null,p=this.activeDrops.elements[a]||null;return{dropzone:h,element:p}},getDropEvents:function(e,t){var i=null,r=null,n=null,s=null,o=null,a=null;return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(i=new N(this,e,"drag","leave",this.prevDropElement,t.target),i.draggable=t.interactable,t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(r=new N(this,e,"drag","enter",this.dropElement,t.target),r.draggable=t.interactable,t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(a=new N(this,e,"drop",null,this.dropElement,t.target),a.draggable=t.interactable,t.dropzone=this.dropTarget),"dragstart"===t.type&&(n=new N(this,e,"drop","activate",this.element,t.target),n.draggable=t.interactable),"dragend"===t.type&&(s=new N(this,e,"drop","deactivate",this.element,t.target),s.draggable=t.interactable),"dragmove"===t.type&&this.dropTarget&&(o={target:this.dropElement,relatedTarget:t.target,draggable:t.interactable,dragmove:t,type:"dropmove",timeStamp:t.timeStamp},t.dropzone=this.dropTarget),{enter:r,leave:i,activate:n,deactivate:s,move:o,drop:a}},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target&&!this.target.selector&&(this.target=this.element=null),this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){vt.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(tt.documentElement.style.cursor=""),e&&n(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null),this.clearTargets()}this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0,this.pointerIds.splice(0),dt.length>1&&dt.splice(V(dt,this),1)},inertiaFrame:function(){var e=this.inertiaStatus,t=this.target.options.inertia,i=t.resistance,r=(new Date).getTime()/1e3-e.t0;if(r<e.te){var n=1-(Math.exp(-i*r)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*n,e.sy=e.ye*n;else{var s=T(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,n);e.sx=s.x,e.sy=s.y}this.pointerMove(e.startEvent,e.startEvent),e.i=Ot(this.boundInertiaFrame)}else e.sx=e.modifiedXe,e.sy=e.modifiedYe,this.pointerMove(e.startEvent,e.startEvent),e.active=!1,this.pointerUp(e.startEvent,e.startEvent)},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,i=this.target.options.inertia.smoothEndDuration;i>t?(e.sx=C(t,0,e.xe,i),e.sy=C(t,0,e.ye,i),this.pointerMove(e.startEvent,e.startEvent),e.i=Ot(this.boundSmoothEndFrame)):(e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),e.active=!1,e.smoothEnd=!1,this.pointerUp(e.startEvent,e.startEvent))},addPointer:function(e){var t=m(e),i=this.mouse?0:V(this.pointerIds,t);-1===i?(i=this.pointerIds.length,this.pointerIds.push(t),this.pointers[i]=e):this.pointers[i]=e},removePointer:function(e){var t=m(e),i=this.mouse?0:V(this.pointerIds,t);-1!==i&&this.pointerIds.splice(i,1)},recordPointer:function(e){if(!this.inertiaStatus.active){var t=this.mouse?0:V(this.pointerIds,m(e));-1!==t&&(this.pointers[t]=e)}},fireTaps:function(e,t,i,r){var n,s={};h(s,t),h(s,e),s.preventDefault=q,s.stopPropagation=N.prototype.stopPropagation,s.stopImmediatePropagation=N.prototype.stopImmediatePropagation,s.timeStamp=(new Date).getTime(),s.originalEvent=t,s.dt=s.timeStamp-this.downTime,s.type="tap";var o=s.timeStamp-this.tapTime,a=this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===s.target&&500>o;for(this.tapTime=s.timeStamp,n=0;n<i.length;n++){var p=D(i[n],r[n]);if(s.pageX-=p.x,s.pageY-=p.y,s.clientX-=p.x,s.clientY-=p.y,s.currentTarget=r[n],i[n].fire(s),s.immediatePropagationStopped||s.propagationStopped&&i[n+1]!==s.currentTarget)break}if(a){var l={};for(h(l,s),l.dt=o,l.type="doubletap",n=0;n<i.length&&(l.currentTarget=r[n],i[n].fire(l),!(l.immediatePropagationStopped||l.propagationStopped&&i[n+1]!==l.currentTarget));n++);this.prevTap=l}else this.prevTap=s},collectTaps:function(e,t,i){function r(e,t,r){var a=et?r.querySelectorAll(t):void 0;o!==tt&&O(e,o)&&!P(e,o,i)&&A(e,o,i)&&Q(o,t,a)&&(n.push(e),s.push(o))}if(!this.pointerWasMoved&&this.downTarget&&this.downTarget===i){for(var n=[],s=[],o=i;o;)L.isSet(o)&&(n.push(L(o)),s.push(o)),lt.forEachSelector(r),o=o.parentNode;n.length&&this.fireTaps(e,t,n,s)}},validateSelector:function(e,t,i){for(var r=0,n=t.length;n>r;r++){var s=t[r],o=i[r],a=H(s.getAction(e,this,o),s);if(a&&R(s,o,a))return this.target=s,this.element=o,a}},setSnapping:function(e,t){var i,r,o,a,p,l,d,c,u,g,v=this.target.options.snap,m=v.anchors;if(t=t||this.snapStatus,t.useStatusXY)i={x:t.x,y:t.y};else{var f=D(this.target,this.element);i=h({},e),i.x-=f.x,i.y-=f.y}if(i.x-=this.inertiaStatus.resumeDx,i.y-=this.inertiaStatus.resumeDy,t.realX=i.x,t.realY=i.y,v.range<0&&(v.range=1/0),"path"===v.mode)for(m=[],u=0,g=v.paths.length;g>u;u++){var y=v.paths[u];n(y)&&(y=y(i.x,i.y)),m.push({x:s(y.x)?y.x:i.x,y:s(y.y)?y.y:i.y,range:s(y.range)?y.range:v.range})}if("anchor"!==v.mode&&"path"!==v.mode||!m.length){if("grid"===v.mode){var x=Math.round((i.x-v.gridOffset.x-this.snapOffset.x)/v.grid.x),E=Math.round((i.y-v.gridOffset.y-this.snapOffset.y)/v.grid.y),S=x*v.grid.x+v.gridOffset.x+this.snapOffset.x,w=E*v.grid.y+v.gridOffset.y+this.snapOffset.y;l=S-i.x,d=w-i.y,c=ht(l,d),a=c<v.range,p=S!==t.snappedX||w!==t.snappedY,t.snappedX=S,t.snappedY=w,t.dx=l,t.dy=d,t.range=v.range}}else{for(r={anchor:null,distance:0,range:0,dx:0,dy:0},u=0,g=m.length;g>u;u++){var b=m[u];o=s(b.range)?b.range:v.range,l=b.x-i.x+this.snapOffset.x,d=b.y-i.y+this.snapOffset.y,c=ht(l,d),a=o>c,1/0===o&&r.inRange&&1/0!==r.range&&(a=!1),(!r.anchor||(a?r.inRange&&1/0!==o?c/o<r.distance/r.range:c<r.distance:!r.inRange&&c<r.distance))&&(1/0===o&&(a=!0),r.anchor=b,r.distance=c,r.range=o,r.inRange=a,r.dx=l,r.dy=d,t.range=o)}a=r.inRange,p=r.anchor.x!==t.x||r.anchor.y!==t.y,t.snappedX=r.anchor.x,t.snappedY=r.anchor.y,t.dx=r.dx,t.dy=r.dy}return t.changed=p||a&&!t.locked,t.locked=a,t},setRestriction:function(e,i){var r,s=this.target,o=/resize/.test(this.prepared)?"resize":this.prepared,a=s&&s.options.restrict,p=a&&a[o];if(!p)return i;i=i||this.restrictStatus,r=r=i.useStatusXY?{x:i.x,y:i.y}:h({},e),i.snap&&i.snap.locked&&(r.x+=i.snap.dx||0,r.y+=i.snap.dy||0),r.x-=this.inertiaStatus.resumeDx,r.y-=this.inertiaStatus.resumeDy,i.dx=0,i.dy=0,i.restricted=!1;var l;"parent"===p?p=this.element.parentNode:"self"===p&&(p=this.element),t(p)?l=y(p):(n(p)&&(p=p(r.x,r.y,this.element)),l=p,"x"in p&&"y"in p&&(l={left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height}));var d=Math.max(Math.min(l.right-this.restrictOffset.right,r.x),l.left+this.restrictOffset.left),c=Math.max(Math.min(l.bottom-this.restrictOffset.bottom,r.y),l.top+this.restrictOffset.top);return i.dx=d-r.x,i.dy=c-r.y,i.changed=i.restrictedX!==d||i.restrictedY!==c,i.restricted=!(!i.dx&&!i.dy),i.restrictedX=d,i.restrictedY=c,i},checkAndPreventDefault:function(e,t,i){if(t=t||this.target){var r=t.options,n=r.preventDefault;if("auto"===n&&i&&!/^input$|^textarea$/i.test(i.nodeName)){if(/down|start/i.test(e.type)&&"drag"===this.prepared&&"xy"!==r.dragAxis)return;return void e.preventDefault()}return n===!0?void e.preventDefault():void 0}},calcInertia:function(e){var t=this.target.options.inertia,i=t.resistance,r=-Math.log(t.endSpeed/e.v0)/i;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-r)/i,e.modifiedYe=e.ye=(e.vy0-r)/i,e.te=r,e.lambda_v0=i/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0}},N.prototype={preventDefault:e,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var _t={},It=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","addPointer","removePointer","recordPointer","collectTaps"],Ft=0,$t=It.length;$t>Ft;Ft++){var Nt=It[Ft];_t[Nt]=$(Nt)}lt.indexOfElement=function(e,t){for(var i=0;i<this.length;i++){var r=this[i];if(r.selector===e&&r._context===(t||tt)||!r.selector&&r._element===e)return i}return-1},lt.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},lt.forEachSelector=function(e){for(var t=0;t<this.length;t++){var i=this[t];if(i.selector){var r=e(i,i.selector,i._context,t,this);if(void 0!==r)return r}}},K.prototype=gt,j.prototype={setOnEvents:function(e,t){if("drop"===e){var i=t.ondrop||t.onDrop||t.drop,r=t.ondropactivate||t.onDropActivate||t.dropactivate||t.onactivate||t.onActivate||t.activate,s=t.ondropdeactivate||t.onDropDeactivate||t.dropdeactivate||t.ondeactivate||t.onDeactivate||t.deactivate,o=t.ondragenter||t.onDropEnter||t.dragenter||t.onenter||t.onEnter||t.enter,a=t.ondragleave||t.onDropLeave||t.dragleave||t.onleave||t.onLeave||t.leave,h=t.ondropmove||t.onDropMove||t.dropmove||t.onmove||t.onMove||t.move;n(i)&&(this.ondrop=i),n(r)&&(this.ondropactivate=r),n(s)&&(this.ondropdeactivate=s),n(o)&&(this.ondragenter=o),n(a)&&(this.ondragleave=a),n(h)&&(this.ondropmove=h)}else{var p=t.onstart||t.onStart||t.start,l=t.onmove||t.onMove||t.move,d=t.onend||t.onEnd||t.end,c=t.oninertiastart||t.onInertiaStart||t.inertiastart;e="on"+e,n(p)&&(this[e+"start"]=p),n(l)&&(this[e+"move"]=l),n(d)&&(this[e+"end"]=d),n(c)&&(this[e+"inertiastart"]=c)}return this},draggable:function(e){return i(e)?(this.options.draggable=!0,this.setOnEvents("drag",e),s(e.max)&&(this.options.dragMax=e.max),s(e.maxPerElement)&&(this.options.dragMaxPerElement=e.maxPerElement),/^x$|^y$|^xy$/.test(e.axis)?this.options.dragAxis=e.axis:null===e.axis&&delete this.options.dragAxis,this):o(e)?(this.options.draggable=e,this):null===e?(delete this.options.draggable,this):this.options.draggable},dropzone:function(e){return i(e)?(this.options.dropzone=!0,this.setOnEvents("drop",e),this.accept(e.accept),/^(pointer|center)$/.test(e.overlap)?this.options.dropOverlap=e.overlap:s(e.overlap)&&(this.options.dropOverlap=Math.max(Math.min(1,e.overlap),0)),this):o(e)?(this.options.dropzone=e,this):null===e?(delete this.options.dropzone,this):this.options.dropzone},dropCheck:function(e,t,i,r,n){if(!(n=n||this.getRect(r)))return!1;var o=this.options.dropOverlap;if("pointer"===o){var a,h,p=u(e),l=D(t,i);return p.x+=l.x,p.y+=l.y,a=p.x>n.left&&p.x<n.right,h=p.y>n.top&&p.y<n.bottom,a&&h}var d=t.getRect(i);if("center"===o){var c=d.left+d.width/2,g=d.top+d.height/2;return c>=n.left&&c<=n.right&&g>=n.top&&g<=n.bottom}if(s(o)){var v=Math.max(0,Math.min(n.right,d.right)-Math.max(n.left,d.left))*Math.max(0,Math.min(n.bottom,d.bottom)-Math.max(n.top,d.top)),m=v/(d.width*d.height);return m>=o}},dropChecker:function(e){return n(e)?(this.dropCheck=e,this):this.dropCheck},accept:function(e){return t(e)?(this.options.accept=e,this):a(e)?(tt.querySelector(e),this.options.accept=e,this):null===e?(delete this.options.accept,this):this.options.accept},resizable:function(e){return i(e)?(this.options.resizable=!0,this.setOnEvents("resize",e),s(e.max)&&(this.options.resizeMax=e.max),s(e.maxPerElement)&&(this.options.resizeMaxPerElement=e.maxPerElement),/^x$|^y$|^xy$/.test(e.axis)?this.options.resizeAxis=e.axis:null===e.axis&&(this.options.resizeAxis=gt.resizeAxis),this):o(e)?(this.options.resizable=e,this):this.options.resizable},resizeable:e,squareResize:function(e){return o(e)?(this.options.squareResize=e,this):null===e?(delete this.options.squareResize,this):this.options.squareResize},gesturable:function(e){return i(e)?(this.options.gesturable=!0,this.setOnEvents("gesture",e),s(e.max)&&(this.options.gestureMax=e.max),s(e.maxPerElement)&&(this.options.gestureMaxPerElement=e.maxPerElement),this):o(e)?(this.options.gesturable=e,this):null===e?(delete this.options.gesturable,this):this.options.gesturable},gestureable:e,autoScroll:function(e){var r=gt.autoScroll;if(i(e)){var n=this.options.autoScroll;return n===r&&(n=this.options.autoScroll={margin:r.margin,distance:r.distance,interval:r.interval,container:r.container}),n.margin=this.validateSetting("autoScroll","margin",e.margin),n.speed=this.validateSetting("autoScroll","speed",e.speed),n.container=t(e.container)||e.container instanceof window.Window?e.container:r.container,this.options.autoScrollEnabled=!0,this.options.autoScroll=n,this}return o(e)?(this.options.autoScrollEnabled=e,this):null===e?(delete this.options.autoScrollEnabled,delete this.options.autoScroll,this):this.options.autoScrollEnabled?this.options.autoScroll:!1},snap:function(e){var t=gt.snap;if(i(e)){var r=this.options.snap;return r===t&&(r={}),r.mode=this.validateSetting("snap","mode",e.mode),r.endOnly=this.validateSetting("snap","endOnly",e.endOnly),r.actions=this.validateSetting("snap","actions",e.actions),r.range=this.validateSetting("snap","range",e.range),r.paths=this.validateSetting("snap","paths",e.paths),r.grid=this.validateSetting("snap","grid",e.grid),r.gridOffset=this.validateSetting("snap","gridOffset",e.gridOffset),r.anchors=this.validateSetting("snap","anchors",e.anchors),r.elementOrigin=this.validateSetting("snap","elementOrigin",e.elementOrigin),this.options.snapEnabled=!0,this.options.snap=r,this}return o(e)?(this.options.snapEnabled=e,this):null===e?(delete this.options.snapEnabled,delete this.options.snap,this):this.options.snapEnabled?this.options.snap:!1},inertia:function(e){var t=gt.inertia;if(i(e)){var r=this.options.inertia;return r===t&&(r=this.options.inertia={resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions,zeroResumeDelta:t.zeroResumeDelta,smoothEndDuration:t.smoothEndDuration}),r.resistance=this.validateSetting("inertia","resistance",e.resistance),r.minSpeed=this.validateSetting("inertia","minSpeed",e.minSpeed),r.endSpeed=this.validateSetting("inertia","endSpeed",e.endSpeed),r.actions=this.validateSetting("inertia","actions",e.actions),r.zeroResumeDelta=this.validateSetting("inertia","zeroResumeDelta",e.zeroResumeDelta),r.smoothEndDuration=this.validateSetting("inertia","smoothEndDuration",e.smoothEndDuration),this.options.inertiaEnabled=!0,this.options.inertia=r,this}return o(e)?(this.options.inertiaEnabled=e,this):null===e?(delete this.options.inertiaEnabled,delete this.options.inertia,this):this.options.inertiaEnabled?this.options.inertia:!1},getAction:function(e,t,i){var r=this.defaultActionChecker(e,t,i);return this.options.actionChecker&&(r=this.options.actionChecker(e,r,this,i,t)),r},defaultActionChecker:U,actionChecker:function(e){return n(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!t(e)&&(e=this._context.querySelector(this.selector)),y(e)},rectChecker:function(e){return n(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return o(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return o(e)||"auto"===e?(this.options.preventDefault=e,this):null===e?(delete this.options.preventDefault,this):this.options.preventDefault},origin:function(e){return i(e)||/^parent$|^self$/.test(e)?(this.options.origin=e,this):null===e?(delete this.options.origin,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):null===e?(delete this.options.deltaSource,this):this.options.deltaSource},restrict:function(e){if(void 0===e)return this.options.restrict;if(o(e))gt.restrictEnabled=e;else if(i(e)){var t={};(i(e.drag)||/^parent$|^self$/.test(e.drag))&&(t.drag=e.drag),(i(e.resize)||/^parent$|^self$/.test(e.resize))&&(t.resize=e.resize),(i(e.gesture)||/^parent$|^self$/.test(e.gesture))&&(t.gesture=e.gesture),o(e.endOnly)&&(t.endOnly=e.endOnly),i(e.elementRect)&&(t.elementRect=e.elementRect),this.options.restrictEnabled=!0,this.options.restrict=t}else null===e&&(delete this.options.restrict,delete this.options.restrictEnabled);return this},context:function(){return this._context},_context:tt,ignoreFrom:function(e){return a(e)?(tt.querySelector(e),this.options.ignoreFrom=e,this):t(e)?(this.options.ignoreFrom=e,this):null===e?(delete this.options.ignoreFrom,this):this.options.ignoreFrom},allowFrom:function(e){return a(e)?(tt.querySelector(e),this.options.allowFrom=e,this):t(e)?(this.options.allowFrom=e,this):null===e?(delete this.options.allowFrom,this):this.options.allowFrom},validateSetting:function(e,n,h){var p=gt[e],l=this.options[e];if(void 0!==p&&void 0!==p[n]){if("objectTypes"in p&&p.objectTypes.test(n))return i(h)?h:n in l&&i(l[n])?l[n]:p[n];if("arrayTypes"in p&&p.arrayTypes.test(n))return r(h)?h:n in l&&r(l[n])?l[n]:p[n];if("stringTypes"in p&&p.stringTypes.test(n))return a(h)?h:n in l&&a(l[n])?l[n]:p[n];if("numberTypes"in p&&p.numberTypes.test(n))return s(h)?h:n in l&&s(l[n])?l[n]:p[n];if("boolTypes"in p&&p.boolTypes.test(n))return o(h)?h:n in l&&o(l[n])?l[n]:p[n];if("elementTypes"in p&&p.elementTypes.test(n))return t(h)?h:n in l&&t(l[n])?l[n]:p[n]}return null},element:function(){return this._element},fire:function(e){function t(){switch(s){case zt.directBind:if(e.type in h._iEvents){for(i=h._iEvents[e.type],r=i.length;r>o&&!e.immediatePropagationStopped;o++)p=i[o].name,i[o](e);break}break;case zt.onevent:n(h[a])&&(p=h[a].name,h[a](e));break;case zt.globalBind:if(e.type in Dt&&(i=Dt[e.type]))for(r=i.length;r>o&&!e.immediatePropagationStopped;o++)p=i[o].name,i[o](e)}o=0,s++}if(!e||!e.type||!J(bt,e.type))return this;var i,r,s=0,o=0,a="on"+e.type,h=this,p="";if(Tt)for(;3>s&&!e.propagationStopped;)try{t()}catch(l){p=p?', "'+p+'"':"",it.error('Error thrown from "'+e.type+'" listener'+p+":\n"+l.message),it.log(l.stack),it.log(l),o++,s===zt.onevent&&s++}else for(;3>s&&!e.propagationStopped;)t();return this},on:function(e,t,i){if("wheel"===e&&(e=wt),i=i?!0:!1,J(bt,e))e in this._iEvents?J(this._iEvents[e],t)||this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){ut[e]||(ut[e]={selectors:[],contexts:[],listeners:[]},Rt.addToElement(this._context,e,W),Rt.addToElement(this._context,e,B,!0));var r,n=ut[e];for(r=n.selectors.length-1;r>=0&&(n.selectors[r]!==this.selector||n.contexts[r]!==this._context);r--);-1===r&&(r=n.selectors.length,n.selectors.push(this.selector),n.contexts.push(this._context),n.listeners.push([])),n.listeners[r].push([t,i])}else Rt.add(this,e,t,i);return this},off:function(e,t,i){var r,n=-1;if(i=i?!0:!1,"wheel"===e&&(e=wt),J(bt,e))r=this._iEvents[e],r&&-1!==(n=V(r,t))&&this._iEvents[e].splice(n,1);else if(this.selector){var s=ut[e],o=!1;if(!s)return this;for(n=s.selectors.length-1;n>=0;n--)if(s.selectors[n]===this.selector&&s.contexts[n]===this._context){for(var a=s.listeners[n],h=a.length-1;h>=0;h--){var p=a[h][0],l=a[h][1];if(p===t&&l===i){a.splice(h,1),a.length||(s.selectors.splice(n,1),s.contexts.splice(n,1),s.listeners.splice(n,1),Rt.removeFromElement(this._context,e,W),Rt.removeFromElement(this._context,e,B,!0),s.selectors.length||(ut[e]=null)),o=!0;break}}if(o)break}}else Rt.remove(this,t,i);return this},set:function(e){e&&i(e)||(e={}),this.options=new K(e),this.draggable("draggable"in e?e.draggable:this.options.draggable),this.dropzone("dropzone"in e?e.dropzone:this.options.dropzone),this.resizable("resizable"in e?e.resizable:this.options.resizable),this.gesturable("gesturable"in e?e.gesturable:this.options.gesturable);for(var t=["accept","actionChecker","allowFrom","autoScroll","deltaSource","dropChecker","ignoreFrom","inertia","origin","preventDefault","rectChecker","restrict","snap","styleCursor"],r=0,n=t.length;n>r;r++){var s=t[r];s in e&&this[s](e[s])}return this},unset:function(){if(Rt.remove(this,"all"),a(this.selector))for(var e in ut)for(var t=ut[e],i=0;i<t.selectors.length;i++){t.selectors[i]===this.selector&&t.contexts[i]===this._context&&(t.selectors.splice(i,1),t.contexts.splice(i,1),t.listeners.splice(i,1),t.selectors.length||(ut[e]=null)),Rt.removeFromElement(this._context,e,W),Rt.removeFromElement(this._context,e,B,!0);break}else Rt.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),lt.splice(V(lt,this),1),L}},j.prototype.gestureable=j.prototype.gesturable,j.prototype.resizeable=j.prototype.resizable,L.isSet=function(e,t){return-1!==lt.indexOfElement(e,t&&t.context)},L.on=function(e,t,i){return J(bt,e)?Dt[e]?J(Dt[e],t)||Dt[e].push(t):Dt[e]=[t]:Rt.add(Xt,e,t,i),L},L.off=function(e,t,i){if(J(bt,e)){var r;e in Dt&&-1!==(r=V(Dt[e],t))&&Dt[e].splice(r,1)}else Rt.remove(Xt,e,t,i);return L},L.simulate=function(t,i,r){var n,s={};return"resize"===t&&(t="resizexy"),/^(drag|resizexy|resizex|resizey)$/.test(t)?(r?h(s,r):(n=i instanceof rt?i.getBoundingClientRect():n=i.getClientRects()[0],"drag"===t?(s.pageX=n.left+n.width/2,s.pageY=n.top+n.height/2):(s.pageX=n.right,s.pageY=n.bottom)),s.target=s.currentTarget=i,s.preventDefault=s.stopPropagation=e,_t.pointerDown(s,t),L):L},L.enableDragging=function(e){return null!==e&&void 0!==e?(St.drag=e,L):St.drag},L.enableResizing=function(e){return null!==e&&void 0!==e?(St.resize=e,L):St.resize},L.enableGesturing=function(e){return null!==e&&void 0!==e?(St.gesture=e,L):St.gesture},L.eventTypes=bt,L.debug=function(){var e=dt[0]||new I;return{interactions:dt,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:_t.addPointer,removePointer:_t.removePointer,recordPointer:_t.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTime,downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:j,IOptions:K,interactables:lt,pointerIsDown:e.pointerIsDown,defaultOptions:gt,defaultActionChecker:U,actionCursors:Et,dragMove:_t.dragMove,resizeMove:_t.resizeMove,gestureMove:_t.gestureMove,pointerUp:_t.pointerUp,pointerDown:_t.pointerDown,pointerMove:_t.pointerMove,pointerHover:_t.pointerHover,events:Rt,globalEvents:Dt,delegatedEvents:ut}},L.getTouchAverage=E,L.getTouchBBox=S,L.getTouchDistance=w,L.getTouchAngle=b,L.getElementRect=y,L.margin=function(e){return s(e)?(yt=e,L):yt},L.styleCursor=function(e){return o(e)?(gt.styleCursor=e,L):gt.styleCursor},L.autoScroll=function(e){var r=gt.autoScroll;return i(e)?(gt.autoScrollEnabled=!0,s(e.margin)&&(r.margin=e.margin),s(e.speed)&&(r.speed=e.speed),r.container=t(e.container)||e.container instanceof window.Window?e.container:r.container,L):o(e)?(gt.autoScrollEnabled=e,L):gt.autoScrollEnabled?r:!1},L.snap=function(e){var t=gt.snap;return i(e)?(gt.snapEnabled=!0,a(e.mode)&&(t.mode=e.mode),o(e.endOnly)&&(t.endOnly=e.endOnly),s(e.range)&&(t.range=e.range),r(e.actions)&&(t.actions=e.actions),r(e.anchors)&&(t.anchors=e.anchors),i(e.grid)&&(t.grid=e.grid),i(e.gridOffset)&&(t.gridOffset=e.gridOffset),i(e.elementOrigin)&&(t.elementOrigin=e.elementOrigin),L):o(e)?(gt.snapEnabled=e,L):gt.snapEnabled},L.inertia=function(e){var t=gt.inertia;return i(e)?(gt.inertiaEnabled=!0,s(e.resistance)&&(t.resistance=e.resistance),s(e.minSpeed)&&(t.minSpeed=e.minSpeed),s(e.endSpeed)&&(t.endSpeed=e.endSpeed),s(e.smoothEndDuration)&&(t.smoothEndDuration=e.smoothEndDuration),o(e.zeroResumeDelta)&&(t.zeroResumeDelta=e.zeroResumeDelta),r(e.actions)&&(t.actions=e.actions),L):o(e)?(gt.inertiaEnabled=e,L):{enabled:gt.inertiaEnabled,resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions,zeroResumeDelta:t.zeroResumeDelta}},L.supportsTouch=function(){return mt},L.supportsPointerEvent=function(){return ft},L.currentAction=function(){for(var e=0,t=dt.length;t>e;e++){var i=dt[e].currentAction();if(i)return i}return null},L.stop=function(e){for(var t=dt.length-1;t>0;t--)dt[t].stop(e);return L},L.dynamicDrop=function(e){return o(e)?(ct=e,L):ct},L.deltaSource=function(e){return"page"===e||"client"===e?(gt.deltaSource=e,this):gt.deltaSource},L.restrict=function(e){var t=gt.restrict;return void 0===e?gt.restrict:(o(e)?gt.restrictEnabled=e:i(e)?((i(e.drag)||/^parent$|^self$/.test(e.drag))&&(t.drag=e.drag),(i(e.resize)||/^parent$|^self$/.test(e.resize))&&(t.resize=e.resize),(i(e.gesture)||/^parent$|^self$/.test(e.gesture))&&(t.gesture=e.gesture),o(e.endOnly)&&(t.endOnly=e.endOnly),i(e.elementRect)&&(t.elementRect=e.elementRect),gt.restrictEnabled=!0):null===e&&(t.drag=t.resize=t.gesture=null,t.endOnly=!1),this)},L.pointerMoveTolerance=function(e){return s(e)?(gt.pointerMoveTolerance=e,this):gt.pointerMoveTolerance},L.tryCatchEventListeners=function(e){return o(e)?(Tt=e,this):Tt},L.maxInteractions=function(e){return s(e)?(xt=e,this):xt},at?(Z=at===window.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Rt.add(Xt,Z.up,_t.collectTaps),Rt.add(Xt,Z.move,_t.recordPointer),Rt.add(Xt,Z.down,_t.selectorDown),Rt.add(Xt,Z.move,_t.pointerMove),Rt.add(Xt,Z.up,_t.pointerUp),Rt.add(Xt,Z.over,_t.pointerOver),Rt.add(Xt,Z.out,_t.pointerOut),Rt.add(Xt,Z.up,_t.removePointer),Rt.add(Xt,Z.cancel,_t.removePointer),Rt.add(Xt,Z.move,vt.edgeMove)):(Rt.add(Xt,"mouseup",_t.collectTaps),Rt.add(Xt,"touchend",_t.collectTaps),Rt.add(Xt,"mousemove",_t.recordPointer),Rt.add(Xt,"touchmove",_t.recordPointer),Rt.add(Xt,"mousedown",_t.selectorDown),Rt.add(Xt,"mousemove",_t.pointerMove),Rt.add(Xt,"mouseup",_t.pointerUp),Rt.add(Xt,"mouseover",_t.pointerOver),Rt.add(Xt,"mouseout",_t.pointerOut),Rt.add(Xt,"touchstart",_t.selectorDown),Rt.add(Xt,"touchmove",_t.pointerMove),Rt.add(Xt,"touchend",_t.pointerUp),Rt.add(Xt,"touchcancel",_t.pointerUp),Rt.add(Xt,"touchend",_t.removePointer),Rt.add(Xt,"touchcancel",_t.removePointer),Rt.add(Xt,"mousemove",vt.edgeMove),Rt.add(Xt,"touchmove",vt.edgeMove)),Rt.add(At,"blur",G);try{window.frameElement&&(kt._element=window.frameElement.ownerDocument,Rt.add(kt,"mouseup",_t.pointerUp),Rt.add(kt,"touchend",_t.pointerUp),Rt.add(kt,"touchcancel",_t.pointerUp),Rt.add(kt,"pointerup",_t.pointerUp),Rt.add(kt,"MSPointerUp",_t.pointerUp),Rt.add(Yt,"blur",G))}catch(qt){L.windowParentError=qt}Rt.useAttachEvent&&Rt.add(Xt,"selectstart",function(e){var t=dt[0];t.currentAction()&&t.checkAndPreventDefault(e)}),Mt in Element.prototype&&n(Element.prototype[Mt])||(et=function(e,t,i){i=i||e.parentNode.querySelectorAll(t);for(var r=0,n=i.length;n>r;r++)if(i[r]===e)return!0;return!1}),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)Ot=window[t[i]+"RequestAnimationFrame"],Pt=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];Ot||(Ot=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),n=window.setTimeout(function(){t(i+r)},r);return e=i+r,n}),Pt||(Pt=function(e){clearTimeout(e)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=L),exports.interact=L):"function"==typeof define&&define.amd?define("interact",function(){return L}):window.interact=L}();
