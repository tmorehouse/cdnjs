/* interact.js v1.0.11 | https://raw.github.com/taye/interact.js/master/LICENSE */
!function(e){"use strict";function t(){}function n(e){return!!e&&("object"==typeof Element?e instanceof Element:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)}function i(e,t){o(t,ut),e.pageX=ut.x,e.pageY=ut.y,a(t,ut),e.clientX=ut.x,e.clientY=ut.y,e.timeStamp=(new Date).getTime()}function r(e,t,n){e.pageX=n.pageX-t.pageX,e.pageY=n.pageY-t.pageY,e.clientX=n.clientX-t.clientX,e.clientY=n.clientY-t.clientY,e.timeStamp=(new Date).getTime()-t.timeStamp;var i=Math.max(e.timeStamp/1e3,.001);e.pageSpeed=nt(e.pageX,e.pageY)/i,e.pageVX=e.pageX/i,e.pageVY=e.pageY/i,e.clientSpeed=nt(e.clientX,e.pageY)/i,e.clientVX=e.clientX/i,e.clientVY=e.clientY/i}function s(e,t,n){var i,r,s;return n=n||{},e=e||"page",/touch/.test(t.type)&&t.touches?(i=t.touches.length?t.touches[0]:t.changedTouches[0],r=i[e+"X"],s=i[e+"Y"]):(r=t[e+"X"],s=t[e+"Y"]),n.x=r,n.y=s,n}function o(t,n){return n=n||{},t instanceof E?/inertiastart/.test(t.type)?(o(ht.pointerUp,n),n.x+=ht.sx,n.y+=ht.sy):(n.x=t.pageX,n.y=t.pageY):Wt?(s("screen",t,n),n.x+=e.scrollX,n.y+=e.scrollY):/gesture|inertia/i.test(t.type)?(s("client",t,n),n.x+=U.documentElement.scrollLeft,n.y+=U.documentElement.scrollTop):s("page",t,n),n}function a(e,t){return t=t||{},e instanceof E?/inertiastart/.test(e.type)?(a(ht.pointerUp,t),t.x+=ht.sx,t.y+=ht.sy):(t.x=e.clientX,t.y=e.clientY):s(Wt?"screen":"client",e,t),t}function l(){return{x:e.scrollX||U.documentElement.scrollLeft,y:e.scrollY||U.documentElement.scrollTop}}function c(e){var t=/ipad|iphone|ipod/i.test(navigator.userAgent)?{x:0,y:0}:l(),n=e instanceof W?e.getBoundingClientRect():e.getClientRects()[0];return n&&{left:n.left+t.x,right:n.right+t.x,top:n.top+t.y,bottom:n.bottom+t.y,width:n.width||n.right-n.left,height:n.heigh||n.bottom-n.top}}function p(e){var t=[];return e instanceof Array?(t[0]=e[0],t[1]=e[1]):Z?(t[0]=lt[0],t[1]=lt[1]):(t[0]=e.touches[0],t[1]="touchend"===e.type&&1===e.touches.length?e.changedTouches[0]:e.touches[1]),t}function d(e){var t=p(e);return{pageX:(t[0].pageX+t[1].pageY)/2,pageY:(t[0].pageX+t[1].pageY)/2,clientX:(t[0].clientX+t[1].clientY)/2,clientY:(t[0].clientX+t[1].clientY)/2}}function u(e){if(e.touches&&e.touches.length||Z&&lt.length){var t=p(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),r=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,width:r-n,height:s-i}}}function h(e){var t=(Ot&&Ot.options||wt).deltaSource,n=t+"X",i=t+"Y",r=p(e),s=r[0][n]-r[1][n],o=r[0][i]-r[1][i];return nt(s,o)}function f(e,t){var n=(Ot&&Ot.options||wt).deltaSource,i=n+"X",r=n+"Y",s=p(e),o=s[0][i]-s[1][i],a=s[0][r]-s[1][r],l=180*Math.atan(a/o)/Math.PI;if("number"==typeof t){var c=l-t,d=c%360;d>315?l-=360+l/360|0:d>135?l-=180+l/360|0:-315>d?l+=360+l/360|0:-135>d&&(l+=180+l/360|0)}return l}function g(e,t){e=e||Ot;var i=e?e.options.origin:wt.origin;return t=t||e._element,"parent"===i?i=t.parentNode:"self"===i&&(i=t),n(i)?(i=c(i),i.x=i.left,i.y=i.top):"function"==typeof i&&(i=i(e&&t)),i}function y(e){for(var t=0,n=e.length;n>t;t++)e[t].rect=e[t].getRect()}function m(){var e=ht.target.options.inertia,t=e.resistance,n=(new Date).getTime()/1e3-ht.t0;if(n<ht.te){var i=1-(Math.exp(-t*n)-ht.lambda_v0)/ht.one_ve_v0;if(ht.modifiedXe===ht.xe&&ht.modifiedYe===ht.ye)ht.sx=ht.xe*i,ht.sy=ht.ye*i;else{var r=x(0,0,ht.xe,ht.ye,ht.modifiedXe,ht.modifiedYe,i);ht.sx=r.x,ht.sy=r.y}w(ht.startEvent),ht.i=Jt(m)}else ht.sx=ht.modifiedXe,ht.sy=ht.modifiedYe,ht.active=!1,w(ht.startEvent),q(ht.startEvent)}function v(e,t,n,i){var r=1-e;return r*r*t+2*r*e*n+e*e*i}function x(e,t,n,i,r,s,o){return{x:v(o,e,n,r),y:v(o,t,i,s)}}function b(e){if(e.length){var t,n,i,r,s,o=e[0],a=[],l=[];for(r=1;r<e.length;r++){if(t=e[r],!a.length)for(n=o;n.parentNode!==U;)a.unshift(n),n=n.parentNode;if(o instanceof Q&&t instanceof W&&!(t instanceof H)){if(t===o.parentNode)continue;n=t.ownerSVGElement}else n=t;for(l=[];n.parentNode!==U;)l.unshift(n),n=n.parentNode;for(s=0;l[s]&&l[s]===a[s];)s++;var c=[l[s-1],l[s],a[s]];for(i=c[0].lastChild;i;){if(i===c[1]){o=t,a=[];break}if(i===c[2])break;i=i.previousSibling}}return{element:o,index:e.indexOf(o)}}}function S(e,t){if(yt.length||xt.length){var i,r,s,o=[],a=[],l=[],c=[];for(t=t||Ot._element,i=0;i<yt.length;i++){var p=yt[i];if(n(p.options.accept)){if(p.options.accept!==t)continue}else if("string"==typeof p.options.accept&&!t[Ht](p.options.accept))continue;t!==p._element&&p.dropCheck(e,Ot,t)&&(o.push(p),a.push(p._element))}if(r=b(a),s=r?o[r.index]:null,xt.length){for(i=0;i<xt.length;i++)for(var d=xt[i],u=U.querySelectorAll(d.selector),h=0,f=u.length;f>h;h++){if(d._element=u[h],d.rect=d.getRect(),n(d.options.accept)){if(d.options.accept!==t)continue}else if("string"==typeof d.options.accept&&!t[Ht](d.options.accept))continue;d._element!==t&&-1===a.indexOf(d._element)&&c.indexOf(-1===d._element)&&d.dropCheck(e,Ot)&&(l.push(d),c.push(d._element))}c.length&&(s&&(l.push(s),c.push(s._element)),r=b(c),r&&(s=l[r.index],s.selector&&(s._element=c[r.index])))}return s?{dropzone:s,element:s._element}:null}}function E(e,t,n,r,s){var l,c,p=(Ot&&Ot.options||wt).deltaSource,y=p+"X",m=p+"Y",v=Ot?Ot.options:wt,x=g(Ot,r);if(r=r||Ot._element,"gesture"!==t||Z)c=o(e),l=a(e),c.x-=x.x,c.y-=x.y,l.x-=x.x,l.y-=x.y,v.snapEnabled&&-1!==v.snap.actions.indexOf(t)&&(this.snap={range:Tt.range,locked:Tt.locked,x:Tt.x,y:Tt.y,realX:Tt.realX,realY:Tt.realY,dx:Tt.dx,dy:Tt.dy},Tt.locked&&(c.x+=Tt.dx,c.y+=Tt.dy,l.x+=Tt.dx,l.y+=Tt.dy));else{var b=d(e);c={x:b.pageX-x.x,y:b.pageY-x.y},l={x:b.clientX-x.x,y:b.clientY-x.y}}if(Ot.options.restrict[t]&&At.restricted&&(c.x+=At.dx,c.y+=At.dy,l.x+=At.dx,l.y+=At.dy,this.restrict={dx:At.dx,dy:At.dy}),this.pageX=c.x,this.pageY=c.y,this.clientX=l.x,this.clientY=l.y,"start"!==n||e instanceof E||i(st,this),this.x0=st.pageX,this.y0=st.pageY,this.clientX0=st.clientX,this.clientY0=st.clientY,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.target=r,this.t0=ct,this.type=t+(n||""),ht.active&&(this.detail="inertia"),s&&(this.relatedTarget=s),"end"===n||"drop"===t?"client"===p?(this.dx=l.x-st.clientX,this.dy=l.y-st.clientY):(this.dx=c.x-st.pageX,this.dy=c.y-st.pageY):"inertiastart"===n?(this.dx=dt.dx,this.dy=dt.dy):"client"===p?(this.dx=l.x-dt.clientX,this.dy=l.y-dt.clientY):(this.dx=c.x-dt.pageX,this.dy=c.y-dt.pageY),"resize"===t?v.squareResize||e.shiftKey?("y"===Nt?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=Nt,"x"===Nt?this.dy=0:"y"===Nt&&(this.dx=0)):"gesture"===t&&(this.touches=Z?[lt[0],lt[1]]:e.touches,"start"===n?(this.distance=h(e),this.box=u(e),this.scale=1,this.ds=0,this.angle=f(e),this.da=0):"end"===n||e instanceof E?(this.distance=dt.distance,this.box=dt.box,this.scale=dt.scale,this.ds=this.scale-1,this.angle=dt.angle,this.da=this.angle-ft.startAngle):(this.distance=h(e),this.box=u(e),this.scale=this.distance/ft.startDistance,this.angle=f(e,ft.prevAngle),this.ds=this.scale-ft.prevScale,this.da=this.angle-ft.prevAngle)),"start"===n)this.timeStamp=ct,this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===n)this.timeStamp=(new Date).getTime(),this.dt=dt.dt,this.duration=dt.duration,this.speed=dt.speed,this.velocityX=dt.velocityX,this.velocityY=dt.velocityY;else{this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-dt.timeStamp,this.duration=this.timeStamp-ct;var S,O,z;"end"===n||e instanceof E?(z=Math.max(("end"===n?this.duration:this.dt)/1e3,.001),S=this[y]-dt[y],O=this[m]-dt[m],this.snap&&this.snap.locked&&(S-=this.snap.dx,O-=this.snap.dy),this.restrict&&(S-=this.restrict.dx,O-=this.restrict.dy),dt.snap&&dt.snap.locked&&(S-=dt[y]-dt.snap.dx,O-=dt[m]-dt.snap.dy),dt.restrict&&(S+=dt.restrict.dx,O+=dt.restrict.dy),this.speed=nt(S,O)/z,this.velocityX=S/z,this.velocityY=O/z):(this.speed=ot[p+"Speed"],this.velocityX=ot[p+"VX"],this.velocityY=ot[p+"VY"])}}function O(e,t){if("string"!=typeof e)return null;t=t||Ot;var n=-1!==e.indexOf("resize")?"resize":e,i=(t||Ot).options;return("resize"===n&&i.resizable||"drag"===e&&i.draggable||"gesture"===e&&i.gesturable)&&Vt[n]?(("resize"===e||"resizeyx"===e)&&(e="resizexy"),e):null}function z(e){var t,n=e.target instanceof J?e.target.correspondingUseElement:e.target;if(Z&&T(e),ht.active&&Ot.selector)for(;n!==U;){if(n===ht.targetElement&&O(Ot.getAction(e))===Bt)return Qt(ht.i),ht.active=!1,void(Z&&T(e,Et));n=n.parentNode}if(!(Pt||Lt||Rt)){if(bt.length&&/mousedown|pointerdown/i.test(e.type))t=j(e,bt);else for(var i,r;n!==U&&!t;){bt=[];for(i in vt)r=Element.prototype[Ht]===K?U.querySelectorAll(i):void 0,n[Ht](i,r)&&(vt[i]._element=n,bt.push(vt[i]));t=j(e,bt),n=n.parentNode}return t?(kt=!0,X(e,t)):void 0}}function X(e,t){Z&&T(e),((e.touches&&e.touches.length<2||at&&at.length<2)&&!Ot||!kt)&&(Ot=gt.get(e.currentTarget));var n=Ot&&Ot.options;if(Ot&&!(Pt||Lt||Rt)){var r=O(t||Ot.getAction(e));if(Z&&e instanceof Z&&(Ot._gesture.target||(Ot._gesture.target=Ot._element),T(e,Ot._gesture)),!r)return e;kt=!0,jt=!1,n.styleCursor&&(U.documentElement.style.cursor=It[r].cursor),Nt="resizexy"===r?"xy":"resizex"===r?"x":"resizey"===r?"y":"","gesture"===r&&(e.touches&&e.touches.length<2||Z&&at.length<2)&&(r=null),Bt=r,Tt.x=null,Tt.y=null,/^input$|^textarea$/i.test(Ot._element.nodeName)||e.preventDefault(),ct=(new Date).getTime(),pt=e,i(it,e)}else ht.active&&e.currentTarget===ht.targetElement&&Ot===ht.target&&O(Ot.getAction(e))===Bt&&(Qt(ht.i),ht.active=!1,Z&&(Ot._gesture.target||(Ot._gesture.target=Ot._element),T(e,Ot._gesture)))}function Y(e,t){var n,i,r,s,a,l,c,p,d,u,h=Ot.options.snap,f=h.anchors;if(t=t||Tt,t.useStatusXY)n={x:t.x,y:t.y};else{var y=g(Ot);n=o(e),n.x-=y.x,n.y-=y.y}if(t.realX=n.x,t.realY=n.y,h.range<0&&(h.range=1/0),"path"===h.mode)for(f=[],d=0,u=h.paths.length;u>d;d++){var m=h.paths[d];"function"==typeof m&&(m=m(n.x,n.y)),f.push({x:"number"==typeof m.x?m.x:n.x,y:"number"==typeof m.y?m.y:n.y,range:"number"==typeof m.range?m.range:h.range})}if("anchor"!==h.mode&&"path"!==h.mode||!f.length){if("grid"===h.mode){var v=Math.round((n.x-h.gridOffset.x)/h.grid.x),x=Math.round((n.y-h.gridOffset.y)/h.grid.y),b=v*h.grid.x+h.gridOffset.x,S=x*h.grid.y+h.gridOffset.y;l=b-n.x,c=S-n.y,p=nt(l,c),s=p<h.range,a=b!==t.x||S!==t.y,t.x=b,t.y=S,t.dx=l,t.dy=c,t.range=h.range}}else{for(i={anchor:null,distance:0,range:0,dx:0,dy:0},d=0,u=f.length;u>d;d++){var E=f[d];r="number"==typeof E.range?E.range:h.range,l=E.x-n.x,c=E.y-n.y,p=nt(l,c),s=r>p,1/0===r&&i.inRange&&1/0!==i.range&&(s=!1),(!i.anchor||(s?i.inRange&&1/0!==r?p/r<i.distance/i.range:p<i.distance:!i.inRange&&p<i.distance))&&(1/0===r&&(s=!0),i.anchor=E,i.distance=p,i.range=r,i.inRange=s,i.dx=l,i.dy=c,t.range=r)}s=i.inRange,a=i.anchor.x!==t.x||i.anchor.y!==t.y,t.x=i.anchor.x,t.y=i.anchor.y,t.dx=i.dx,t.dy=i.dy}return t.changed=a||s&&!t.locked,t.locked=s,t}function _(e,t){var i,r=V.currentAction()||Bt,s=Ot&&Ot.options.restrict[r];if(t=t||At,t.useStatusXY)i={x:t.x,y:t.y};else{var a=g(Ot);i=o(e),i.x-=a.x,i.y-=a.y}if(t.dx=0,t.dy=0,t.restricted=!1,r&&s){var l,p=i.x,d=i.y;return"parent"===s?s=Ot._element.parentNode:"self"===s&&(s=Ot._element),n(s)?l=c(s):("function"==typeof s&&(s=s(i.x,i.y,Ot._element)),l=s,"x"in s&&"y"in s&&(l={left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})),t.dx=Math.max(Math.min(l.right,i.x),l.left)-p,t.dy=Math.max(Math.min(l.bottom,i.y),l.top)-d,t.restricted=!0,t}}function w(e,t){if(e instanceof E||!kt||"mousemove"===e.type&&"touchstart"===pt.type||i(rt,e),jt=!0,kt&&(!ht.active||e instanceof E&&/inertiastart/.test(e.type))&&(Pt||Lt||Rt||r(ot,it,rt),Bt&&Ot)){var n=Ot.options.restrictEnabled&&(!Ot.options.restrict.endOnly||t),s=!(Pt||Lt||Rt),o=s?pt:e;s&&(dt=pt),n||(At.restricted=!1),!Ot.options.snapEnabled||-1===Ot.options.snap.actions.indexOf(Bt)||Ot.options.snap.endOnly&&!t?(n&&_(e),It[Bt].moveListener(e)):(Y(o),(Tt.changed||!Tt.locked||n)&&(n&&_(e),It[Bt].moveListener(e)))}e instanceof E||!kt||"mousemove"===e.type&&"touchstart"===pt.type||(r(ot,it,rt),i(it,e)),(Pt||Lt)&&Mt.edgeMove(e)}function T(e,t){if(!lt.length||lt[0].pointerType===e.pointerType){t&&t.addPointer(e.pointerId);var n=at.indexOf(e.pointerId);-1===n?(at.push(e.pointerId),lt.push(e)):lt[n]=e}}function A(e){var t=at.indexOf(e.pointerId);-1!==t&&(at.splice(t,1),lt.splice(t,1))}function M(e){var t=at.indexOf(e.pointerId);-1!==t&&(/move/i.test(e.type)?lt[t]=e:/up|cancel/i.test(e.type)&&(A(e),Rt&&at.length<2&&Ot._gesture.stop()))}function C(e){e.preventDefault();var t,n,i,r,s;if(!Pt){if(t=new E(pt,"drag","start"),Pt=!0,Ot.fire(t),!qt){y(yt);for(var o=0;o<xt.length;o++)xt[o]._elements=U.querySelectorAll(xt[o].selector)}dt=t,Ot.options.snapEnabled&&!Ot.options.snap.endOnly&&Y(e)}t=new E(e,"drag","move");var a=Ot._element,l=S(t,a);l?(r=l.dropzone,Xt=l.element):r=Xt=null,Ot._element=a,Xt!==_t&&(Yt&&(i=new E(e,"drag","leave",_t,a),t.dragLeave=_t,s=Yt,Yt=_t=null),r&&(n=new E(e,"drag","enter",Xt,a),t.dragEnter=r._element,Yt=r,_t=Yt._element)),Ot.fire(t),i&&s.fire(i),n&&r.fire(n),dt=t}function D(e){e.preventDefault();var t;Lt||(t=new E(pt,"resize","start"),Ot.fire(t),Ot.fire(t),Lt=!0,dt=t,Ot.options.snapEnabled&&!Ot.options.snap.endOnly&&Y(e)),t=new E(e,"resize","move"),Ot.fire(t),dt=t}function k(e){if(e.touches&&!(e.touches.length<2)||Z){e.preventDefault();var t;Rt||(t=new E(pt,"gesture","start"),t.ds=0,ft.startDistance=ft.prevDistance=t.distance,ft.startAngle=ft.prevAngle=t.angle,ft.scale=1,Rt=!0,Ot.fire(t),dt=t,Ot.options.snapEnabled&&!Ot.options.snap.endOnly&&Y(e)),t=new E(e,"gesture","move"),t.ds=t.scale-ft.scale,Ot.fire(t),dt=t,ft.prevAngle=t.angle,ft.prevDistance=t.distance,1/0===t.scale||null===t.scale||void 0===t.scale||isNaN(t.scale)||(ft.scale=t.scale)}}function j(e,t){for(var n=0,i=t.length;i>n;n++){var r=t[n],s=O(r.getAction(e,r),r);if(s)return Ot=r,s}}function $(e){if(!(kt||Pt||Lt||Rt)){var t=[],n=Ot&&Ot._element,i=e.target instanceof J?e.target.correspondingUseElement:e.target;for(var r in vt)vt.hasOwnProperty(r)&&vt[r]&&i[Ht](r)&&(vt[r]._element=i,t.push(vt[r]));var s=gt.get(i),o=s&&O(s.getAction(e),s);if(o)Ot=s,bt=[];else if(j(e,t))bt=t,P(e,bt),rn.addToElement(i,"mousemove",P);else if(Ot){var a=n.querySelectorAll("*");if(-1!==Array.prototype.indexOf.call(a,i)){for(var l=0;l<bt.length;l++)bt[l]._element=n;P(e,bt),rn.addToElement(Ot._element,"mousemove",P)}else Ot=null,bt=[]}}}function R(e){if(!(kt||Pt||Lt||Rt)){var t=e.target instanceof J?e.target.correspondingUseElement:e.target;gt.get(t)||rn.removeFromElement(t,P),Ot&&Ot.options.styleCursor&&!(Pt||Lt||Rt)&&(U.documentElement.style.cursor="")}}function P(e,t){if(kt||Pt||Lt||Rt)e.preventDefault();else{var n;t?n=j(e,t):Ot&&(n=O(Ot.getAction(e))),Ot&&Ot.options.styleCursor&&(U.documentElement.style.cursor=n?It[n].cursor:"")}}function q(e){if(!(e.touches&&e.touches.length>=2)){if(et&&e instanceof et&&/inertiastart/i.test(e.type))return void e.gestureObject.stop();var t,n=Ot&&Ot.options.inertia;if(Pt||Lt||Rt){if(ht.active)return;var i=Ot.options.deltaSource,r=ot[i+"Speed"];if(Ot.options.inertiaEnabled&&"gesture"!==Bt&&-1!==n.actions.indexOf(Bt)&&e!==ht.startEvent&&(new Date).getTime()-rt.timeStamp<50&&r>n.minSpeed&&r>n.endSpeed){var s,o=n.resistance,a=-Math.log(n.endSpeed/r)/o;if(ht.active=!0,ht.target=Ot,ht.targetElement=Ot._element,rn.useAttachEvent)for(var l in e)e.hasOwnProperty(l)&&(ht.pointerUp[l]=e[l]);else ht.pointerUp=e;ht.startEvent=s=new E(e,"drag","inertiastart"),ht.vx0=ot[i+"VX"],ht.vy0=ot[i+"VY"],ht.v0=r,ht.x0=dt.pageX,ht.y0=dt.pageY,ht.t0=ht.startEvent.timeStamp/1e3,ht.sx=ht.sy=0,ht.modifiedXe=ht.xe=(ht.vx0-a)/o,ht.modifiedYe=ht.ye=(ht.vy0-a)/o,ht.te=a,ht.lambda_v0=o/ht.v0,ht.one_ve_v0=1-n.endSpeed/ht.v0;var c,p=s.pageX,d=s.pageY;if(s.snap&&s.snap.locked&&(p-=s.snap.dx,d-=s.snap.dy),s.restrict&&(p-=s.restrict.dx,d-=s.restrict.dy),c={useStatusXY:!0,x:p+ht.xe,y:d+ht.ye},Ot.options.snapEnabled&&Ot.options.snap.endOnly){var u=Y(e,c);u.locked&&(ht.modifiedXe+=u.dx,ht.modifiedYe+=u.dy)}if(Ot.options.restrictEnabled&&Ot.options.restrict.endOnly){var h=_(e,c);ht.modifiedXe+=h.dx,ht.modifiedYe+=h.dy}return Qt(ht.i),ht.i=Jt(m),void Ot.fire(ht.startEvent)}(Ot.options.snapEnabled&&Ot.options.snap.endOnly||Ot.options.restrictEnabled&&Ot.options.restrict.endOnly)&&w(e,!0)}if(Pt){t=new E(e,"drag","end");var f,g=Ot._element,y=S(t,g);if(y?(zt=y.dropzone,Xt=y.element):(zt=null,Xt=null),Ot._element=g,zt)f=new E(e,"drop",null,Xt,g),t.dropzone=Xt;else if(Yt){var v=new E(e,"drag","leave",Xt,g);Yt.fire(v,g),t.dragLeave=_t}Ot.fire(t),f&&zt.fire(f)}else if(Lt)t=new E(e,"resize","end"),Ot.fire(t);else if(Rt)t=new E(e,"gesture","end"),Ot.fire(t);else if(/mouseup|touchend|pointerup/i.test(e.type)&&Ot&&kt&&!jt){var x={};for(var l in e)x[l]=e[l];x.currentTarget=Ot._element,x.type="tap",Ot.fire(x)}V.stop()}}function L(e,t){var n,i,r={},s=St[e.type],o=e.target;t=t?!0:!1;for(var a in e)r[a]=e[a];for(r.preventDefault=function(){e.preventDefault()};o!==U;){for(n in s)if(o[Ht](n)){var l=s[n];for(r.currentTarget=o,i=0;i<l.length;i++)if(l[i][1]===t)try{l[i][0](r)}catch(c){F.error('Error thrown from delegated listener: "'+n+'" '+e.type+" "+(l[i][0].name?l[i][0].name:"")),F.log(c)}}o=o.parentNode}}function N(e){return L.call(this,e,!0)}function I(){Ot&&!Ot.selector&&(Ot=null),zt=Xt=Yt=_t=null}function V(e){return gt.get(e)||new G(e)}function B(e){for(var t in wt)e.hasOwnProperty(t)&&typeof e[t]==typeof wt[t]&&(this[t]=e[t])}function G(e,t){this._element=e,this._iEvents=this._iEvents||{},"string"==typeof e?(U.querySelector(e),vt[e]=this,this.selector=e,this._gesture=Et):(n(e)&&(Z?(rn.add(this,"pointerdown",X),rn.add(this,"pointermove",P),this._gesture=new tt,this._gesture.target=e):(rn.add(this,"mousedown",X),rn.add(this,"mousemove",P),rn.add(this,"touchstart",X),rn.add(this,"touchmove",P))),mt.push(this)),gt.push(this),this.set(t)}var K,U=e.document,F=e.console,W=e.SVGElement||t,H=e.SVGSVGElement||t,J=e.SVGElementInstance||t,Q=e.HTMLElement||e.Element,Z=e.PointerEvent||e.MSPointerEvent,et=e.GestureEvent||e.MSGestureEvent,tt=e.Gesture||e.MSGesture,nt=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},it={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},rt={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},st={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},ot={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0,pageSpeed:0,clientSpeed:0},at=Z?[]:null,lt=Z?[]:null,ct=0,pt=null,dt=null,ut={},ht={active:!1,target:null,targetElement:null,startEvent:null,pointerUp:{},xe:0,ye:0,duration:0,t0:0,vx0:0,vys:0,lambda_v0:0,one_ve_v0:0,i:null},ft={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},gt=[],yt=[],mt=[],vt={},xt=[],bt=[],St={},Et=null,Ot=null,zt=null,Xt=null,Yt=null,_t=null,wt={draggable:!1,dropzone:!1,accept:null,resizable:!1,squareResize:!1,gesturable:!1,styleCursor:!0,snap:{mode:"grid",endOnly:!1,actions:["drag"],range:1/0,grid:{x:100,y:100},gridOffset:{x:0,y:0},anchors:[],paths:[],arrayTypes:/^anchors$|^paths$|^actions$/,objectTypes:/^grid$|^gridOffset$/,stringTypes:/^mode$/,numberTypes:/^range$/,boolTypes:/^endOnly$/},snapEnabled:!1,restrict:{drag:null,resize:null,gesture:null,endOnly:!1},restrictEnabled:!0,autoScroll:{container:e,margin:60,speed:300,numberTypes:/^margin$|^speed$/},autoScrollEnabled:!1,inertia:{resistance:10,minSpeed:100,endSpeed:10,actions:["drag","resize"],numberTypes:/^resistance$|^minSpeed$|^endSpeed$/,arrayTypes:/^actions$/},inertiaEnabled:!1,origin:{x:0,y:0},deltaSource:"page"},Tt={locked:!1,x:0,y:0,dx:0,dy:0,realX:0,realY:0,anchors:[],paths:[]},At={dx:0,dy:0,restricted:!1},Mt={target:null,i:null,x:0,y:0,scroll:function(){var t=Mt.target.options.autoScroll,n=t.container,i=(new Date).getTime(),r=(i-Mt.prevTime)/1e3,s=t.speed*r;s>=1&&(n instanceof e.Window?n.scrollBy(Mt.x*s,Mt.y*s):n&&(n.scrollLeft+=Mt.x*s,n.scrollTop+=Mt.y*s),Mt.prevTime=i),Mt.isScrolling&&(Qt(Mt.i),Mt.i=Jt(Mt.scroll))},edgeMove:function(t){if(Ot&&Ot.options.autoScrollEnabled&&(Pt||Lt)){var n,i,r,s,o=Ot.options.autoScroll;if(o.container instanceof e.Window)s=t.clientX<Mt.margin,n=t.clientY<Mt.margin,i=t.clientX>o.container.innerWidth-Mt.margin,r=t.clientY>o.container.innerHeight-Mt.margin;else{var a=c(o.container);s=t.clientX<a.left+Mt.margin,n=t.clientY<a.top+Mt.margin,i=t.clientX>a.right-Mt.margin,r=t.clientY>a.bottom-Mt.margin}Mt.x=i?1:s?-1:0,Mt.y=r?1:n?-1:0,Mt.isScrolling||(Mt.margin=o.margin,Mt.speed=o.speed,Mt.start(Ot))}},isScrolling:!1,prevTime:0,start:function(e){Mt.isScrolling=!0,Qt(Mt.i),Mt.target=e,Mt.prevTime=(new Date).getTime(),Mt.i=Jt(Mt.scroll)},stop:function(){Mt.isScrolling=!1,Qt(Mt.i)}},Ct="createTouch"in U,Dt=Ct?20:10,kt=!1,jt=!1,$t=!1,Rt=!1,Pt=!1,qt=!1,Lt=!1,Nt="xy",It={drag:{cursor:"move",moveListener:C},resizex:{cursor:"e-resize",moveListener:D},resizey:{cursor:"s-resize",moveListener:D},resizexy:{cursor:"se-resize",moveListener:D},gesture:{cursor:"",moveListener:k}},Vt={drag:!0,resize:!0,gesture:!0},Bt=null,Gt="onmousewheel"in U?"mousewheel":"wheel",Kt=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","tap"],Ut={},Ft={directBind:0,onevent:1,globalBind:2},Wt="Opera"==navigator.appName&&Ct&&navigator.userAgent.match("Presto"),Ht="matchesSelector"in Element.prototype?"matchesSelector":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Jt=e.requestAnimationFrame,Qt=e.cancelAnimationFrame,Zt={_element:e,events:{}},en={_element:U,events:{}},tn={_element:e.parent,events:{}},nn={_element:null,events:{}},rn=function(){function t(e,t,n,i){var o=l.indexOf(e),d=c[o];if(d||(d={events:{},typeCount:0},o=l.push(e)-1,c.push(d),p.push(r?{supplied:[],wrapped:[],useCount:[]}:null)),d.events[t]||(d.events[t]=[],d.typeCount++),-1===d.events[t].indexOf(n)){var u;if(r){var h=p[o],f=h.supplied.indexOf(n),g=h.wrapped[f]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=e,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+U.documentElement.scrollLeft,t.pageY=t.clientY+U.documentElement.scrollTop),n(t))};u=e[s](a+t,g,Boolean(i)),-1===f?(h.supplied.push(n),h.wrapped.push(g),h.useCount.push(1)):h.useCount[f]++}else u=e[s](t,n,i||!1);return d.events[t].push(n),u}}function n(e,t,i,s){var d,u,h,f=l.indexOf(e),g=c[f],y=i;if(g&&g.events)if(r&&(u=p[f],h=u.supplied.indexOf(i),y=u.wrapped[h]),"all"!==t){if(g.events[t]){var m=g.events[t].length;if("all"===i)for(d=0;m>d;d++)n(e,t,g.events[t][d],Boolean(s));else for(d=0;m>d;d++)if(g.events[t][d]===i){e[o](a+t,y,s||!1),g.events[t].splice(d,1),r&&u&&(u.useCount[h]--,0===u.useCount[h]&&(u.supplied.splice(h,1),u.wrapped.splice(h,1),u.useCount.splice(h,1)));break}g.events[t]&&0===g.events[t].length&&(g.events[t]=null,g.typeCount--)}g.typeCount||(c.splice(f),l.splice(f),p.splice(f))}else for(t in g.events)g.events.hasOwnProperty(t)&&n(e,t,"all")}var i=e.Event,r="attachEvent"in e&&!("addEventListener"in e),s=r?"attachEvent":"addEventListener",o=r?"detachEvent":"removeEventListener",a=r?"on":"",l=[],c=[],p=[];return"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),"stopPropagation"in i.prototype||(i.prototype.stopPropagation=function(){this.cancelBubble=!0},i.prototype.stopImmediatePropagation=function(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}),"preventDefault"in i.prototype||(i.prototype.preventDefault=function(){this.returnValue=!1}),"hasOwnProperty"in i.prototype||(i.prototype.hasOwnProperty=Object.prototype.hasOwnProperty),{add:function(e,n,i,r){t(e._element,n,i,r)},remove:function(e,t,i,r){n(e._element,t,i,r)},addToElement:t,removeFromElement:n,useAttachEvent:r}}();E.prototype={preventDefault:t,stopImmediatePropagation:function(){$t=!0},stopPropagation:t},gt.indexOfElement=yt.indexOfElement=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(n.selector===e||!n.selector&&n._element===e)return t}return-1},gt.get=function(e){return"string"==typeof e?vt[e]:this[this.indexOfElement(e)]},yt.get=function(e){return this[this.indexOfElement(e)]},B.prototype=wt,G.prototype={setOnEvents:function(e,t){if("drop"===e){var n=t.ondrop||t.onDrop||t.drop,i=t.ondragenter||t.onDropEnter||t.dragenter,r=t.ondragleave||t.onDropLeave||t.dragleave;"function"==typeof n&&(this.ondrop=n),"function"==typeof i&&(this.ondragenter=i),"function"==typeof r&&(this.ondragleave=r)}else{var s=t.onstart||t.onStart||t.start,o=t.onmove||t.onMove||t.move,a=t.onend||t.onEnd||t.end,l=t.oninertiastart||t.onInertiaStart||t.inertiastart;e="on"+e,"function"==typeof s&&(this[e+"start"]=s),"function"==typeof o&&(this[e+"move"]=o),"function"==typeof a&&(this[e+"end"]=a),"function"==typeof l&&(this[e+"inertiastart"]=l)}return this},draggable:function(e){return e instanceof Object?(this.options.draggable=!0,this.setOnEvents("drag",e),this):"boolean"==typeof e?(this.options.draggable=e,this):null===e?(delete this.options.draggable,this):this.options.draggable},dropzone:function(e){if(e instanceof Object)return this.options.dropzone=!0,this.setOnEvents("drop",e),this.accept(e.accept),(this.selector?xt:yt).push(this),qt||this.selector||(this.rect=this.getRect()),this;if("boolean"==typeof e){if(e)(this.selector?xt:yt).push(this),qt||this.selector||(this.rect=this.getRect());else{var t=this.selector?xt:yt,n=t.indexOf(this);-1!==n&&t.splice(n,1)}return this.options.dropzone=e,this}return null===e?(delete this.options.dropzone,this):this.options.dropzone},dropCheck:function(e,t,n){var i,r,s=o(e),a=g(t,n);return s.x+=a.x,s.y+=a.y,qt&&(this.rect=this.getRect()),this.rect?(i=s.x>this.rect.left&&s.x<this.rect.right,r=s.y>this.rect.top&&s.y<this.rect.bottom,i&&r):!1},dropChecker:function(e){return"function"==typeof e?(this.dropCheck=e,this):this.dropCheck},accept:function(e){return n(e)?(this.options.accept=e,this):"string"==typeof e?(U.querySelector(e),this.options.accept=e,this):null===e?(delete this.options.accept,this):this.options.accept},resizable:function(e){return e instanceof Object?(this.options.resizable=!0,this.setOnEvents("resize",e),this):"boolean"==typeof e?(this.options.resizable=e,this):this.options.resizable},resizeable:t,squareResize:function(e){return"boolean"==typeof e?(this.options.squareResize=e,this):null===e?(delete this.options.squareResize,this):this.options.squareResize},gesturable:function(e){return e instanceof Object?(this.options.gesturable=!0,this.setOnEvents("gesture",e),this):"boolean"==typeof e?(this.options.gesturable=e,this):null===e?(delete this.options.gesturable,this):this.options.gesturable},gestureable:t,autoScroll:function(t){var i=wt.autoScroll;if(t instanceof Object){var r=this.options.autoScroll;return r===i&&(r=this.options.autoScroll={margin:i.margin,distance:i.distance,interval:i.interval,container:i.container}),r.margin=this.validateSetting("autoScroll","margin",t.margin),r.speed=this.validateSetting("autoScroll","speed",t.speed),r.container=n(t.container)||t.container instanceof e.Window?t.container:i.container,this.options.autoScrollEnabled=!0,this.options.autoScroll=r,this}return"boolean"==typeof t?(this.options.autoScrollEnabled=t,this):null===t?(delete this.options.autoScrollEnabled,delete this.options.autoScroll,this):this.options.autoScrollEnabled?this.options.autoScroll:!1},snap:function(e){var t=wt.snap;if(e instanceof Object){var n=this.options.snap;return n===t&&(n={}),n.mode=this.validateSetting("snap","mode",e.mode),n.endOnly=this.validateSetting("snap","endOnly",e.endOnly),n.actions=this.validateSetting("snap","actions",e.actions),n.range=this.validateSetting("snap","range",e.range),n.paths=this.validateSetting("snap","paths",e.paths),n.grid=this.validateSetting("snap","grid",e.grid),n.gridOffset=this.validateSetting("snap","gridOffset",e.gridOffset),n.anchors=this.validateSetting("snap","anchors",e.anchors),this.options.snapEnabled=!0,this.options.snap=n,this}return"boolean"==typeof e?(this.options.snapEnabled=e,this):null===e?(delete this.options.snapEnabled,delete this.options.snap,this):this.options.snapEnabled?this.options.snap:!1},inertia:function(e){var t=wt.inertia;if(e instanceof Object){var n=this.options.inertia;return n===t&&(n=this.options.inertia={resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed}),n.resistance=this.validateSetting("inertia","resistance",e.resistance),n.minSpeed=this.validateSetting("inertia","minSpeed",e.minSpeed),n.endSpeed=this.validateSetting("inertia","endSpeed",e.endSpeed),n.actions=this.validateSetting("inertia","actions",e.actions),this.options.inertiaEnabled=!0,this.options.inertia=n,this}return"boolean"==typeof e?(this.options.inertiaEnabled=e,this):null===e?(delete this.options.inertiaEnabled,delete this.options.inertia,this):this.options.inertiaEnabled?this.options.inertia:!1},getAction:function(e){var t,n,i,r=this.getRect(),s=o(e),a=this.options;return Vt.resize&&a.resizable&&(t=s.x>r.right-Dt,n=s.y>r.bottom-Dt),Nt=(t?"x":"")+(n?"y":""),i=Nt?"resize"+Nt:Vt.drag&&a.draggable?"drag":null,Vt.gesture&&(e.touches&&e.touches.length>=2||Z&&at.length>=2)&&!Pt&&!Lt&&(i="gesture"),i},actionChecker:function(e){return"function"==typeof e?(this.getAction=e,this):null===e?(delete this.options.getAction,this):this.getAction},getRect:function(){return this.selector&&!n(this._element)&&(this._element=U.querySelector(this.selector)),c(this._element)},rectChecker:function(e){return"function"==typeof e?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return"boolean"==typeof e?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},origin:function(e){return e instanceof Object||/^parent$|^self$/.test(e)?(this.options.origin=e,this):null===e?(delete this.options.origin,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):null===e?(delete this.options.deltaSource,this):this.options.deltaSource},restrict:function(e){if(void 0===e)return this.options.restrict;if(e instanceof Object){var t={};(e.drag instanceof Object||/^parent$|^self$/.test(e.drag))&&(t.drag=e.drag),(e.resize instanceof Object||/^parent$|^self$/.test(e.resize))&&(t.resize=e.resize),(e.gesture instanceof Object||/^parent$|^self$/.test(e.gesture))&&(t.gesture=e.gesture),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly),this.options.restrictEnabled=!0,this.options.restrict=t}else null===e&&(delete this.options.restrict,delete this.options.restrictEnabled);return this},validateSetting:function(e,t,i){var r=wt[e],s=this.options[e];if(void 0!==r&&void 0!==r[t]){if("objectTypes"in r&&r.objectTypes.test(t))return i instanceof Object?i:t in s&&s[t]instanceof Object?s[t]:r[t];if("arrayTypes"in r&&r.arrayTypes.test(t))return i instanceof Array?i:t in s&&s[t]instanceof Array?s[t]:r[t];if("stringTypes"in r&&r.stringTypes.test(t))return"string"==typeof i?i:t in s&&"string"==typeof s[t]?s[t]:r[t];if("numberTypes"in r&&r.numberTypes.test(t))return"number"==typeof i?i:t in s&&"number"==typeof s[t]?s[t]:r[t];if("boolTypes"in r&&r.boolTypes.test(t))return"boolean"==typeof i?i:t in s&&"boolean"==typeof s[t]?s[t]:r[t];if("elementTypes"in r&&r.elementTypes.test(t))return n(i)?i:t in s&&n(s[t])?s[t]:r[t]}return null},element:function(){return this._element},fire:function(e){if(!e||!e.type||-1===Kt.indexOf(e.type))return this;for(var t,n,i=0,r=0,s="on"+e.type;3>i;)try{switch(i){case Ft.directBind:if(e.type in this._iEvents){for(t=this._iEvents[e.type],n=t.length;n>r&&!$t;r++)t[r](e);break}break;case Ft.onevent:"function"==typeof this[s]&&this[s](e);break;case Ft.globalBind:if(e.type in Ut&&(t=Ut[e.type]))for(n=t.length;n>r&&!$t;r++)t[r](e)}r=0,i++}catch(o){F.error("Error thrown from "+e.type+" listener"),F.error(o),r++,i===Ft.onevent&&i++}return $t=!1,this},on:function(e,t,n){if("wheel"===e&&(e=Gt),-1!==Kt.indexOf(e))e in this._iEvents?-1===this._iEvents[e].indexOf(t)&&this._iEvents[e].push(t):this._iEvents[e]=[t];
else if(this.selector){St[e]||(St[e]={});var i=St[e];i[this.selector]||(i[this.selector]=[]),i[this.selector].push([t,n?!0:!1]),rn.add(en,e,n?N:L,n)}else rn.add(this,e,t,n);return this},off:function(e,t,n){var i,r=-1;if(n=n?!0:!1,"wheel"===e&&(e=Gt),-1!==Kt.indexOf(e))i=this._iEvents[e],i&&-1!==(r=i.indexOf(t))&&this._iEvents[e].splice(r,1);else if(this.selector){var s=St[e];if(s&&(i=s[this.selector])){for(r=0;r<i.length&&i[r][1]!==n;r++);r<i.length&&i.splice(r,1)}}else rn.remove(this._element,t,n);return this},set:function(e){return e&&"object"==typeof e||(e={}),this.options=new B(e),this.draggable("draggable"in e?e.draggable:this.options.draggable),this.dropzone("dropzone"in e?e.dropzone:this.options.dropzone),this.resizable("resizable"in e?e.resizable:this.options.resizable),this.gesturable("gesturable"in e?e.gesturable:this.options.gesturable),"autoScroll"in e&&this.autoScroll(e.autoScroll),this},unset:function(){return rn.remove(this,"all"),"string"==typeof this.selector?delete vt[this.selector]:(rn.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor=""),this._gesture&&(this._gesture.target=null),mt.splice(mt.indexOf(this.element()))),this.dropzone(!1),gt.splice(gt.indexOf(this),1),V}},G.prototype.gestureable=G.prototype.gesturable,G.prototype.resizeable=G.prototype.resizable,V.isSet=function(e){return-1!==gt.indexOfElement(e)},V.on=function(e,t,n){return-1!==Kt.indexOf(e)?Ut[e]?-1===Ut[e].indexOf(t)&&Ut[e].push(t):Ut[e]=[t]:rn.add(en,e,t,n),V},V.off=function(e,t,n){if(-1===Kt.indexOf(e))rn.remove(en,e,t,n);else{var i;e in Ut&&-1!==(i=Ut[e].indexOf(t))&&Ut[e].splice(i,1)}return V},V.simulate=function(e,n,i){var r,s,o={};if("resize"===e&&(e="resizexy"),!(e in It))return V;if(i)for(r in i)i.hasOwnProperty(r)&&(o[r]=i[r]);else s=Ot._element instanceof W?n.getBoundingClientRect():s=n.getClientRects()[0],"drag"===e?(o.pageX=s.left+s.width/2,o.pageY=s.top+s.height/2):(o.pageX=s.right,o.pageY=s.bottom);return o.target=o.currentTarget=n,o.preventDefault=o.stopPropagation=t,X(o,e),V},V.enableDragging=function(e){return null!==e&&void 0!==e?(Vt.drag=e,V):Vt.drag},V.enableResizing=function(e){return null!==e&&void 0!==e?(Vt.resize=e,V):Vt.resize},V.enableGesturing=function(e){return null!==e&&void 0!==e?(Vt.gesture=e,V):Vt.gesture},V.eventTypes=Kt,V.debug=function(){return{target:Ot,dragging:Pt,resizing:Lt,gesturing:Rt,prepared:Bt,prevCoords:it,downCoords:st,pointerIds:at,pointerMoves:lt,addPointer:T,removePointer:A,recordPointers:M,inertia:ht,downTime:ct,downEvent:pt,prevEvent:dt,Interactable:G,IOptions:B,interactables:gt,dropzones:yt,pointerIsDown:kt,defaultOptions:wt,actions:It,dragMove:C,resizeMove:D,gestureMove:k,pointerUp:q,pointerDown:X,pointerMove:w,pointerHover:P,events:rn,globalEvents:Ut,delegatedEvents:St}},V.getTouchAverage=d,V.getTouchBBox=u,V.getTouchDistance=h,V.getTouchAngle=f,V.getElementRect=c,V.margin=function(e){return"number"==typeof e?(Dt=e,V):Dt},V.styleCursor=function(e){return"boolean"==typeof e?(wt.styleCursor=e,V):wt.styleCursor},V.autoScroll=function(t){var i=wt.autoScroll;return t instanceof Object?(wt.autoScrollEnabled=!0,"number"==typeof t.margin&&(i.margin=t.margin),"number"==typeof t.speed&&(i.speed=t.speed),i.container=n(t.container)||t.container instanceof e.Window?t.container:i.container,V):"boolean"==typeof t?(wt.autoScrollEnabled=t,V):wt.autoScrollEnabled?i:!1},V.snap=function(e){var t=wt.snap;return e instanceof Object?(wt.snapEnabled=!0,"string"==typeof e.mode&&(t.mode=e.mode),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly),"number"==typeof e.range&&(t.range=e.range),e.actions instanceof Array&&(t.actions=e.actions),e.anchors instanceof Array&&(t.anchors=e.anchors),e.grid instanceof Object&&(t.grid=e.grid),e.gridOffset instanceof Object&&(t.gridOffset=e.gridOffset),V):"boolean"==typeof e?(wt.snapEnabled=e,V):{enabled:wt.snapEnabled,mode:t.mode,actions:t.actions,grid:t.grid,gridOffset:t.gridOffset,anchors:t.anchors,paths:t.paths,range:t.range,locked:Tt.locked,x:Tt.x,y:Tt.y,realX:Tt.realX,realY:Tt.realY,dx:Tt.dx,dy:Tt.dy}},V.inertia=function(e){var t=wt.inertia;return e instanceof Object?(wt.inertiaEnabled=!0,"number"==typeof e.resistance&&(t.resistance=e.resistance),"number"==typeof e.minSpeed&&(t.minSpeed=e.minSpeed),"number"==typeof e.endSpeed&&(t.endSpeed=e.endSpeed),e.actions instanceof Array&&(t.actions=e.actions),V):"boolean"==typeof e?(wt.inertiaEnabled=e,V):{enabled:wt.inertiaEnabled,resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions}},V.supportsTouch=function(){return Ct},V.currentAction=function(){return Pt&&"drag"||Lt&&"resize"||Rt&&"gesture"||null},V.stop=function(e){if(Pt||Lt||Rt){Mt.stop(),bt=[],Ot.options.styleCursor&&(U.documentElement.style.cursor=""),Ot._gesture&&Ot._gesture.stop(),I();for(var t=0;t<xt.length;t++)xt._elements=[];e&&"function"==typeof e.preventDefault&&e.preventDefault()}return at&&at.length&&(at.splice(0),lt.splice(0)),kt=Tt.locked=Pt=Lt=Rt=!1,jt=!0,Bt=pt=dt=null,V},V.dynamicDrop=function(e){return"boolean"==typeof e?(Pt&&qt!==e&&!e&&y(yt),qt=e,V):qt},V.deltaSource=function(e){return"page"===e||"client"===e?(wt.deltaSource=e,this):wt.deltaSource},V.restrict=function(e){var t=wt.restrict;return void 0===e?wt.restrict:(e instanceof Object?((e.drag instanceof Object||/^parent$|^self$/.test(e.drag))&&(t.drag=e.drag),(e.resize instanceof Objec||/^parent$|^self$/.test(e.resize))&&(t.resize=e.resize),(e.gesture instanceof Object||/^parent$|^self$/.test(e.gesture))&&(t.gesture=e.gesture),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly)):null===e&&(t.drag=t.resize=t.gesture=null,t.endOnly=!1),this)},Z?(rn.add(en,"pointerdown",z),rn.add(en,"pointercancel",q),rn.add(en,"MSGestureChange",w),rn.add(en,"MSGestureEnd",q),rn.add(en,"MSInertiaStart",q),rn.add(en,"pointerover",$),rn.add(en,"pointerout",R),rn.add(en,"pointermove",M),rn.add(en,"pointerup",M),rn.add(en,"pointercancel",M),Et=new tt,Et.target=U.documentElement):(rn.add(en,"mousedown",z),rn.add(en,"mousemove",w),rn.add(en,"mouseup",q),rn.add(en,"mouseover",$),rn.add(en,"mouseout",R),rn.add(en,"touchstart",z),rn.add(en,"touchmove",w),rn.add(en,"touchend",q),rn.add(en,"touchcancel",q)),rn.add(Zt,"blur",q);try{e.frameElement&&(nn._element=e.frameElement.ownerDocument,rn.add(nn,"mouseup",q),rn.add(nn,"touchend",q),rn.add(nn,"touchcancel",q),rn.add(nn,"pointerup",q),rn.add(tn,"blur",q))}catch(sn){V.windowParentError=sn}rn.add(en,"selectstart",function(e){(Pt||Lt||Rt)&&e.preventDefault()}),Ht in Element.prototype&&"function"==typeof Element.prototype[Ht]||(Element.prototype[Ht]=K=function(e,t){t=t||this.parentNode.querySelectorAll(e);for(var n=t.length,i=0;n>i;i++)if(t[i]===this)return!0;return!1}),function(){for(var t=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!e.requestAnimationFrame;++i)Jt=e[n[i]+"RequestAnimationFrame"],Qt=e[n[i]+"CancelAnimationFrame"]||e[n[i]+"CancelRequestAnimationFrame"];Jt||(Jt=function(n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),s=e.setTimeout(function(){n(i+r)},r);return t=i+r,s}),Qt||(Qt=function(e){clearTimeout(e)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=V),exports.interact=V):e.interact=V}(this);
