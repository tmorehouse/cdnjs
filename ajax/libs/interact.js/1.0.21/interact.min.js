/* interact.js v1.0.21 | https://raw.github.com/taye/interact.js/master/LICENSE */
!function(e){"use strict";function t(){}function n(e){return!!e&&"object"==typeof e&&(/object|function/.test(typeof Element)?e instanceof Element:1===e.nodeType&&"string"==typeof e.nodeName)}function i(e,t){s(t,Vt),e.pageX=Vt.x,e.pageY=Vt.y,a(t,Vt),e.clientX=Vt.x,e.clientY=Vt.y,e.timeStamp=(new Date).getTime()}function r(e,t,n){e.pageX=n.pageX-t.pageX,e.pageY=n.pageY-t.pageY,e.clientX=n.clientX-t.clientX,e.clientY=n.clientY-t.clientY,e.timeStamp=(new Date).getTime()-t.timeStamp;var i=Math.max(e.timeStamp/1e3,.001);e.pageSpeed=Dt(e.pageX,e.pageY)/i,e.pageVX=e.pageX/i,e.pageVY=e.pageY/i,e.clientSpeed=Dt(e.clientX,e.pageY)/i,e.clientVX=e.clientX/i,e.clientVY=e.clientY/i}function o(e,t,n){var i,r,o;return n=n||{},e=e||"page",/touch/.test(t.type)&&t.touches?(i=t.touches.length?t.touches[0]:t.changedTouches[0],r=i[e+"X"],o=i[e+"Y"]):(r=t[e+"X"],o=t[e+"Y"]),n.x=r,n.y=o,n}function s(t,n){return n=n||{},t instanceof $?/inertiastart/.test(t.type)?(s(Bt.pointerUp,n),n.x+=Bt.sx,n.y+=Bt.sy):(n.x=t.pageX,n.y=t.pageY):On?(o("screen",t,n),n.x+=e.scrollX,n.y+=e.scrollY):/gesture|inertia/i.test(t.type)?(o("client",t,n),n.x+=bt.documentElement.scrollLeft,n.y+=bt.documentElement.scrollTop):o("page",t,n),n}function a(e,t){return t=t||{},e instanceof $?/inertiastart/.test(e.type)?(a(Bt.pointerUp,t),t.x+=Bt.sx,t.y+=Bt.sy):(t.x=e.clientX,t.y=e.clientY):o(On?"screen":"client",e,t),t}function l(){return{x:e.scrollX||bt.documentElement.scrollLeft,y:e.scrollY||bt.documentElement.scrollTop}}function c(e){var t=/ipad|iphone|ipod/i.test(navigator.userAgent)?{x:0,y:0}:l(),n=e instanceof Et?e.getBoundingClientRect():e.getClientRects()[0];return n&&{left:n.left+t.x,right:n.right+t.x,top:n.top+t.y,bottom:n.bottom+t.y,width:n.width||n.right-n.left,height:n.heigh||n.bottom-n.top}}function p(e){var t=[];return e instanceof Array?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function d(e){var t=p(e);return{pageX:(t[0].pageX+t[1].pageX)/2,pageY:(t[0].pageY+t[1].pageY)/2,clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function u(e){if(e.touches&&e.touches.length||Rt.length){var t=p(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),r=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,width:r-n,height:o-i}}}function h(e){var t=(Zt&&Zt.options||on).deltaSource,n=t+"X",i=t+"Y",r=p(e),o=r[0][n]-r[1][n],s=r[0][i]-r[1][i];return Dt(o,s)}function g(e,t){var n=(Zt&&Zt.options||on).deltaSource,i=n+"X",r=n+"Y",o=p(e),s=o[0][i]-o[1][i],a=o[0][r]-o[1][r],l=180*Math.atan(a/s)/Math.PI;if("number"==typeof t){var c=l-t,d=c%360;d>315?l-=360+l/360|0:d>135?l-=180+l/360|0:-315>d?l+=360+l/360|0:-135>d&&(l+=180+l/360|0)}return l}function f(e,t){e=e||Zt;var i=e?e.options.origin:on.origin;return t=t||e._element,"parent"===i?i=t.parentNode:"self"===i&&(i=t),n(i)?(i=c(i),i.x=i.left,i.y=i.top):"function"==typeof i&&(i=i(e&&t)),i}function m(e){var t=e.target.options.inertia,n=t.resistance,i=-Math.log(t.endSpeed/e.v0)/n;e.x0=jt.pageX,e.y0=jt.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-i)/n,e.modifiedYe=e.ye=(e.vy0-i)/n,e.te=i,e.lambda_v0=n/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0}function v(){var e=Bt.target.options.inertia,t=e.resistance,n=(new Date).getTime()/1e3-Bt.t0;if(n<Bt.te){var i=1-(Math.exp(-t*n)-Bt.lambda_v0)/Bt.one_ve_v0;if(Bt.modifiedXe===Bt.xe&&Bt.modifiedYe===Bt.ye)Bt.sx=Bt.xe*i,Bt.sy=Bt.ye*i;else{var r=b(0,0,Bt.xe,Bt.ye,Bt.modifiedXe,Bt.modifiedYe,i);Bt.sx=r.x,Bt.sy=r.y}U(Bt.startEvent),Bt.i=Yn(v)}else Bt.sx=Bt.modifiedXe,Bt.sy=Bt.modifiedYe,U(Bt.startEvent),Bt.active=!1,at(Bt.startEvent)}function y(){var e=(new Date).getTime()-Bt.t0,t=Bt.target.options.inertia.smoothEndDuration;t>e?(Bt.sx=S(e,0,Bt.xe,t),Bt.sy=S(e,0,Bt.ye,t),U(Bt.startEvent),Bt.i=Yn(y)):(Bt.active=!1,Bt.smoothEnd=!1,U(Bt.startEvent),at(Bt.startEvent))}function x(e,t,n,i){var r=1-e;return r*r*t+2*r*e*n+e*e*i}function b(e,t,n,i,r,o,s){return{x:x(s,e,n,r),y:x(s,t,i,o)}}function S(e,t,n,i){return e/=i,-n*e*(e-2)+t}function E(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1}function z(e,t){return e._context===bt||E(e._context,t)}function _(e,t){var i=e.options.ignoreFrom;return n(t)?"string"==typeof i?mt(t,i)||_(e,t.parentNode):n(i)?t===i||E(i,t):!1:!1}function O(e,t){var i=e.options.allowFrom;return i?n(t)?"string"==typeof i?mt(t,i)||O(e,t.parentNode):n(i)?t===i||E(i,t):!1:!1:!0}function X(e,t){if(t){var n=t.options,i=n.preventDefault;if("auto"===i&&!/^input$|^textarea$/i.test(Zt._element.nodeName)){if(/down|start/i.test(e.type)&&"drag"===bn&&"xy"!==n.dragAxis)return;return void e.preventDefault()}return i===!0?void e.preventDefault():void 0}}function Y(e,t){if(!t)return!1;var n=t.options.dragAxis;return"xy"===e||"xy"===n||n===e}function w(e,t){var n=e.options;return t=t||bn,/^resize/.test(t)&&(t="resize"),n.snapEnabled&&ft(n.snap.actions,t)}function D(e,t){var n=e.options;return t=t||bn,/^resize/.test(t)&&(t="resize"),n.restrictEnabled&&n.restrict[t]}function T(e,t){var i,r=[],o=[];for(t=t||Zt._element,i=0;i<Kt.length;i++){var s=Kt[i];if(!(n(s.options.accept)&&s.options.accept!==t||"string"==typeof s.options.accept&&!mt(t,s.options.accept))){s.selector&&(s._dropElements=s._context.querySelectorAll(s.selector));for(var a=0,l=s._dropElements.length;l>a;a++){var c=s._dropElements[a];c!==t&&(r.push(s),o.push(c))}}}return{dropzones:r,elements:o}}function M(e){var t,n,i,r;for(t=0;t<Wt.dropzones.length;t++)n=Wt.dropzones[t],i=Wt.elements[t],i!==r&&(e.target=i,n.fire(e)),r=i}function A(e){var t,n,i,r,o,s=e[0],a=s?0:-1,l=[],c=[];for(r=1;r<e.length;r++)if(t=e[r],t&&t!==s)if(s){if(t.parentNode!==bt)if(s.parentNode!==bt){if(!l.length)for(n=s;n.parentNode&&n.parentNode!==bt;)l.unshift(n),n=n.parentNode;if(s instanceof Ot&&t instanceof Et&&!(t instanceof zt)){if(t===s.parentNode)continue;n=t.ownerSVGElement}else n=t;for(c=[];n.parentNode!==bt;)c.unshift(n),n=n.parentNode;for(o=0;c[o]&&c[o]===l[o];)o++;var p=[c[o-1],c[o],l[o]];for(i=p[0].lastChild;i;){if(i===p[1]){s=t,a=r,l=[];break}if(i===p[2])break;i=i.previousSibling}}else s=t,a=r}else s=t,a=r;return a}function C(e,t){var n=T(e,t,!0);Wt.dropzones=n.dropzones,Wt.elements=n.elements,Wt.rects=[];for(var i=0;i<Wt.dropzones.length;i++)Wt.rects[i]=Wt.dropzones[i].getRect(Wt.elements[i])}function k(e,t){var n=[];fn&&C(e,t);for(var i=0;i<Wt.dropzones.length;i++){var r=Wt.dropzones[i],o=Wt.elements[i],s=Wt.rects[i];n.push(r.dropCheck(e,Zt,t,s)?o:null)}var a=A(n),l=Wt.dropzones[a]||null,c=Wt.elements[a]||null;return l&&l.selector&&(l._element=c),{dropzone:l,element:c}}function R(e,t,n){var i=null,r=null,o=null,s=null,a=null,l=null;return tn!==rn&&(nn&&(i=new $(e,"drag","leave",rn,t.target),t.dragLeave=rn),en&&(r=new $(e,"drag","enter",tn,t.target),t.dragEnter=tn)),"dragend"===t.type&&en&&(l=new $(e,"drop",null,tn,t.target)),"dragmove"===t.type&&n&&(o=new $(e,"drop","activate",null,t.target)),"dragend"!==t.type||n||(s=new $(e,"drop","deactivate",null,t.target)),"dragmove"===t.type&&en&&(a={target:tn,relatedTarget:t.target,dragmove:t,type:"dropmove",timeStamp:t.timeStamp}),{enter:r,leave:i,activate:o,deactivate:s,move:a,drop:l}}function $(e,t,n,r,o){var l,c,p=(Zt&&Zt.options||on).deltaSource,m=p+"X",v=p+"Y",y=Zt?Zt.options:on,x=f(Zt,r),b="start"===n,S="end"===n;if(r=r||Zt._element,"gesture"===t){var E=d(Rt);c={x:E.pageX-x.x,y:E.pageY-x.y},l={x:E.clientX-x.x,y:E.clientY-x.y}}else c=s(e),l=a(e),c.x-=x.x,c.y-=x.y,l.x-=x.x,l.y-=x.y,!w(Zt)||b&&y.snap.elementOrigin||(this.snap={range:sn.range,locked:sn.locked,x:sn.snappedX,y:sn.snappedY,realX:sn.realX,realY:sn.realY,dx:sn.dx,dy:sn.dy},sn.locked&&(c.x+=sn.dx,c.y+=sn.dy,l.x+=sn.dx,l.y+=sn.dy));if(!D(Zt)||b&&y.restrict.elementRect||!an.restricted||(c.x+=an.dx,c.y+=an.dy,l.x+=an.dx,l.y+=an.dy,this.restrict={dx:an.dx,dy:an.dy}),this.pageX=c.x,this.pageY=c.y,this.clientX=l.x,this.clientY=l.y,!b||e instanceof $||i(At,this),this.x0=At.pageX,this.y0=At.pageY,this.clientX0=At.clientX,this.clientY0=At.clientY,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.target=r,this.t0=$t,this.type=t+(n||""),this.interactbale=Zt,Bt.active&&(this.detail="inertia"),o&&(this.relatedTarget=o),S||"drop"===t?"client"===p?(this.dx=l.x-At.clientX,this.dy=l.y-At.clientY):(this.dx=c.x-At.pageX,this.dy=c.y-At.pageY):"inertiastart"===n?(this.dx=jt.dx,this.dy=jt.dy):"client"===p?(this.dx=l.x-jt.clientX,this.dy=l.y-jt.clientY):(this.dx=c.x-jt.pageX,this.dy=c.y-jt.pageY),jt&&"inertia"===jt.detail&&!Bt.active&&y.inertia.zeroResumeDelta&&(Bt.resumeDx+=this.dx,Bt.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===t?y.squareResize||e.shiftKey?("y"===vn?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=vn,"x"===vn?this.dy=0:"y"===vn&&(this.dx=0)):"gesture"===t&&(this.touches=Yt?[Rt[0],Rt[1]]:e.touches,b?(this.distance=h(Rt),this.box=u(Rt),this.scale=1,this.ds=0,this.angle=g(Rt),this.da=0):S||e instanceof $?(this.distance=jt.distance,this.box=jt.box,this.scale=jt.scale,this.ds=this.scale-1,this.angle=jt.angle,this.da=this.angle-Ut.startAngle):(this.distance=h(Rt),this.box=u(Rt),this.scale=this.distance/Ut.startDistance,this.angle=g(Rt,Ut.prevAngle),this.ds=this.scale-Ut.prevScale,this.da=this.angle-Ut.prevAngle)),b)this.timeStamp=$t,this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===n)this.timeStamp=(new Date).getTime(),this.dt=jt.dt,this.duration=jt.duration,this.speed=jt.speed,this.velocityX=jt.velocityX,this.velocityY=jt.velocityY;else{this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-jt.timeStamp,this.duration=this.timeStamp-$t;var z,_,O;S||e instanceof $?(O=Math.max((S?this.duration:this.dt)/1e3,.001),z=this[m]-jt[m],_=this[v]-jt[v],this.snap&&this.snap.locked&&(z-=this.snap.dx,_-=this.snap.dy),this.restrict&&(z-=this.restrict.dx,_-=this.restrict.dy),jt.snap&&jt.snap.locked&&(z-=jt[m]-jt.snap.dx,_-=jt[v]-jt.snap.dy),jt.restrict&&(z+=jt.restrict.dx,_+=jt.restrict.dy),this.speed=Dt(z,_)/O,this.velocityX=z/O,this.velocityY=_/O):(this.speed=Ct[p+"Speed"],this.velocityX=Ct[p+"VX"],this.velocityY=Ct[p+"VY"])}if((S||"inertiastart"===n)&&jt.speed>600&&this.timeStamp-jt.timeStamp<150){var X=180*Math.atan2(jt.velocityY,jt.velocityX)/Math.PI,Y=22.5;0>X&&(X+=360);var T=X>=135-Y&&225+Y>X,M=X>=225-Y&&315+Y>X,A=!T&&(X>=315-Y||45+Y>X),C=!M&&X>=45-Y&&135+Y>X;this.swipe={up:M,down:C,left:T,right:A,angle:X,speed:jt.speed,velocity:{x:jt.velocityX,y:jt.velocityY}}}}function P(){this.originalEvent.preventDefault()}function j(e,t,n){var i,r,o={};for(i in e)o[i]=e[i];o.preventDefault=P,o.stopPropagation=$.prototype.stopPropagation,o.stopImmediatePropagation=$.prototype.stopImmediatePropagation,o.timeStamp=(new Date).getTime(),o.originalEvent=e,o.dt=o.timeStamp-$t,o.type="tap";var s=o.timeStamp-Nt,a=Ft&&"doubletap"!==Ft.type&&Ft.target===o.target&&500>s;for(Nt=o.timeStamp,r=0;r<t.length;r++){var l=f(t[r],n[r]);if(o.pageX-=l.x,o.pageY-=l.y,o.clientX-=l.x,o.clientY-=l.y,o.currentTarget=n[r],t[r].fire(o),o.immediatePropagationStopped||o.propagationStopped&&t[r+1]!==o.currentTarget)break}if(a){var c={};for(i in o)c[i]=o[i];for(c.dt=s,c.type="doubletap",r=0;r<t.length&&(c.currentTarget=n[r],t[r].fire(c),!(c.immediatePropagationStopped||c.propagationStopped&&t[r+1]!==c.currentTarget));r++);Ft=c}else Ft=o}function N(e){function t(e,t,s){var a=xt?s.querySelectorAll(t):void 0;o!==bt&&z(e,o)&&!_(e,r)&&O(e,r)&&mt(o,t,a)&&(n.push(e),i.push(o))}if(!Pt||!un&&e instanceof Pt.constructor&&Pt.target===e.target){for(var n=[],i=[],r=e.target instanceof _t?e.target.correspondingUseElement:e.target,o=r;o;)dt.isSet(o)&&(n.push(dt(o)),i.push(o)),Lt.forEachSelector(t),o=o.parentNode;n.length&&j(e,n,i)}}function F(e){var t,n,i=this.getRect(),r=null,o=s(e),a=this.options;return i?(xn.resize&&a.resizable&&(t="y"!==a.resizeAxis&&o.x>i.right-pn,n="x"!==a.resizeAxis&&o.y>i.bottom-pn),vn=(t?"x":"")+(n?"y":""),r=vn?"resize"+vn:xn.drag&&a.draggable?"drag":null,xn.gesture&&(e.touches&&e.touches.length>=2||Yt&&kt.length>=2)&&!gn&&!mn&&(r="gesture"),r):null}function q(e,t){if("string"!=typeof e)return null;t=t||Zt;var n=-1!==e.search("resize")?"resize":e,i=(t||Zt).options;return("resize"===n&&i.resizable||"drag"===e&&i.draggable||"gesture"===e&&i.gesturable)&&xn[n]?(("resize"===e||"resizeyx"===e)&&(e="resizexy"),e):null}function I(e){function t(e,t,n){var i=xt?n.querySelectorAll(t):void 0;z(e,o)&&!_(e,r)&&O(e,r)&&mt(o,t,i)&&(e._element=o,Ht.push(e))}if(bn&&Pt&&e.type!==Pt.type)return void X(e,Zt);if(!(Pt&&"mousedown"===e.type&&"touchstart"===Pt.type&&e.timeStamp-Pt.timeStamp<300)){dn=!0;var n,r=e.target instanceof _t?e.target.correspondingUseElement:e.target,o=r;if(L(e),Bt.active&&Zt.selector)for(;o&&o!==bt;){if(o===Bt.targetElement&&q(Zt.getAction(e))===bn)return wn(Bt.i),Bt.active=!1,void L(e,Jt);o=o.parentNode}if(!(gn||mn||hn)){if(Ht.length&&/mousedown|pointerdown/i.test(e.type))n=it(e,Ht);else for(;o&&o!==bt&&!n;)Ht=[],Lt.forEachSelector(t),n=it(e,Ht),o=o.parentNode;return n?(bn=n,G(e,n)):($t=(new Date).getTime(),Pt=e,i(Tt,e),un=!1,void 0)}}}function G(e,t){if(!t&&dn&&Pt&&e.type!==Pt.type)return void X(e,Zt);if(dn=!0,L(e),(e.touches&&e.touches.length<2||kt&&kt.length<2)&&!Zt||!bn){var n=Lt.get(e.currentTarget);!_(n,e.target)&&O(n,e.target)&&(Zt=n)}var r=Zt&&Zt.options;if(Zt&&!(gn||mn||hn)){var o=q(t||Zt.getAction(e));if(i(At,e),Yt&&e instanceof Yt&&(Zt._gesture.target||(Zt._gesture.target=Zt._element),L(e,Zt._gesture)),!o)return e;r.styleCursor&&(bt.documentElement.style.cursor=yn[o].cursor),vn="resizexy"===o?"xy":"resizex"===o?"x":"resizey"===o?"y":"","gesture"===o&&(e.touches&&e.touches.length<2||Yt&&kt.length<2)&&(o=null),bn=o,sn.snappedX=null,sn.snappedY=null,$t=(new Date).getTime(),Pt=e,i(Tt,e),un=!1,X(e,Zt)}else Bt.active&&e.currentTarget===Bt.targetElement&&Zt===Bt.target&&q(Zt.getAction(e))===bn&&(wn(Bt.i),Bt.active=!1,Yt&&(Zt._gesture.target||(Zt._gesture.target=Zt._element),L(e,Zt._gesture)))}function V(e,t){var n,i,r,o,a,l,c,p,d,u,h=Zt.options.snap,g=h.anchors;if(t=t||sn,t.useStatusXY)n={x:t.x,y:t.y};else{var m=f(Zt);n=s(e),n.x-=m.x,n.y-=m.y}if(n.x-=Bt.resumeDx,n.y-=Bt.resumeDy,t.realX=n.x,t.realY=n.y,h.range<0&&(h.range=1/0),"path"===h.mode)for(g=[],d=0,u=h.paths.length;u>d;d++){var v=h.paths[d];"function"==typeof v&&(v=v(n.x,n.y)),g.push({x:"number"==typeof v.x?v.x:n.x,y:"number"==typeof v.y?v.y:n.y,range:"number"==typeof v.range?v.range:h.range})}if("anchor"!==h.mode&&"path"!==h.mode||!g.length){if("grid"===h.mode){var y=Math.round((n.x-h.gridOffset.x-Gt.x)/h.grid.x),x=Math.round((n.y-h.gridOffset.y-Gt.y)/h.grid.y),b=y*h.grid.x+h.gridOffset.x+Gt.x,S=x*h.grid.y+h.gridOffset.y+Gt.y;l=b-n.x,c=S-n.y,p=Dt(l,c),o=p<h.range,a=b!==t.x||S!==t.y,t.snappedX=b,t.snappedY=S,t.dx=l,t.dy=c,t.range=h.range}}else{for(i={anchor:null,distance:0,range:0,dx:0,dy:0},d=0,u=g.length;u>d;d++){var E=g[d];r="number"==typeof E.range?E.range:h.range,l=E.x-n.x+Gt.x,c=E.y-n.y+Gt.y,p=Dt(l,c),o=r>p,1/0===r&&i.inRange&&1/0!==i.range&&(o=!1),(!i.anchor||(o?i.inRange&&1/0!==r?p/r<i.distance/i.range:p<i.distance:!i.inRange&&p<i.distance))&&(1/0===r&&(o=!0),i.anchor=E,i.distance=p,i.range=r,i.inRange=o,i.dx=l,i.dy=c,t.range=r)}o=i.inRange,a=i.anchor.x!==t.x||i.anchor.y!==t.y,t.snappedX=i.anchor.x,t.snappedY=i.anchor.y,t.dx=i.dx,t.dy=i.dy}return t.changed=a||o&&!t.locked,t.locked=o,t}function B(e,t){var i,r=Zt&&Zt.options.restrict,o=r&&r[bn];if(!o)return t;t=t||an,i=i=t.useStatusXY?{x:t.x,y:t.y}:s(e),t.snap&&t.snap.locked&&(i.x+=t.snap.dx||0,i.y+=t.snap.dy||0),i.x-=Bt.resumeDx,i.y-=Bt.resumeDy,t.dx=0,t.dy=0,t.restricted=!1;var a;return"parent"===o?o=Zt._element.parentNode:"self"===o&&(o=Zt._element),n(o)?a=c(o):("function"==typeof o&&(o=o(i.x,i.y,Zt._element)),a=o,"x"in o&&"y"in o&&(a={left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})),t.dx=Math.max(Math.min(a.right-It.right,i.x),a.left+It.left)-i.x,t.dy=Math.max(Math.min(a.bottom-It.bottom,i.y),a.top+It.top)-i.y,t.restricted=!0,t}function U(e,t){if(dn){e instanceof $||i(Mt,e);var n,o;if(un||(n=Mt.clientX-At.clientX,o=Mt.clientY-At.clientY,un=Dt(n,o)>on.pointerMoveTolerance),bn&&("mousemove"!==e.type||"touchstart"!==Pt.type)){if(un&&(!Bt.active||e instanceof $&&/inertiastart/.test(e.type))){if(!(gn||mn||hn)&&(r(Ct,Tt,Mt),"drag"===bn)){var s=Math.abs(n),a=Math.abs(o),l=Zt.options.dragAxis,c=s>a?"x":a>s?"y":"xy";if("xy"!==c&&"xy"!==l&&l!==c){bn=null;for(var p=e.target instanceof _t?e.target.correspondingUseElement:e.target,d=p;d&&d!==bt;){var u=Lt.get(d);if(u&&u!==Zt&&"drag"===u.getAction(Pt)&&Y(c,u)){bn="drag",Zt=u;break}d=d.parentNode}if(!bn){var h=function(e,t,n){var i=xt?n.querySelectorAll(t):void 0;if(e!==Zt)return e._element=d,z(e,p)&&!_(e,p)&&O(e,p)&&mt(d,t,i)&&"drag"===e.getAction(Pt)&&Y(c,e)?e:void 0};for(d=p;d&&d!==bt;){var g=Lt.forEachSelector(h);if(g){bn="drag",Zt=g;break}d=d.parentNode}}}}if(bn&&Zt){var f=D(Zt)&&(!Zt.options.restrict.endOnly||t),m=!(gn||mn||hn),v=m?Pt:e;if(m){jt=Pt;var y=Zt.getRect(),x=Zt.options.snap,b=Zt.options.restrict;y?(qt.left=At.pageX-y.left,qt.top=At.pageY-y.top,qt.right=y.right-At.pageX,qt.bottom=y.bottom-At.pageY):qt.left=qt.top=qt.right=qt.bottom=0,y&&x.elementOrigin?(Gt.x=qt.left+y.width*x.elementOrigin.x,Gt.y=qt.top+y.height*x.elementOrigin.y):Gt.x=Gt.y=0,y&&b.elementRect?(It.left=qt.left-y.width*b.elementRect.left,It.top=qt.top-y.height*b.elementRect.top,It.right=qt.right-y.width*(1-b.elementRect.right),It.bottom=qt.bottom-y.height*(1-b.elementRect.bottom)):It.left=It.top=It.right=It.bottom=0}f||(an.restricted=!1),!w(Zt)||Zt.options.snap.endOnly&&!t?(f&&B(e),m&&(jt=yn[bn].start(Pt),Zt.options.snapEnabled&&!Zt.options.snap.endOnly&&V(e)),jt=yn[bn].move(e)):(V(v),(sn.changed||!sn.locked||f)&&(f&&B(e),m&&(jt=yn[bn].start(Pt),Zt.options.snapEnabled&&!Zt.options.snap.endOnly&&V(e)),jt=yn[bn].move(e)))}}e instanceof $||(r(Ct,Tt,Mt),i(Tt,e)),(gn||mn)&&ln.edgeMove(e)}}}function L(e,t,n){if(n=n||e.type,/touch/.test(e.type))for(var i=/cancel|touchend/.test(n)?e.changedTouches:e.touches,r=0;r<i.length;r++)L(i[r],t,n);else if(!kt.length||Rt[0].pointerType===e.pointerType){var o=e.pointerId||e.identifier||0;t&&t.addPointer(o);var s=gt(kt,o);-1===s?(kt.push(o),Rt[kt.length-1]=e):Rt[s]=e}}function K(e){var t=gt(kt,e.pointerId||e.identifier||0);-1!==t&&kt.splice(t,1)}function W(e,t){var n=gt(kt,e.pointerId||e.identifier||0);-1!==n&&(t=t||e.type,/move/i.test(t)?Rt[n]=e:/up|end|cancel/i.test(t)&&(K(e),hn&&Zt._gesture&&kt.length<2&&Zt._gesture.stop()))}function H(e){for(var t=/cancel|touchend/.test(e.type)?e.changedTouches:e.touches,n=0;n<t.length;n++)W(t[n],e.type)}function J(e){var t=new $(e,"drag","start");return gn=!0,Zt.fire(t),Wt.dropzones=[],Wt.elements=[],Wt.rects=[],fn||C(e,Zt._element),t}function Q(e){X(e,Zt);var t=new $(e,"drag","move"),n=Zt._element,i=k(t,n);en=i.dropzone,tn=i.element,Zt._element=n;var r=R(e,t);return Zt.fire(t),r.activate&&M(r.activate),r.leave&&nn.fire(r.leave),r.enter&&en.fire(r.enter),r.move&&en.fire(r.move),nn=en,rn=tn,t}function Z(e){var t=new $(e,"resize","start");return Zt.fire(t),Zt.fire(t),mn=!0,t}function et(e){X(e,Zt);var t;return t=new $(e,"resize","move"),Zt.fire(t),t}function tt(e){var t=new $(e,"gesture","start");return t.ds=0,Ut.startDistance=Ut.prevDistance=t.distance,Ut.startAngle=Ut.prevAngle=t.angle,Ut.scale=1,hn=!0,Zt.fire(t),t}function nt(e){if(e.touches&&!(e.touches.length<2)||Yt){X(e,Zt);var t;return t=new $(e,"gesture","move"),t.ds=t.scale-Ut.scale,Zt.fire(t),Ut.prevAngle=t.angle,Ut.prevDistance=t.distance,1/0===t.scale||null===t.scale||void 0===t.scale||isNaN(t.scale)||(Ut.scale=t.scale),t}}function it(e,t){for(var n=0,i=t.length;i>n;n++){var r=t[n],o=q(r.getAction(e,r),r);if(o)return Zt=r,o}}function rt(e){function t(e,t){e&&z(e,r)&&!_(e,r)&&O(e,r)&&mt(r,t)&&(e._element=r,n.push(e))}if(!bn){var n=[],i=Zt&&Zt._element,r=e.target instanceof _t?e.target.correspondingUseElement:e.target;!Zt||!_(Zt,r)&&O(Zt,r)||(Zt=null,Ht=[]);var o=Lt.get(r),s=o&&!_(o,r)&&O(o,r)&&q(o.getAction(e),o);if(s)Zt=o,Ht=[];else if(Lt.forEachSelector(t),it(e,n))Ht=n,st(e,Ht),Cn.addToElement(r,"mousemove",st);else if(Zt){var a=i.querySelectorAll("*");if(ft(a,r)){for(var l=0;l<Ht.length;l++)Ht[l]._element=i;st(e,Ht),Cn.addToElement(Zt._element,"mousemove",st)}else Zt=null,Ht=[]}}}function ot(e){if(!bn){var t=e.target instanceof _t?e.target.correspondingUseElement:e.target;Lt.get(t)||Cn.removeFromElement(t,st),Zt&&Zt.options.styleCursor&&!(gn||mn||hn)&&(bt.documentElement.style.cursor="")}}function st(e,t){if(bn)bn&&X(e,Zt);else{var n;t?n=it(e,t):Zt&&(n=q(Zt.getAction(e))),Zt&&Zt.options.styleCursor&&(bt.documentElement.style.cursor=n?yn[n].cursor:"")}}function at(e){if((e instanceof $||Yt||!dn||!Pt||e instanceof Pt.constructor)&&!(e.touches&&e.touches.length>=2)){if(wt&&e instanceof wt&&/inertiastart/i.test(e.type))return void e.gestureObject.stop();var t,n,i=Zt&&Zt.options,r=i&&i.inertia;if(gn||mn||hn){if(Bt.active)return;var o,a=i.deltaSource,l=Ct[a+"Speed"],c=(new Date).getTime(),p=!1,d=!1,u=!1,h=0,g=0;if(p=i.inertiaEnabled&&"gesture"!==bn&&ft(r.actions,bn)&&e!==Bt.startEvent,d=p&&c-Mt.timeStamp<50&&l>r.minSpeed&&l>r.endSpeed,p&&!d&&(i.snapEnabled&&i.snap.endOnly&&ft(i.snap.actions,bn)||i.restrictEnabled&&i.restrict.endOnly)){var x={};x.snap=x.restrict=x,V(e,x),x.locked&&(h+=x.dx,g+=x.dy),B(e,x),x.restricted&&(h+=x.dx,g+=x.dy),(x.locked||x.restricted)&&(h||g)&&(u=!0)}if(d||u){if(Cn.useAttachEvent)for(n in e)Bt.pointerUp[n]=e[n];else Bt.pointerUp=e;if(Bt.startEvent=o=new $(e,bn,"inertiastart"),Zt.fire(Bt.startEvent),Bt.target=Zt,Bt.targetElement=Zt._element,Bt.t0=c,d){Bt.vx0=Ct[a+"VX"],Bt.vy0=Ct[a+"VY"],Bt.v0=l,m(Bt);var b,S=s(e),E=f(Zt,Zt._element);if(S.x=S.x+(d?Bt.xe:0)-E.x,S.y=S.y+(d?Bt.ye:0)-E.y,b={useStatusXY:!0,x:S.x,y:S.y,dx:0,dy:0,snap:null},b.snap=b,h=g=0,i.snapEnabled&&i.snap.endOnly&&ft(i.snap.actions,bn)){var z=V(e,b);z.locked&&(h+=z.dx,g+=z.dy)}if(D(Zt)&&Zt.options.restrict.endOnly){var _=B(e,b);_.restricted&&(h+=_.dx,g+=_.dy)}Bt.modifiedXe+=h,Bt.modifiedYe+=g,Bt.i=Yn(v)}else Bt.smoothEnd=!0,Bt.xe=h,Bt.ye=g,Bt.sx=Bt.sy=0,Bt.i=Yn(y);return void(Bt.active=!0)}(w(Zt)&&Zt.options.snap.endOnly||D(Zt)&&Zt.options.restrict.endOnly)&&U(e,!0)}if(gn){t=new $(e,"drag","end");var O,X=Zt._element,Y=k(t,X);if(en=Y.dropzone,tn=Y.element,Zt._element=X,en)O=new $(e,"drop",null,tn,X),t.dropzone=tn;else if(nn){var T=new $(e,"drag","leave",tn,X);nn.fire(T,X),t.dragLeave=rn}var A=R(e,t);Zt.fire(t),A.leave&&nn.fire(A.leave),A.enter&&en.fire(A.enter),A.drop&&en.fire(A.drop),A.deactivate&&M(A.deactivate)}else mn?(t=new $(e,"resize","end"),Zt.fire(t)):hn&&(t=new $(e,"gesture","end"),Zt.fire(t));dt.stop()}}function lt(e,t){var n={},i=Qt[e.type],r=e.target;t=t?!0:!1;for(var o in e)n[o]=e[o];for(n.originalEvent=e,n.preventDefault=P;r&&r!==bt;){for(var s=0;s<i.selectors.length;s++){var a=i.selectors[s],l=i.contexts[s];if(mt(r,a)&&l===e.currentTarget&&E(l,r)){var c=i.listeners[s];n.currentTarget=r;for(var p=0;p<c.length;p++)if(c[p][1]===t)try{c[p][0](n)}catch(d){St.error('Error thrown from delegated listener: "'+a+'" '+e.type+" "+(c[p][0].name?c[p][0].name:"")),St.log(d)}}}r=r.parentNode}}function ct(e){return lt.call(this,e,!0)}function pt(){Zt&&!Zt.selector&&(Zt=null),en=tn=nn=rn=null}function dt(e,t){return Lt.get(e,t)||new ht(e,t)}function ut(e){for(var t in on)e.hasOwnProperty(t)&&typeof e[t]==typeof on[t]&&(this[t]=e[t])}function ht(t,i){this._element=t,this._iEvents=this._iEvents||{},"string"==typeof t?(bt.querySelector(t),this.selector=t,this._gesture=Jt,i&&i.context&&(e.Node?i.context instanceof e.Node:n(i.context)||i.context===bt)&&(this._context=i.context)):n(t)&&(Yt?(Cn.add(this,vt.down,G),Cn.add(this,vt.move,st),this._gesture=new Xt,this._gesture.target=t):(Cn.add(this,"mousedown",G),Cn.add(this,"mousemove",st),Cn.add(this,"touchstart",G),Cn.add(this,"touchmove",st))),Lt.push(this),this.set(i)}function gt(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function ft(e,t){return-1!==gt(e,t)}function mt(e,t,n){return xt?xt(e,t,n):e[Xn](t)}var vt,yt,xt,bt=e.document,St=e.console,Et=e.SVGElement||t,zt=e.SVGSVGElement||t,_t=e.SVGElementInstance||t,Ot=e.HTMLElement||e.Element,Xt=e.Gesture||e.MSGesture,Yt=Xt&&(e.PointerEvent||e.MSPointerEvent),wt=Xt&&(e.GestureEvent||e.MSGestureEvent),Dt=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},Tt={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},Mt={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},At={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},Ct={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0,pageSpeed:0,clientSpeed:0},kt=[],Rt=[],$t=0,Pt=null,jt=null,Nt=0,Ft=null,qt={left:0,right:0,top:0,bottom:0},It={left:0,right:0,top:0,bottom:0},Gt={x:0,y:0},Vt={},Bt={active:!1,smoothEnd:!1,target:null,targetElement:null,startEvent:null,pointerUp:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},Ut={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},Lt=[],Kt=[],Wt={dropzones:[],elements:[],rects:[]},Ht=[],Jt=null,Qt={},Zt=null,en=null,tn=null,nn=null,rn=null,on={draggable:!1,dragAxis:"xy",dropzone:!1,accept:null,resizable:!1,squareResize:!1,resizeAxis:"xy",gesturable:!1,pointerMoveTolerance:1,actionChecker:null,styleCursor:!0,preventDefault:"auto",snap:{mode:"grid",endOnly:!1,actions:["drag"],range:1/0,grid:{x:100,y:100},gridOffset:{x:0,y:0},anchors:[],paths:[],elementOrigin:null,arrayTypes:/^anchors$|^paths$|^actions$/,objectTypes:/^grid$|^gridOffset$|^elementOrigin$/,stringTypes:/^mode$/,numberTypes:/^range$/,boolTypes:/^endOnly$/},snapEnabled:!1,restrict:{drag:null,resize:null,gesture:null,endOnly:!1},restrictEnabled:!1,autoScroll:{container:e,margin:60,speed:300,numberTypes:/^margin$|^speed$/},autoScrollEnabled:!1,inertia:{resistance:10,minSpeed:100,endSpeed:10,zeroResumeDelta:!1,smoothEndDuration:300,actions:["drag","resize"],numberTypes:/^resistance$|^minSpeed$|^endSpeed$|^smoothEndDuration$/,arrayTypes:/^actions$/,boolTypes:/^zeroResumeDelta$/},inertiaEnabled:!1,origin:{x:0,y:0},deltaSource:"page",context:bt},sn={locked:!1,x:0,y:0,dx:0,dy:0,realX:0,realY:0,anchors:[],paths:[]},an={dx:0,dy:0,snap:sn,restricted:!1},ln={target:null,i:null,x:0,y:0,scroll:function(){var t=ln.target.options.autoScroll,n=t.container,i=(new Date).getTime(),r=(i-ln.prevTime)/1e3,o=t.speed*r;o>=1&&(n instanceof e.Window?n.scrollBy(ln.x*o,ln.y*o):n&&(n.scrollLeft+=ln.x*o,n.scrollTop+=ln.y*o),ln.prevTime=i),ln.isScrolling&&(wn(ln.i),ln.i=Yn(ln.scroll))},edgeMove:function(t){if(Zt&&Zt.options.autoScrollEnabled&&(gn||mn)){var n,i,r,o,s=Zt.options.autoScroll;if(s.container instanceof e.Window)o=t.clientX<ln.margin,n=t.clientY<ln.margin,i=t.clientX>s.container.innerWidth-ln.margin,r=t.clientY>s.container.innerHeight-ln.margin;else{var a=c(s.container);o=t.clientX<a.left+ln.margin,n=t.clientY<a.top+ln.margin,i=t.clientX>a.right-ln.margin,r=t.clientY>a.bottom-ln.margin}ln.x=i?1:o?-1:0,ln.y=r?1:n?-1:0,ln.isScrolling||(ln.margin=s.margin,ln.speed=s.speed,ln.start(Zt))}},isScrolling:!1,prevTime:0,start:function(e){ln.isScrolling=!0,wn(ln.i),ln.target=e,ln.prevTime=(new Date).getTime(),ln.i=Yn(ln.scroll)},stop:function(){ln.isScrolling=!1,wn(ln.i)}},cn="ontouchstart"in e||e.DocumentTouch&&bt instanceof e.DocumentTouch,pn=cn?20:10,dn=!1,un=!1,hn=!1,gn=!1,fn=!1,mn=!1,vn="xy",yn={drag:{cursor:"move",start:J,move:Q},resizex:{cursor:"e-resize",start:Z,move:et},resizey:{cursor:"s-resize",start:Z,move:et},resizexy:{cursor:"se-resize",start:Z,move:et},gesture:{cursor:"",start:tt,move:nt}},xn={drag:!0,resize:!0,gesture:!0},bn=null,Sn="onmousewheel"in bt?"mousewheel":"wheel",En=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","tap","doubletap"],zn={},_n={directBind:0,onevent:1,globalBind:2},On="Opera"==navigator.appName&&cn&&navigator.userAgent.match("Presto"),Xn="matchesSelector"in Element.prototype?"matchesSelector":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Yn=e.requestAnimationFrame,wn=e.cancelAnimationFrame,Dn={_element:e,events:{}},Tn={_element:bt,events:{}},Mn={_element:e.parent,events:{}},An={_element:null,events:{}},Cn=function(){function t(e,t,n,l){var h=gt(p,e),g=d[h];if(g||(g={events:{},typeCount:0},h=p.push(e)-1,d.push(g),u.push(s?{supplied:[],wrapped:[],useCount:[]}:null)),g.events[t]||(g.events[t]=[],g.typeCount++),!ft(g.events[t],n)){var f;if(s){var m=u[h],v=gt(m.supplied,n),y=m.wrapped[v]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=e,t.preventDefault=t.preventDefault||i,t.stopPropagation=t.stopPropagation||r,t.stopImmediatePropagation=t.stopImmediatePropagation||o,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+bt.documentElement.scrollLeft,t.pageY=t.clientY+bt.documentElement.scrollTop),n(t))};f=e[a](c+t,y,Boolean(l)),-1===v?(m.supplied.push(n),m.wrapped.push(y),m.useCount.push(1)):m.useCount[v]++}else f=e[a](t,n,l||!1);return g.events[t].push(n),f}}function n(e,t,i,r){var o,a,h,g=gt(p,e),f=d[g],m=i;if(f&&f.events)if(s&&(a=u[g],h=gt(a.supplied,i),m=a.wrapped[h]),"all"!==t){if(f.events[t]){var v=f.events[t].length;if("all"===i)for(o=0;v>o;o++)n(e,t,f.events[t][o],Boolean(r));else for(o=0;v>o;o++)if(f.events[t][o]===i){e[l](c+t,m,r||!1),f.events[t].splice(o,1),s&&a&&(a.useCount[h]--,0===a.useCount[h]&&(a.supplied.splice(h,1),a.wrapped.splice(h,1),a.useCount.splice(h,1)));break}f.events[t]&&0===f.events[t].length&&(f.events[t]=null,f.typeCount--)}f.typeCount||(d.splice(g),p.splice(g),u.splice(g))}else for(t in f.events)f.events.hasOwnProperty(t)&&n(e,t,"all")}function i(){this.returnValue=!1}function r(){this.cancelBubble=!0}function o(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var s="attachEvent"in e&&!("addEventListener"in e),a=s?"attachEvent":"addEventListener",l=s?"detachEvent":"removeEventListener",c=s?"on":"",p=[],d=[],u=[];return{add:function(e,n,i,r){t(e._element,n,i,r)},remove:function(e,t,i,r){n(e._element,t,i,r)},addToElement:t,removeFromElement:n,useAttachEvent:s,indexOf:gt}}();$.prototype={preventDefault:t,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}},Lt.indexOfElement=Kt.indexOfElement=function(e,t){for(var n=0;n<this.length;n++){var i=this[n];if(i.selector===e&&i._context===(t||bt)||!i.selector&&i._element===e)return n}return-1},Lt.get=Kt.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},Lt.forEachSelector=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(n.selector){var i=e(n,n.selector,n._context,t,this);if(void 0!==i)return i}}},ut.prototype=on,ht.prototype={setOnEvents:function(e,t){if("drop"===e){var n=t.ondrop||t.onDrop||t.drop,i=t.ondropactivate||t.onDropActivate||t.dropactivate,r=t.ondropdeactivate||t.onDropDeactivate||t.dropdeactivate,o=t.ondragenter||t.onDropEnter||t.dragenter,s=t.ondragleave||t.onDropLeave||t.dragleave,a=t.ondropmove||t.onDropMove||t.dropmove;"function"==typeof n&&(this.ondrop=n),"function"==typeof i&&(this.ondropactivate=i),"function"==typeof r&&(this.ondropdeactivate=r),"function"==typeof o&&(this.ondragenter=o),"function"==typeof s&&(this.ondragleave=s),"function"==typeof a&&(this.ondropmove=a)}else{var l=t.onstart||t.onStart||t.start,c=t.onmove||t.onMove||t.move,p=t.onend||t.onEnd||t.end,d=t.oninertiastart||t.onInertiaStart||t.inertiastart;e="on"+e,"function"==typeof l&&(this[e+"start"]=l),"function"==typeof c&&(this[e+"move"]=c),"function"==typeof p&&(this[e+"end"]=p),"function"==typeof d&&(this[e+"inertiastart"]=d)}return this},draggable:function(e){return e instanceof Object?(this.options.draggable=!0,this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.dragAxis=e.axis:null===e.axis&&delete this.options.dragAxis,this):"boolean"==typeof e?(this.options.draggable=e,this):null===e?(delete this.options.draggable,this):this.options.draggable
},dropzone:function(e){if(e instanceof Object)return this.options.dropzone=!0,this.setOnEvents("drop",e),this.accept(e.accept),this._dropElements=this.selector?null:[this._element],Kt.push(this),this;if("boolean"==typeof e){if(e)this._dropElements=this.selector?null:[this._element],Kt.push(this);else{var t=gt(Kt,this);-1!==t&&Kt.splice(t,1)}return this.options.dropzone=e,this}return null===e?(delete this.options.dropzone,this):this.options.dropzone},dropCheck:function(e,t,n,i){if(!(i=i||this.getRect()))return!1;var r,o,a=s(e),l=f(t,n);return a.x+=l.x,a.y+=l.y,r=a.x>i.left&&a.x<i.right,o=a.y>i.top&&a.y<i.bottom,r&&o},dropChecker:function(e){return"function"==typeof e?(this.dropCheck=e,this):this.dropCheck},accept:function(e){return n(e)?(this.options.accept=e,this):"string"==typeof e?(bt.querySelector(e),this.options.accept=e,this):null===e?(delete this.options.accept,this):this.options.accept},resizable:function(e){return e instanceof Object?(this.options.resizable=!0,this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resizeAxis=e.axis:null===e.axis&&(this.options.resizeAxis=on.resizeAxis),this):"boolean"==typeof e?(this.options.resizable=e,this):this.options.resizable},resizeable:t,squareResize:function(e){return"boolean"==typeof e?(this.options.squareResize=e,this):null===e?(delete this.options.squareResize,this):this.options.squareResize},gesturable:function(e){return e instanceof Object?(this.options.gesturable=!0,this.setOnEvents("gesture",e),this):"boolean"==typeof e?(this.options.gesturable=e,this):null===e?(delete this.options.gesturable,this):this.options.gesturable},gestureable:t,autoScroll:function(t){var i=on.autoScroll;if(t instanceof Object){var r=this.options.autoScroll;return r===i&&(r=this.options.autoScroll={margin:i.margin,distance:i.distance,interval:i.interval,container:i.container}),r.margin=this.validateSetting("autoScroll","margin",t.margin),r.speed=this.validateSetting("autoScroll","speed",t.speed),r.container=n(t.container)||t.container instanceof e.Window?t.container:i.container,this.options.autoScrollEnabled=!0,this.options.autoScroll=r,this}return"boolean"==typeof t?(this.options.autoScrollEnabled=t,this):null===t?(delete this.options.autoScrollEnabled,delete this.options.autoScroll,this):this.options.autoScrollEnabled?this.options.autoScroll:!1},snap:function(e){var t=on.snap;if(e instanceof Object){var n=this.options.snap;return n===t&&(n={}),n.mode=this.validateSetting("snap","mode",e.mode),n.endOnly=this.validateSetting("snap","endOnly",e.endOnly),n.actions=this.validateSetting("snap","actions",e.actions),n.range=this.validateSetting("snap","range",e.range),n.paths=this.validateSetting("snap","paths",e.paths),n.grid=this.validateSetting("snap","grid",e.grid),n.gridOffset=this.validateSetting("snap","gridOffset",e.gridOffset),n.anchors=this.validateSetting("snap","anchors",e.anchors),n.elementOrigin=this.validateSetting("snap","elementOrigin",e.elementOrigin),this.options.snapEnabled=!0,this.options.snap=n,this}return"boolean"==typeof e?(this.options.snapEnabled=e,this):null===e?(delete this.options.snapEnabled,delete this.options.snap,this):this.options.snapEnabled?this.options.snap:!1},inertia:function(e){var t=on.inertia;if(e instanceof Object){var n=this.options.inertia;return n===t&&(n=this.options.inertia={resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions,zeroResumeDelta:t.zeroResumeDelta,smoothEndDuration:t.smoothEndDuration}),n.resistance=this.validateSetting("inertia","resistance",e.resistance),n.minSpeed=this.validateSetting("inertia","minSpeed",e.minSpeed),n.endSpeed=this.validateSetting("inertia","endSpeed",e.endSpeed),n.actions=this.validateSetting("inertia","actions",e.actions),n.zeroResumeDelta=this.validateSetting("inertia","zeroResumeDelta",e.zeroResumeDelta),n.smoothEndDuration=this.validateSetting("inertia","smoothEndDuration",e.smoothEndDuration),this.options.inertiaEnabled=!0,this.options.inertia=n,this}return"boolean"==typeof e?(this.options.inertiaEnabled=e,this):null===e?(delete this.options.inertiaEnabled,delete this.options.inertia,this):this.options.inertiaEnabled?this.options.inertia:!1},getAction:function(e){var t=this.defaultActionChecker(e);return this.options.actionChecker&&(t=this.options.actionChecker(e,t,this)),t},defaultActionChecker:F,actionChecker:function(e){return"function"==typeof e?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!n(e)&&(e=this._context.querySelector(this.selector)),c(e)},rectChecker:function(e){return"function"==typeof e?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return"boolean"==typeof e?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return"boolean"==typeof e||"auto"===e?(this.options.preventDefault=e,this):null===e?(delete this.options.preventDefault,this):this.options.preventDefault},origin:function(e){return e instanceof Object||/^parent$|^self$/.test(e)?(this.options.origin=e,this):null===e?(delete this.options.origin,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):null===e?(delete this.options.deltaSource,this):this.options.deltaSource},restrict:function(e){if(void 0===e)return this.options.restrict;if("boolean"==typeof e)on.restrictEnabled=e;else if(e instanceof Object){var t={};(e.drag instanceof Object||/^parent$|^self$/.test(e.drag))&&(t.drag=e.drag),(e.resize instanceof Object||/^parent$|^self$/.test(e.resize))&&(t.resize=e.resize),(e.gesture instanceof Object||/^parent$|^self$/.test(e.gesture))&&(t.gesture=e.gesture),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly),e.elementRect instanceof Object&&(t.elementRect=e.elementRect),this.options.restrictEnabled=!0,this.options.restrict=t}else null===e&&(delete this.options.restrict,delete this.options.restrictEnabled);return this},context:function(){return this._context},_context:bt,ignoreFrom:function(e){return"string"==typeof e?(bt.querySelector(e),this.options.ignoreFrom=e,this):n(e)?(this.options.ignoreFrom=e,this):null===e?(delete this.options.ignoreFrom,this):this.options.ignoreFrom},allowFrom:function(e){return"string"==typeof e?(bt.querySelector(e),this.options.allowFrom=e,this):n(e)?(this.options.allowFrom=e,this):null===e?(delete this.options.allowFrom,this):this.options.allowFrom},validateSetting:function(e,t,i){var r=on[e],o=this.options[e];if(void 0!==r&&void 0!==r[t]){if("objectTypes"in r&&r.objectTypes.test(t))return i instanceof Object?i:t in o&&o[t]instanceof Object?o[t]:r[t];if("arrayTypes"in r&&r.arrayTypes.test(t))return i instanceof Array?i:t in o&&o[t]instanceof Array?o[t]:r[t];if("stringTypes"in r&&r.stringTypes.test(t))return"string"==typeof i?i:t in o&&"string"==typeof o[t]?o[t]:r[t];if("numberTypes"in r&&r.numberTypes.test(t))return"number"==typeof i?i:t in o&&"number"==typeof o[t]?o[t]:r[t];if("boolTypes"in r&&r.boolTypes.test(t))return"boolean"==typeof i?i:t in o&&"boolean"==typeof o[t]?o[t]:r[t];if("elementTypes"in r&&r.elementTypes.test(t))return n(i)?i:t in o&&n(o[t])?o[t]:r[t]}return null},element:function(){return this._element},fire:function(e){if(!e||!e.type||!ft(En,e.type))return this;for(var t,n,i=0,r=0,o="on"+e.type;3>i;)try{switch(i){case _n.directBind:if(e.type in this._iEvents){for(t=this._iEvents[e.type],n=t.length;n>r&&!e.immediatePropagationStopped;r++)t[r](e);break}break;case _n.onevent:"function"==typeof this[o]&&this[o](e);break;case _n.globalBind:if(e.type in zn&&(t=zn[e.type]))for(n=t.length;n>r&&!e.immediatePropagationStopped;r++)t[r](e)}if(e.propagationStopped)break;r=0,i++}catch(s){St.error("Error thrown from "+e.type+" listener"),St.error(s),r++,i===_n.onevent&&i++}return this},on:function(e,t,n){if("wheel"===e&&(e=Sn),n=n?!0:!1,ft(En,e))e in this._iEvents?ft(this._iEvents[e],t)||this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){Qt[e]||(Qt[e]={selectors:[],contexts:[],listeners:[]},Cn.addToElement(this._context,e,lt),Cn.addToElement(this._context,e,ct,!0));var i,r=Qt[e];for(i=r.selectors.length-1;i>=0&&(r.selectors[i]!==this.selector||r.contexts[i]!==this._context);i--);-1===i&&(i=r.selectors.length,r.selectors.push(this.selector),r.contexts.push(this._context),r.listeners.push([])),r.listeners[i].push([t,n])}else Cn.add(this,e,t,n);return this},off:function(e,t,n){var i,r=-1;if(n=n?!0:!1,"wheel"===e&&(e=Sn),ft(En,e))i=this._iEvents[e],i&&-1!==(r=gt(i,t))&&this._iEvents[e].splice(r,1);else if(this.selector){var o=Qt[e],s=!1;if(!o)return this;for(r=o.selectors.length-1;r>=0;r--)if(o.selectors[r]===this.selector&&o.contexts[r]===this._context){for(var a=o.listeners[r],l=a.length-1;l>=0;l--){var c=a[l][0],p=a[l][1];if(c===t&&p===n){a.splice(l,1),a.length||(o.selectors.splice(r,1),o.contexts.splice(r,1),o.listeners.splice(r,1),Cn.removeFromElement(this._context,e,lt),Cn.removeFromElement(this._context,e,ct,!0),o.selectors.length||(Qt[e]=null)),s=!0;break}}if(s)break}}else Cn.remove(this,t,n);return this},set:function(e){e&&"object"==typeof e||(e={}),this.options=new ut(e),this.draggable("draggable"in e?e.draggable:this.options.draggable),this.dropzone("dropzone"in e?e.dropzone:this.options.dropzone),this.resizable("resizable"in e?e.resizable:this.options.resizable),this.gesturable("gesturable"in e?e.gesturable:this.options.gesturable);for(var t=["accept","actionChecker","allowFrom","autoScroll","deltaSource","dropChecker","ignoreFrom","inertia","origin","preventDefault","rectChecker","restrict","snap","styleCursor"],n=0,i=t.length;i>n;n++){var r=t[n];r in e&&this[r](e[r])}return this},unset:function(){if(Cn.remove(this,"all"),"string"!=typeof this.selector)Cn.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor=""),this._gesture&&(this._gesture.target=null);else for(var e in Qt)for(var t=Qt[e],n=0;n<t.selectors.length;n++){t.selectors[n]===this.selector&&t.contexts[n]===this._context&&(t.selectors.splice(n,1),t.contexts.splice(n,1),t.listeners.splice(n,1),t.selectors.length||(Qt[e]=null)),Cn.removeFromElement(this._context,e,lt),Cn.removeFromElement(this._context,e,ct,!0);break}return this.dropzone(!1),Lt.splice(gt(Lt,this),1),dt}},ht.prototype.gestureable=ht.prototype.gesturable,ht.prototype.resizeable=ht.prototype.resizable,dt.isSet=function(e,t){return-1!==Lt.indexOfElement(e,t&&t.context)},dt.on=function(e,t,n){return ft(En,e)?zn[e]?ft(zn[e],t)||zn[e].push(t):zn[e]=[t]:Cn.add(Tn,e,t,n),dt},dt.off=function(e,t,n){if(ft(En,e)){var i;e in zn&&-1!==(i=gt(zn[e],t))&&zn[e].splice(i,1)}else Cn.remove(Tn,e,t,n);return dt},dt.simulate=function(e,n,i){var r,o,s={};if("resize"===e&&(e="resizexy"),!(e in yn))return dt;if(i)for(r in i)s[r]=i[r];else o=Zt._element instanceof Et?n.getBoundingClientRect():o=n.getClientRects()[0],"drag"===e?(s.pageX=o.left+o.width/2,s.pageY=o.top+o.height/2):(s.pageX=o.right,s.pageY=o.bottom);return s.target=s.currentTarget=n,s.preventDefault=s.stopPropagation=t,G(s,e),dt},dt.enableDragging=function(e){return null!==e&&void 0!==e?(xn.drag=e,dt):xn.drag},dt.enableResizing=function(e){return null!==e&&void 0!==e?(xn.resize=e,dt):xn.resize},dt.enableGesturing=function(e){return null!==e&&void 0!==e?(xn.gesture=e,dt):xn.gesture},dt.eventTypes=En,dt.debug=function(){return{target:Zt,dragging:gn,resizing:mn,gesturing:hn,prepared:bn,matches:Ht,prevCoords:Tt,downCoords:At,pointerIds:kt,pointerMoves:Rt,addPointer:L,removePointer:K,recordPointers:W,recordTouches:H,snap:sn,restrict:an,inertia:Bt,downTime:$t,downEvent:Pt,prevEvent:jt,Interactable:ht,IOptions:ut,interactables:Lt,dropzones:Kt,pointerIsDown:dn,defaultOptions:on,defaultActionChecker:F,actions:yn,dragMove:Q,resizeMove:et,gestureMove:nt,pointerUp:at,pointerDown:G,pointerMove:U,pointerHover:st,events:Cn,globalEvents:zn,delegatedEvents:Qt}},dt.getTouchAverage=d,dt.getTouchBBox=u,dt.getTouchDistance=h,dt.getTouchAngle=g,dt.getElementRect=c,dt.margin=function(e){return"number"==typeof e?(pn=e,dt):pn},dt.styleCursor=function(e){return"boolean"==typeof e?(on.styleCursor=e,dt):on.styleCursor},dt.autoScroll=function(t){var i=on.autoScroll;return t instanceof Object?(on.autoScrollEnabled=!0,"number"==typeof t.margin&&(i.margin=t.margin),"number"==typeof t.speed&&(i.speed=t.speed),i.container=n(t.container)||t.container instanceof e.Window?t.container:i.container,dt):"boolean"==typeof t?(on.autoScrollEnabled=t,dt):on.autoScrollEnabled?i:!1},dt.snap=function(e){var t=on.snap;return e instanceof Object?(on.snapEnabled=!0,"string"==typeof e.mode&&(t.mode=e.mode),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly),"number"==typeof e.range&&(t.range=e.range),e.actions instanceof Array&&(t.actions=e.actions),e.anchors instanceof Array&&(t.anchors=e.anchors),e.grid instanceof Object&&(t.grid=e.grid),e.gridOffset instanceof Object&&(t.gridOffset=e.gridOffset),e.elementOrigin instanceof Object&&(t.elementOrigin=e.elementOrigin),dt):"boolean"==typeof e?(on.snapEnabled=e,dt):{enabled:on.snapEnabled,mode:t.mode,actions:t.actions,grid:t.grid,gridOffset:t.gridOffset,anchors:t.anchors,paths:t.paths,range:t.range,locked:sn.locked,x:sn.snappedX,y:sn.snappedY,realX:sn.realX,realY:sn.realY,dx:sn.dx,dy:sn.dy}},dt.inertia=function(e){var t=on.inertia;return e instanceof Object?(on.inertiaEnabled=!0,"number"==typeof e.resistance&&(t.resistance=e.resistance),"number"==typeof e.minSpeed&&(t.minSpeed=e.minSpeed),"number"==typeof e.endSpeed&&(t.endSpeed=e.endSpeed),"number"==typeof e.smoothEndDuration&&(t.smoothEndDuration=e.smoothEndDuration),"boolean"==typeof e.zeroResumeDelta&&(t.zeroResumeDelta=e.zeroResumeDelta),e.actions instanceof Array&&(t.actions=e.actions),dt):"boolean"==typeof e?(on.inertiaEnabled=e,dt):{enabled:on.inertiaEnabled,resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions,zeroResumeDelta:t.zeroResumeDelta}},dt.supportsTouch=function(){return cn},dt.currentAction=function(){return gn&&"drag"||mn&&"resize"||hn&&"gesture"||null},dt.stop=function(e){if(gn||mn||hn){if(ln.stop(),Ht=[],Zt.options.styleCursor&&(bt.documentElement.style.cursor=""),Zt._gesture&&Zt._gesture.stop(),e&&"function"==typeof e.preventDefault&&X(e,Zt),gn){Wt.dropzones=Wt.elements=Wt.rects=null;for(var t=0;t<Kt.length;t++)Kt[t].selector&&(Kt[t]._dropElements=null)}pt()}return kt.splice(0),Rt.splice(0),dn=sn.locked=gn=mn=hn=!1,bn=jt=null,Bt.resumeDx=Bt.resumeDy=0,dt},dt.dynamicDrop=function(e){return"boolean"==typeof e?(fn=e,dt):fn},dt.deltaSource=function(e){return"page"===e||"client"===e?(on.deltaSource=e,this):on.deltaSource},dt.restrict=function(e){var t=on.restrict;return void 0===e?on.restrict:("boolean"==typeof e?on.restrictEnabled=e:e instanceof Object?((e.drag instanceof Object||/^parent$|^self$/.test(e.drag))&&(t.drag=e.drag),(e.resize instanceof Object||/^parent$|^self$/.test(e.resize))&&(t.resize=e.resize),(e.gesture instanceof Object||/^parent$|^self$/.test(e.gesture))&&(t.gesture=e.gesture),"boolean"==typeof e.endOnly&&(t.endOnly=e.endOnly),e.elementRect instanceof Object&&(t.elementRect=e.elementRect),on.restrictEnabled=!0):null===e&&(t.drag=t.resize=t.gesture=null,t.endOnly=!1),this)},dt.pointerMoveTolerance=function(e){return"number"==typeof e?(on.pointerMoveTolerance=e,this):on.pointerMoveTolerance},Yt?(vt=Yt===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"MSPointerOver",out:"MSPointerOut",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},yt=wt===e.MSGestureEvent?{start:"MSGestureStart",change:"MSGestureChange",inertia:"MSInertiaStart",end:"MSGestureEnd"}:{start:"gesturestart",change:"gesturechange",inertia:"inertiastart",end:"gestureend"},Cn.add(Tn,vt.up,N),Cn.add(Tn,vt.down,I),Cn.add(Tn,yt.change,U),Cn.add(Tn,yt.end,at),Cn.add(Tn,yt.inertia,at),Cn.add(Tn,vt.over,rt),Cn.add(Tn,vt.out,ot),Cn.add(Tn,vt.move,W),Cn.add(Tn,vt.up,W),Cn.add(Tn,vt.cancel,W),Cn.add(Tn,vt.up,function(){gn||mn||hn||(dn=!1)}),Jt=new Xt,Jt.target=bt.documentElement):(Cn.add(Tn,"mouseup",N),Cn.add(Tn,"touchend",N),Cn.add(Tn,"mousedown",I),Cn.add(Tn,"mousemove",U),Cn.add(Tn,"mouseup",at),Cn.add(Tn,"mouseover",rt),Cn.add(Tn,"mouseout",ot),Cn.add(Tn,"touchmove",H),Cn.add(Tn,"touchend",H),Cn.add(Tn,"touchcancel",H),Cn.add(Tn,"touchstart",I),Cn.add(Tn,"touchmove",U),Cn.add(Tn,"touchend",at),Cn.add(Tn,"touchcancel",at)),Cn.add(Dn,"blur",at);try{e.frameElement&&(An._element=e.frameElement.ownerDocument,Cn.add(An,"mouseup",at),Cn.add(An,"touchend",at),Cn.add(An,"touchcancel",at),Cn.add(An,"pointerup",at),Cn.add(An,"MSPointerUp",at),Cn.add(Mn,"blur",at))}catch(kn){dt.windowParentError=kn}Cn.add(Tn,"selectstart",function(e){(gn||mn||hn)&&X(e,Zt)}),Xn in Element.prototype&&"function"==typeof Element.prototype[Xn]||(xt=function(e,t,n){n=n||e.parentNode.querySelectorAll(t);for(var i=0,r=n.length;r>i;i++)if(n[i]===e)return!0;return!1}),function(){for(var t=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!e.requestAnimationFrame;++i)Yn=e[n[i]+"RequestAnimationFrame"],wn=e[n[i]+"CancelAnimationFrame"]||e[n[i]+"CancelRequestAnimationFrame"];Yn||(Yn=function(n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=e.setTimeout(function(){n(i+r)},r);return t=i+r,o}),wn||(wn=function(e){clearTimeout(e)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=dt),exports.interact=dt):"function"==typeof define&&define.amd?define("interact",function(){return dt}):e.interact=dt}(this);
