// rome@v0.8.0, MIT licensed. https://github.com/bevacqua/rome
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.rome=e()}}(function(){return function e(t,n,o){function a(i,s){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(r)return r(i,!0);throw new Error("Cannot find module '"+i+"'")}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return a(n?n:e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(e,t){function n(){}var o=t.exports={};o.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var o=n.shift();o()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=n,o.addListener=n,o.once=n,o.off=n,o.removeListener=n,o.removeAllListeners=n,o.emit=n,o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,t){t.exports=e("./src/contra.emitter.js")},{"./src/contra.emitter.js":3}],3:[function(e,t){(function(e){!function(n,o){"use strict";function a(e,t){return Array.prototype.slice.call(e,t)}function r(e,t,n){e&&s(function(){e.apply(n||null,t||[])})}function i(e,t){var n=t||{},i={};return e===o&&(e={}),e.on=function(t,n){return i[t]?i[t].push(n):i[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var o=arguments.length;if(1===o)delete i[t];else if(0===o)i={};else{var a=i[t];if(!a)return e;a.splice(a.indexOf(n),1)}return e},e.emit=function(){var t=a(arguments),o=t.shift(),s=i[o];if("error"===o&&n.throws!==!1&&!s)throw 1===t.length?t[0]:t;return s?(i[o]=s.filter(function(o){return n.async?r(o,t,e):o.apply(e,t),!o._once}),e):e},e}var s,c=""+o,l="function"==typeof setImmediate;s=l?function(e){setImmediate(e)}:typeof e!==c&&e.nextTick?e.nextTick:function(e){setTimeout(e,0)},typeof t!==c&&t.exports?t.exports=i:(n.contra=n.contra||{},n.contra.emitter=i)}(this)}).call(this,e("FWaASH"))},{FWaASH:1}],4:[function(e,t){function n(e,t,n){return o(e,!0,"function"==typeof t&&a(t,n,1))}var o=e("lodash._baseclone"),a=e("lodash._basecreatecallback");t.exports=n},{"lodash._baseclone":5,"lodash._basecreatecallback":27}],5:[function(e,t){function n(e,t,f,p,h){if(f){var b=f(e);if("undefined"!=typeof b)return b}var _=c(e);if(!_)return e;var F=j.call(e);if(!w[F])return e;var T=D[F];switch(F){case m:case y:return new T(+e);case v:case g:return new T(e);case x:return b=T(e.source,d.exec(e)),b.lastIndex=e.lastIndex,b}var E=s(e);if(t){var N=!p;p||(p=i()),h||(h=i());for(var M=p.length;M--;)if(p[M]==e)return h[M];b=E?T(e.length):{}}else b=E?u(e):o({},e);return E&&(k.call(e,"index")&&(b.index=e.index),k.call(e,"input")&&(b.input=e.input)),t?(p.push(e),h.push(b),(E?a:r)(e,function(e,o){b[o]=n(e,t,f,p,h)}),N&&(l(p),l(h)),b):b}var o=e("lodash.assign"),a=e("lodash.foreach"),r=e("lodash.forown"),i=e("lodash._getarray"),s=e("lodash.isarray"),c=e("lodash.isobject"),l=e("lodash._releasearray"),u=e("lodash._slice"),d=/\w*$/,f="[object Arguments]",p="[object Array]",m="[object Boolean]",y="[object Date]",h="[object Function]",v="[object Number]",b="[object Object]",x="[object RegExp]",g="[object String]",w={};w[h]=!1,w[f]=w[p]=w[m]=w[y]=w[v]=w[b]=w[x]=w[g]=!0;var _=Object.prototype,j=_.toString,k=_.hasOwnProperty,D={};D[p]=Array,D[m]=Boolean,D[y]=Date,D[h]=Function,D[b]=Object,D[v]=Number,D[x]=RegExp,D[g]=String,t.exports=n},{"lodash._getarray":6,"lodash._releasearray":8,"lodash._slice":11,"lodash.assign":12,"lodash.foreach":17,"lodash.forown":18,"lodash.isarray":23,"lodash.isobject":25}],6:[function(e,t){function n(){return o.pop()||[]}var o=e("lodash._arraypool");t.exports=n},{"lodash._arraypool":7}],7:[function(e,t){var n=[];t.exports=n},{}],8:[function(e,t){function n(e){e.length=0,o.length<a&&o.push(e)}var o=e("lodash._arraypool"),a=e("lodash._maxpoolsize");t.exports=n},{"lodash._arraypool":9,"lodash._maxpoolsize":10}],9:[function(e,t){t.exports=e(7)},{}],10:[function(e,t){var n=40;t.exports=n},{}],11:[function(e,t){function n(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var o=-1,a=n-t||0,r=Array(0>a?0:a);++o<a;)r[o]=e[t+o];return r}t.exports=n},{}],12:[function(e,t){var n=e("lodash._basecreatecallback"),o=e("lodash.keys"),a=e("lodash._objecttypes"),r=function(e,t,r){var i,s=e,c=s;if(!s)return c;var l=arguments,u=0,d="number"==typeof r?2:l.length;if(d>3&&"function"==typeof l[d-2])var f=n(l[--d-1],l[d--],2);else d>2&&"function"==typeof l[d-1]&&(f=l[--d]);for(;++u<d;)if(s=l[u],s&&a[typeof s])for(var p=-1,m=a[typeof s]&&o(s),y=m?m.length:0;++p<y;)i=m[p],c[i]=f?f(c[i],s[i]):s[i];return c};t.exports=r},{"lodash._basecreatecallback":27,"lodash._objecttypes":13,"lodash.keys":14}],13:[function(e,t){var n={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};t.exports=n},{}],14:[function(e,t){var n=e("lodash._isnative"),o=e("lodash.isobject"),a=e("lodash._shimkeys"),r=n(r=Object.keys)&&r,i=r?function(e){return o(e)?r(e):[]}:a;t.exports=i},{"lodash._isnative":15,"lodash._shimkeys":16,"lodash.isobject":25}],15:[function(e,t){function n(e){return"function"==typeof e&&r.test(e)}var o=Object.prototype,a=o.toString,r=RegExp("^"+String(a).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");t.exports=n},{}],16:[function(e,t){var n=e("lodash._objecttypes"),o=Object.prototype,a=o.hasOwnProperty,r=function(e){var t,o=e,r=[];if(!o)return r;if(!n[typeof e])return r;for(t in o)a.call(o,t)&&r.push(t);return r};t.exports=r},{"lodash._objecttypes":13}],17:[function(e,t){function n(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:o(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else a(e,t);return e}var o=e("lodash._basecreatecallback"),a=e("lodash.forown");t.exports=n},{"lodash._basecreatecallback":27,"lodash.forown":18}],18:[function(e,t){var n=e("lodash._basecreatecallback"),o=e("lodash.keys"),a=e("lodash._objecttypes"),r=function(e,t,r){var i,s=e,c=s;if(!s)return c;if(!a[typeof s])return c;t=t&&"undefined"==typeof r?t:n(t,r,3);for(var l=-1,u=a[typeof s]&&o(s),d=u?u.length:0;++l<d;)if(i=u[l],t(s[i],i,e)===!1)return c;return c};t.exports=r},{"lodash._basecreatecallback":27,"lodash._objecttypes":19,"lodash.keys":20}],19:[function(e,t){t.exports=e(13)},{}],20:[function(e,t){t.exports=e(14)},{"lodash._isnative":21,"lodash._shimkeys":22,"lodash.isobject":25}],21:[function(e,t){t.exports=e(15)},{}],22:[function(e,t){t.exports=e(16)},{"lodash._objecttypes":19}],23:[function(e,t){var n=e("lodash._isnative"),o="[object Array]",a=Object.prototype,r=a.toString,i=n(i=Array.isArray)&&i,s=i||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&r.call(e)==o||!1};t.exports=s},{"lodash._isnative":24}],24:[function(e,t){t.exports=e(15)},{}],25:[function(e,t){function n(e){return!(!e||!o[typeof e])}var o=e("lodash._objecttypes");t.exports=n},{"lodash._objecttypes":26}],26:[function(e,t){t.exports=e(13)},{}],27:[function(e,t){function n(e,t,n){if("function"!=typeof e)return a;if("undefined"==typeof t||!("prototype"in e))return e;var u=e.__bindData__;if("undefined"==typeof u&&(i.funcNames&&(u=!e.name),u=u||!i.funcDecomp,!u)){var d=l.call(e);i.funcNames||(u=!s.test(d)),u||(u=c.test(d),r(e,u))}if(u===!1||u!==!0&&1&u[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,a){return e.call(t,n,o,a)};case 4:return function(n,o,a,r){return e.call(t,n,o,a,r)}}return o(e,t)}var o=e("lodash.bind"),a=e("lodash.identity"),r=e("lodash._setbinddata"),i=e("lodash.support"),s=/^\s*function[ \n\r\t]+\w/,c=/\bthis\b/,l=Function.prototype.toString;t.exports=n},{"lodash._setbinddata":28,"lodash.bind":31,"lodash.identity":47,"lodash.support":48}],28:[function(e,t){var n=e("lodash._isnative"),o=e("lodash.noop"),a={configurable:!1,enumerable:!1,value:null,writable:!1},r=function(){try{var e={},t=n(t=Object.defineProperty)&&t,o=t(e,e,e)&&t}catch(a){}return o}(),i=r?function(e,t){a.value=t,r(e,"__bindData__",a)}:o;t.exports=i},{"lodash._isnative":29,"lodash.noop":30}],29:[function(e,t){t.exports=e(15)},{}],30:[function(e,t){function n(){}t.exports=n},{}],31:[function(e,t){function n(e,t){return arguments.length>2?o(e,17,a(arguments,2),null,t):o(e,1,null,null,t)}var o=e("lodash._createwrapper"),a=e("lodash._slice");t.exports=n},{"lodash._createwrapper":32,"lodash._slice":46}],32:[function(e,t){function n(e,t,s,u,d,f){var p=1&t,m=2&t,y=4&t,h=16&t,v=32&t;if(!m&&!r(e))throw new TypeError;h&&!s.length&&(t&=-17,h=s=!1),v&&!u.length&&(t&=-33,v=u=!1);var b=e&&e.__bindData__;if(b&&b!==!0)return b=i(b),b[2]&&(b[2]=i(b[2])),b[3]&&(b[3]=i(b[3])),!p||1&b[1]||(b[4]=d),!p&&1&b[1]&&(t|=8),!y||4&b[1]||(b[5]=f),h&&c.apply(b[2]||(b[2]=[]),s),v&&l.apply(b[3]||(b[3]=[]),u),b[1]|=t,n.apply(null,b);var x=1==t||17===t?o:a;return x([e,t,s,u,d,f])}var o=e("lodash._basebind"),a=e("lodash._basecreatewrapper"),r=e("lodash.isfunction"),i=e("lodash._slice"),s=[],c=s.push,l=s.unshift;t.exports=n},{"lodash._basebind":33,"lodash._basecreatewrapper":39,"lodash._slice":46,"lodash.isfunction":45}],33:[function(e,t){function n(e){function t(){if(s){var e=i(s);c.apply(e,arguments)}if(this instanceof t){var r=o(n.prototype),u=n.apply(r,e||arguments);return a(u)?u:r}return n.apply(l,e||arguments)}var n=e[0],s=e[2],l=e[4];return r(t,e),t}var o=e("lodash._basecreate"),a=e("lodash.isobject"),r=e("lodash._setbinddata"),i=e("lodash._slice"),s=[],c=s.push;t.exports=n},{"lodash._basecreate":34,"lodash._setbinddata":28,"lodash._slice":46,"lodash.isobject":37}],34:[function(e,t){(function(n){function o(e){return r(e)?i(e):{}}var a=e("lodash._isnative"),r=e("lodash.isobject"),i=(e("lodash.noop"),a(i=Object.create)&&i);i||(o=function(){function e(){}return function(t){if(r(t)){e.prototype=t;var o=new e;e.prototype=null}return o||n.Object()}}()),t.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._isnative":35,"lodash.isobject":37,"lodash.noop":36}],35:[function(e,t){t.exports=e(15)},{}],36:[function(e,t){t.exports=e(30)},{}],37:[function(e,t){t.exports=e(25)},{"lodash._objecttypes":38}],38:[function(e,t){t.exports=e(13)},{}],39:[function(e,t){function n(e){function t(){var e=m?f:this;if(u){var r=i(u);c.apply(r,arguments)}if((d||h)&&(r||(r=i(arguments)),d&&c.apply(r,d),h&&r.length<p))return l|=16,n([s,v?l:-4&l,r,null,f,p]);if(r||(r=arguments),y&&(s=e[b]),this instanceof t){e=o(s.prototype);var x=s.apply(e,r);return a(x)?x:e}return s.apply(e,r)}var s=e[0],l=e[1],u=e[2],d=e[3],f=e[4],p=e[5],m=1&l,y=2&l,h=4&l,v=8&l,b=s;return r(t,e),t}var o=e("lodash._basecreate"),a=e("lodash.isobject"),r=e("lodash._setbinddata"),i=e("lodash._slice"),s=[],c=s.push;t.exports=n},{"lodash._basecreate":40,"lodash._setbinddata":28,"lodash._slice":46,"lodash.isobject":43}],40:[function(e,t){t.exports=e(34)},{"lodash._isnative":41,"lodash.isobject":43,"lodash.noop":42}],41:[function(e,t){t.exports=e(15)},{}],42:[function(e,t){t.exports=e(30)},{}],43:[function(e,t){t.exports=e(25)},{"lodash._objecttypes":44}],44:[function(e,t){t.exports=e(13)},{}],45:[function(e,t){function n(e){return"function"==typeof e}t.exports=n},{}],46:[function(e,t){t.exports=e(11)},{}],47:[function(e,t){function n(e){return e}t.exports=n},{}],48:[function(e,t){(function(n){var o=e("lodash._isnative"),a=/\bthis\b/,r={};r.funcDecomp=!o(n.WinRTError)&&a.test(function(){return this}),r.funcNames="string"==typeof Function.name,t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._isnative":49}],49:[function(e,t){t.exports=e(15)},{}],50:[function(e,t){function n(e,t,n){var s=!0,c=!0;if(!a(e))throw new TypeError;return n===!1?s=!1:r(n)&&(s="leading"in n?n.leading:s,c="trailing"in n?n.trailing:c),i.leading=s,i.maxWait=t,i.trailing=c,o(e,t,i)}var o=e("lodash.debounce"),a=e("lodash.isfunction"),r=e("lodash.isobject"),i={leading:!1,maxWait:0,trailing:!1};t.exports=n},{"lodash.debounce":51,"lodash.isfunction":54,"lodash.isobject":55}],51:[function(e,t){function n(e,t,n){var s,c,l,u,d,f,p,m=0,y=!1,h=!0;if(!o(e))throw new TypeError;if(t=i(0,t)||0,n===!0){var v=!0;h=!1}else a(n)&&(v=n.leading,y="maxWait"in n&&(i(t,n.maxWait)||0),h="trailing"in n?n.trailing:h);var b=function(){var n=t-(r()-u);if(0>=n){c&&clearTimeout(c);var o=p;c=f=p=void 0,o&&(m=r(),l=e.apply(d,s),f||c||(s=d=null))}else f=setTimeout(b,n)},x=function(){f&&clearTimeout(f),c=f=p=void 0,(h||y!==t)&&(m=r(),l=e.apply(d,s),f||c||(s=d=null))};return function(){if(s=arguments,u=r(),d=this,p=h&&(f||!v),y===!1)var n=v&&!f;else{c||v||(m=u);var o=y-(u-m),a=0>=o;a?(c&&(c=clearTimeout(c)),m=u,l=e.apply(d,s)):c||(c=setTimeout(x,o))}return a&&f?f=clearTimeout(f):f||t===y||(f=setTimeout(b,t)),n&&(a=!0,l=e.apply(d,s)),!a||f||c||(s=d=null),l}}var o=e("lodash.isfunction"),a=e("lodash.isobject"),r=e("lodash.now"),i=Math.max;t.exports=n},{"lodash.isfunction":54,"lodash.isobject":55,"lodash.now":52}],52:[function(e,t){var n=e("lodash._isnative"),o=n(o=Date.now)&&o||function(){return(new Date).getTime()};t.exports=o},{"lodash._isnative":53}],53:[function(e,t){t.exports=e(15)},{}],54:[function(e,t){t.exports=e(45)},{}],55:[function(e,t){t.exports=e(25)},{"lodash._objecttypes":56}],56:[function(e,t){t.exports=e(13)},{}],57:[function(e,t){for(var n=e("performance-now"),o="undefined"==typeof window?{}:window,a=["moz","webkit"],r="AnimationFrame",i=o["request"+r],s=o["cancel"+r]||o["cancelRequest"+r],c=0;c<a.length&&!i;c++)i=o[a[c]+"Request"+r],s=o[a[c]+"Cancel"+r]||o[a[c]+"CancelRequest"+r];if(!i||!s){var l=0,u=0,d=[],f=1e3/60;i=function(e){if(0===d.length){var t=n(),o=Math.max(0,f-(t-l));l=o+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)e[t].cancelled||e[t].callback(l)},o)}return d.push({handle:++u,callback:e,cancelled:!1}),u},s=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}t.exports=function(){return i.apply(o,arguments)},t.exports.cancel=function(){s.apply(o,arguments)}},{"performance-now":58}],58:[function(e,t){(function(e){(function(){var n,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},o=e.hrtime,n=function(){var e;return e=o(),1e9*e[0]+e[1]},a=n()):Date.now?(t.exports=function(){return Date.now()-a},a=Date.now()):(t.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(this,e("FWaASH"))},{FWaASH:1}],59:[function(e,t){"use strict";function n(e){function t(t){return U=u(d.moment,t||e),et||(et=i({className:U.styles.container})),at=o,ot=o,rt=o,U.appendTo.appendChild(et),X=U.initialValue?U.initialValue:d.moment(),Z=X.clone(),I(et),y(),h(),V(),S(),b(),j(),w(),f(),delete ut.restore,ut.show=k,ut.hide=D,ut.container=et,ut.getDate=J,ut.getDateString=K,ut.getMoment=Q,ut.destroy=n,ut.options=p,ut.options.reset=m,ut.setValue=B,ut.emitValues=C,ut.emit("ready",l(U,d.moment)),ut}function n(){return et.parentNode.removeChild(et),f(!0),delete ut.emitValues,delete ut.setValue,delete ut.options,delete ut.destroy,delete ut.getMoment,delete ut.getDateString,delete ut.getDate,delete ut.container,delete ut.hide,delete ut.show,ut.restore=t,ut.emit("destroyed"),ut.off(),ut}function f(e){var t=e?"remove":"add",n=t+"EventListener";U.autoHideOnBlur&&window[n]("focusin",E),U.autoHideOnClick&&window[n]("click",N)}function p(e){return 0===arguments.length?l(U,d.moment):(n(),t(e),ut)}function m(){return p({})}function y(){if(U.date){var e=i({className:U.styles.date,parent:et});it=i({type:"button",className:U.styles.back,parent:e}),st=i({type:"button",className:U.styles.next,parent:e}),tt=i({className:U.styles.month,parent:e});var t=i({type:"table",className:U.styles.dayTable,parent:e}),n=i({type:"thead",className:U.styles.dayHead,parent:t}),o=i({type:"tr",className:U.styles.dayRow,parent:n});nt=i({type:"tbody",className:U.styles.dayBody,parent:t});var a;for(a=0;ft>a;a++)i({type:"th",className:U.styles.dayHeadElem,parent:o,text:dt[v(a)]});it.addEventListener("click",M),st.addEventListener("click",L),nt.addEventListener("click",z)}}function h(){if(U.time&&U.timeInterval){var e=i({className:U.styles.time,parent:et});ct=i({className:U.styles.selectedTime,parent:e,text:X.format(U.timeFormat)}),ct.addEventListener("click",x),lt=i({className:U.styles.timeList,parent:e}),lt.addEventListener("click",G);for(var t=d.moment("00:00:00","HH:mm:ss"),n=t.clone().add("days",1);t.isBefore(n);)i({className:U.styles.timeOption,parent:lt,text:t.format(U.timeFormat)}),t.add("seconds",U.timeInterval)}}function v(e,t){var n=t?-1:1,o=e+U.weekStart*n;return(o>=ft||0>o)&&(o+=ft*-n),o}function b(){if(U.time){var e,t,n,o,a=lt.children,r=a.length;for(o=0;r>o;o++)n=a[o],t=d.moment(s(n),U.timeFormat),e=$(X.clone(),t),n.style.display=q(e,!1,U.timeValidator)?"block":"none"}}function x(e){var t="boolean"==typeof e?e:"none"===lt.style.display;t?g():w()}function g(){lt&&(lt.style.display="block")}function w(){lt&&(lt.style.display="none")}function _(){et.style.display="inline-block"}function j(){et.style.display="none"}function k(){return x(!U.date),_(),ut}function D(){return w(),r(j),ut}function F(){w();var e=et.classList.contains(U.styles.positioned);return e&&r(j),ut}function T(e){var t=e.target;if(t===ut.associated)return!0;for(;t;){if(t===et)return!0;t=t.parentNode}}function E(e){T(e)||F()}function N(e){T(e)||F()}function M(){O("subtract")}function L(){O("add")}function O(e){var t;Z[e]("months",1),t=Y(Z.clone()),X=t||X,t&&(Z=t.clone()),H()}function H(){V(),S(),C(),b()}function V(){if(U.date){var e=Z.year(),t=Z.month(),n=Z.date();(n!==rt||t!==at||e!==ot)&&(s(tt,Z.format(U.monthFormat)),rt=Z.date(),at=Z.month(),ot=Z.year(),I(nt),A())}}function S(){U.time&&s(ct,X.format(U.timeFormat))}function C(){return ut.emit("data",K()),ut.emit("year",X.year()),ut.emit("month",X.month()),ut.emit("day",X.day()),ut.emit("time",X.format(U.timeFormat)),ut}function B(e){var t=c(d.moment,e,U.inputFormat);if(null!==t)return X=Y(t)||X,Z=X.clone(),V(),S(),b(),ut}function I(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function A(){function e(e,t){return q(e,!0,U.dateValidator)?t:t+p}var t,n,o,a,r=Z.daysInMonth(),s=Z.month()!==X.month()?-1:X.date(),c=Z.clone().date(1),l=v(c.day(),!0),u=P(),d=U.styles.dayBodyElem+" "+U.styles.dayPrevMonth,f=U.styles.dayBodyElem+" "+U.styles.dayNextMonth,p=" "+U.styles.dayDisabled;for(n=0;l>n;n++)o=c.clone().subtract("days",l-n),a=i({type:"td",className:e(o,d),parent:u,text:o.format(U.dayFormat)});for(n=0;r>n;n++)u.children.length===ft&&(u=P()),o=c.clone().add("days",n),a=i({type:"td",className:e(o,U.styles.dayBodyElem),parent:u,text:o.format(U.dayFormat)}),o.date()===s&&a.classList.add(U.styles.selectedDay);for(t=o.clone(),n=1;u.children.length<ft;n++)o=t.clone().add("days",n),a=i({type:"td",className:e(o,f),parent:u,text:o.format(U.dayFormat)});it.disabled=!q(c,!0),st.disabled=!q(t,!0)}function q(e,t,n){var o=U.min?t?U.min.clone().startOf("day"):U.min:!1,a=U.max?t?U.max.clone().endOf("day"):U.max:!1;if(o&&e.isBefore(o))return!1;if(a&&e.isAfter(a))return!1;var r=(n||Function.prototype)(e.toDate());return r!==!1}function Y(e){if(U.min&&e.isBefore(U.min))return Y(U.min.clone());if(U.max&&e.isAfter(U.max))return Y(U.max.clone());var t=(e.daysInMonth(),e.clone().subtract("days",1));return W(t,e,"add")?R(t):(t=e.clone(),W(t,e,"subtract")?R(t):void 0)}function R(e){var t,n=e.clone().subtract("seconds",U.timeInterval),o=Math.ceil(pt/U.timeInterval);for(t=0;o>t;t++)if(n.add("seconds",U.timeInterval),n.date()>e.date()&&n.subtract("days",1),U.timeValidator(n.toDate())!==!1)return n}function W(e,t,n){for(var o=!1;o===!1&&(e[n]("days",1),e.month()===t.month());)o=U.dateValidator(e.toDate());return o!==!1}function P(){return i({type:"tr",className:U.styles.dayRow,parent:nt})}function z(e){var t=e.target;if(!t.classList.contains(U.styles.dayDisabled)&&t.classList.contains(U.styles.dayBodyElem)){var n=parseInt(s(t),10),o="."+U.styles.selectedDay,a=et.querySelector(o);a&&a.classList.remove(U.styles.selectedDay);var r,i=t.classList.contains(U.styles.dayPrevMonth),c=t.classList.contains(U.styles.dayNextMonth);i||c?(r=i?"subtract":"add",X[r]("months",1)):t.classList.add(U.styles.selectedDay),X.date(n),$(X,Y(X)||X),Z=X.clone(),b(),C(),S(),U.autoClose&&F(),(i||c)&&V()}}function $(e,t){return e.hour(t.hour()).minute(t.minute()).second(t.second()),e}function G(e){var t=e.target;if(t.classList.contains(U.styles.timeOption)){var n=d.moment(s(t),U.timeFormat);$(X,n),Z=X.clone(),C(),S(),!U.date&&U.autoClose?F():w()}}function J(){return X.toDate()}function K(e){return X.format(e||U.inputFormat)}function Q(){return X.clone()}var U,X,Z,et,tt,nt,ot,at,rt,it,st,ct,lt,ut=a({}),dt=d.moment.weekdaysMin(),ft=dt.length,pt=86400;return r(function(){t()}),ut}var o,a=e("contra.emitter"),r=e("raf"),i=e("./dom"),s=e("./text"),c=e("./parse"),l=e("./clone"),u=e("./defaults"),d=e("./momentum");t.exports=n},{"./clone":60,"./defaults":62,"./dom":63,"./momentum":67,"./parse":68,"./text":71,"contra.emitter":2,raf:57}],60:[function(e,t){"use strict";function n(e,t){function n(e){return t.isMoment(e)?e.clone():void 0}return o(e,n)}var o=e("lodash.clonedeep");t.exports=n},{"lodash.clonedeep":4}],61:[function(e,t){"use strict";function n(e,t){var n;return"input"===e.nodeName.toLowerCase()?o(e,t):(n=t||{},n.appendTo=e,a(n))}var o=e("./input"),a=e("./inline");t.exports=n},{"./inline":65,"./input":66}],62:[function(e,t){"use strict";function n(e,t,n){var a,r,i=t||{};if(i.autoHideOnClick===r&&(i.autoHideOnClick=!0),i.autoHideOnBlur===r&&(i.autoHideOnBlur=!0),i.autoClose===r&&(i.autoClose=!0),i.appendTo===r&&(i.appendTo=document.body),"parent"===i.appendTo){if(!n)throw new Error("Inline calendars must be appended to a parent node explicitly.");i.appendTo=n.parentNode}if(i.invalidate===r&&(i.invalidate=!0),i.required===r&&(i.required=!1),i.date===r&&(i.date=!0),i.time===r&&(i.time=!0),i.date===!1&&i.time===!1)throw new Error("At least one of `date` or `time` must be `true`.");if(i.inputFormat===r&&(i.inputFormat=i.date&&i.time?"YYYY-MM-DD HH:mm":i.date?"YYYY-MM-DD":"HH:mm"),i.initialValue=i.initialValue===r?null:o(e,i.initialValue,i.inputFormat),i.min=i.min===r?null:o(e,i.min,i.inputFormat),i.max=i.max===r?null:o(e,i.max,i.inputFormat),i.min&&i.max&&(i.max.isBefore(i.min)&&(a=i.max,i.max=i.min,i.min=a),i.max.clone().subtract("days",1).isBefore(i.min)))throw new Error("`max` must be at least one day after `min`");i.dateValidator===r&&(i.dateValidator=Function.prototype),i.timeValidator===r&&(i.timeValidator=Function.prototype),i.timeFormat===r&&(i.timeFormat="HH:mm"),i.timeInterval===r&&(i.timeInterval=1800),i.weekStart===r&&(i.weekStart=0),i.monthFormat===r&&(i.monthFormat="MMMM YYYY"),i.dayFormat===r&&(i.dayFormat="DD"),i.styles===r&&(i.styles={});var s=i.styles;return s.back===r&&(s.back="rd-back"),s.container===r&&(s.container="rd-container"),s.positioned===r&&(s.positioned="rd-container-attachment"),s.date===r&&(s.date="rd-date"),s.dayBody===r&&(s.dayBody="rd-days-body"),s.dayBodyElem===r&&(s.dayBodyElem="rd-day-body"),s.dayPrevMonth===r&&(s.dayPrevMonth="rd-day-prev-month"),s.dayNextMonth===r&&(s.dayNextMonth="rd-day-next-month"),s.dayDisabled===r&&(s.dayDisabled="rd-day-disabled"),s.dayHead===r&&(s.dayHead="rd-days-head"),s.dayHeadElem===r&&(s.dayHeadElem="rd-day-head"),s.dayRow===r&&(s.dayRow="rd-days-row"),s.dayTable===r&&(s.dayTable="rd-days"),s.month===r&&(s.month="rd-month"),s.next===r&&(s.next="rd-next"),s.selectedDay===r&&(s.selectedDay="rd-day-selected"),s.selectedTime===r&&(s.selectedTime="rd-time-selected"),s.time===r&&(s.time="rd-time"),s.timeList===r&&(s.timeList="rd-time-list"),s.timeOption===r&&(s.timeOption="rd-time-option"),i}var o=e("./parse");t.exports=n},{"./parse":68}],63:[function(e,t){"use strict";function n(e){var t=e||{};t.type||(t.type="div");var n=document.createElement(t.type);return t.className&&(n.className=t.className),t.text&&(n.innerText=n.textContent=t.text),t.parent&&t.parent.appendChild(n),n}t.exports=n},{}],64:[function(e,t){"use strict";function n(e){if("number"!=typeof e&&e&&e.dataset)return n(e.dataset[r]);var t=i[e];return t!==a?t:void 0}function o(e,t){t.id=e.dataset[r]=i.push(t)-1}var a,r="romeId",i=[];t.exports={find:n,assign:o}},{}],65:[function(e,t){"use strict";function n(e){function t(){s.show(),s.associated=r}function n(){delete api.associated}var r=e.appendTo,i=a.find();if(i)return i;var s=o(e).on("ready",t).on("destroyed",n);return a.assign(r,s),s}var o=e("./calendar"),a=e("./index");t.exports=n},{"./calendar":59,"./index":64}],66:[function(e,t){"use strict";function n(e,t){function n(t){_=i(t,c.moment),D.container.classList.add(_.styles.positioned),D.container.addEventListener("mousedown",p),D.container.addEventListener("click",f),D.associated=e,D.getDate=g(D.getDate),D.getDateString=g(D.getDateString),D.getMoment=g(D.getMoment),_.initialValue&&(e.value=_.initialValue.format(_.inputFormat)),D.on("data",b),d(),F()}function l(){d(!0),delete D.associated,a(u)}function u(){D.once("ready",n),D.once("destroyed",l)}function d(t){var n=t?"remove":"add",o=n+"EventListener";e[o]("click",y),e[o]("focusin",y),e[o]("change",F),e[o]("keypress",F),e[o]("keydown",F),e[o]("input",F),_.invalidate&&e[o]("blur",m),window[o]("resize",T)}function f(){k=!0,e.focus(),k=!1}function p(){function e(){j=!1}j=!0,a(e)}function m(){j||x()||D.emitValues()}function y(){k||(D.show(),h())}function h(){D.container.style.top=e.offsetTop+e.offsetHeight+"px",D.container.style.left=e.offsetLeft+"px"}function v(){var t=e.value.trim();if(!x()){var n=c.moment(t,_.inputFormat);D.setValue(n)}}function b(t){e.value=t}function x(){return _.required===!1&&""===e.value.trim()}function g(e){return function(){return x()?null:e.apply(this,arguments)}}var w=r.find(e);if(w)return w;var _,j,k,D=s(t),F=o(v,50),T=o(h,30);return r.assign(e,D),u(),D}var o=e("lodash.throttle"),a=e("raf"),r=e("./index"),i=e("./clone"),s=e("./calendar"),c=e("./momentum");t.exports=n},{"./calendar":59,"./clone":60,"./index":64,"./momentum":67,"lodash.throttle":50,raf:57}],67:[function(e,t){"use strict";t.exports={moment:null}},{}],68:[function(e,t){"use strict";function n(e,t,n){return"string"==typeof t?e(t,n):"[object Date]"===Object.prototype.toString.call(t)?e(t):e.isMoment(t)?t:void 0}function o(e,t,o){var a=n(e,t,o);return a&&a.isValid()?a:null}t.exports=o},{}],69:[function(e,t){"use strict";var n=e("./core"),o=e("./index"),a=e("./use");n.use=a.bind(n),n.find=o.find,t.exports=n},{"./core":61,"./index":64,"./use":72}],70:[function(e){(function(t){var n=e("./rome"),o=e("./momentum");if(n.use(t.moment),void 0===o.moment)throw new Error("rome depends on moment.js, you can get it at http://momentjs.com, or you could use the bundled distribution file instead.")}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./momentum":67,"./rome":69}],71:[function(e,t){"use strict";function n(e,t){return 2===arguments.length&&(e.innerText=e.textContent=t),e.innerText||e.textContent}t.exports=n},{}],72:[function(e,t){"use strict";function n(e){this.moment=o.moment=e}var o=e("./momentum");t.exports=n},{"./momentum":67}]},{},[70])(70)});