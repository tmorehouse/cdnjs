!function(e,a){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event","cldr/supplemental"],a):"object"==typeof exports?module.exports=a(require("cldrjs"),require("globalize")):a(e.Cldr,e.Globalize)}(this,function(e,a){function r(e,a){i(e,a,{skip:[/dates\/calendars\/gregorian\/days\/.*\/short/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}var t=a._createError,n=a._formatMessage,s=a._isPlainObject,o=a._regexpEscape,i=a._validateCldr,c=a._validateDefaultLocale,u=a._validateParameterPresence,m=a._validateParameterType,l=function(e,a){m(e,a,void 0===e||e instanceof Date,"Date")},d=function(e,a){m(e,a,void 0===e||"string"==typeof e||s(e),"String or plain Object")},f=function(e,a){m(e,a,void 0===e||"string"==typeof e,"a string")},g=function(e,a){return t("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:e,value:a})},p=function(e,a){var r;switch("string"==typeof e&&(e={skeleton:e}),!0){case"skeleton"in e:r=a.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",e.skeleton]);break;case"date"in e:case"time"in e:r=a.main(["dates/calendars/gregorian","date"in e?"dateFormats":"timeFormats",e.date||e.time]);break;case"datetime"in e:r=a.main(["dates/calendars/gregorian/dateTimeFormats",e.datetime]),r&&(r=n(r,[a.main(["dates/calendars/gregorian/timeFormats",e.datetime]),a.main(["dates/calendars/gregorian/dateFormats",e.datetime])]));break;case"pattern"in e:r=e.pattern;break;default:throw g({name:"pattern",value:e})}return r},b=function(e,a){return(e.getDay()-a+7)%7},h=function(e,a){var r=864e5;return(a.getTime()-e.getTime())/r},k=function(e,a){switch(e=new Date(e.getTime()),a){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},y=function(e){return Math.floor(h(k(e,"year"),e))},v=["sun","mon","tue","wed","thu","fri","sat"],D=function(e){return v.indexOf(e.supplemental.weekData.firstDay())},w=function(e){return e-k(e,"day")},H=/([a-z])\1*|'([^']|'')+'|''|./gi,M=function(e,a,r){var t;for("string"!=typeof e&&(e=String(e)),t=e.length;a>t;t+=1)e=r?e+"0":"0"+e;return e},F=function(e,a){var r=e.getTimezoneOffset();return a=a.split(";")[r>0?1:0],a=a.replace(/HH?/,function(e){return M(Math.floor(Math.abs(r)/60),e.length)}),a.replace(/mm/,M(Math.abs(r)%60,2))},x=function(e,a){return a.pattern.replace(H,function(r){var t,n,s=r.charAt(0),o=r.length;switch("j"===s&&(s=a.preferredTime),"Z"===s&&(4>o?(s="x",o=4):5>o?(s="O",o=4):(s="X",o=5)),s){case"G":n=a.eras[e.getFullYear()<0?0:1];break;case"y":n=String(e.getFullYear()),t=!0,2===o&&(n=n.substr(n.length-2));break;case"Y":n=new Date(e.getTime()),n.setDate(n.getDate()+7-b(e,a.firstDay)-a.firstDay-a.minDays),n=String(n.getFullYear()),t=!0,2===o&&(n=n.substr(n.length-2));break;case"Q":case"q":n=Math.ceil((e.getMonth()+1)/3),2>=o?t=!0:n=a.quarters[s][o][n];break;case"M":case"L":n=e.getMonth()+1,2>=o?t=!0:n=a.months[s][o][n];break;case"w":n=b(k(e,"year"),a.firstDay),n=Math.ceil((y(e)+n)/7)-(7-n>=a.minDays?0:1),t=!0;break;case"W":n=b(k(e,"month"),a.firstDay),n=Math.ceil((e.getDate()+n)/7)-(7-n>=a.minDays?0:1);break;case"d":n=e.getDate(),t=!0;break;case"D":n=y(e)+1,t=!0;break;case"F":n=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(2>=o){n=b(e,a.firstDay)+1,t=!0;break}case"E":n=v[e.getDay()],n=a.days[s][o][n];break;case"a":n=a.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":n=e.getHours()%12||12,t=!0;break;case"H":n=e.getHours(),t=!0;break;case"K":n=e.getHours()%12,t=!0;break;case"k":n=e.getHours()||24,t=!0;break;case"m":n=e.getMinutes(),t=!0;break;case"s":n=e.getSeconds(),t=!0;break;case"S":n=Math.round(e.getMilliseconds()*Math.pow(10,o-3)),t=!0;break;case"A":n=Math.round(w(e)*Math.pow(10,o-3)),t=!0;break;case"z":case"O":0===e.getTimezoneOffset()?n=a.gmtZeroFormat:(n=F(e,4>o?"+H;-H":a.tzLongHourFormat),n=a.gmtFormat.replace(/\{0\}/,n));break;case"X":if(0===e.getTimezoneOffset()){n="Z";break}case"x":n=1===o?"+HH;-HH":o%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm",n=F(e,n);break;case"'":return r=r.replace(/''/,"'"),o>2&&(r=r.slice(1,-1)),r;default:return r}return t&&(n=M(n,o)),n})},Z=function(e){return t("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},E=function(e,a){var r={},t=["abbreviated","wide","narrow"];return r.pattern=e,e.replace(H,function(e){var n=e.charAt(0),s=e.length;switch("j"===n&&(r.preferredTime=n=a.supplemental.timeData.preferred()),"Z"===n&&4===s&&(n="O",s=4),n){case"G":r.eras=a.main(["dates/calendars/gregorian/eras",3>=s?"eraAbbr":4===s?"eraNames":"eraNarrow"]);break;case"Y":r.firstDay=D(a),r.minDays=a.supplemental.weekData.minDays();break;case"u":case"U":throw Z({feature:"year pattern `"+n+"`"});case"Q":case"q":s>2&&(r.quarters||(r.quarters={}),r.quarters[n]||(r.quarters[n]={}),r.quarters[n][s]=a.main(["dates/calendars/gregorian/quarters","Q"===n?"format":"stand-alone",t[s-3]]));break;case"M":case"L":s>2&&(r.months||(r.months={}),r.months[n]||(r.months[n]={}),r.months[n][s]=a.main(["dates/calendars/gregorian/months","M"===n?"format":"stand-alone",t[s-3]]));break;case"w":case"W":r.firstDay=D(a),r.minDays=a.supplemental.weekData.minDays();break;case"g":throw Z({feature:"Julian day pattern `g`"});case"e":case"c":if(2>=s){r.firstDay=D(a);break}case"E":r.days||(r.days={}),r.days[n]||(r.days[n]={}),r.days[n][s]=6===s?a.main(["dates/calendars/gregorian/days","c"===n?"stand-alone":"format","short"])||a.main(["dates/calendars/gregorian/days","c"===n?"stand-alone":"format","abbreviated"]):a.main(["dates/calendars/gregorian/days","c"===n?"stand-alone":"format",t[3>s?0:s-3]]);break;case"a":r.dayPeriods=a.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"z":case"O":r.gmtFormat=a.main("dates/timeZoneNames/gmtFormat"),r.gmtZeroFormat=a.main("dates/timeZoneNames/gmtZeroFormat"),r.tzLongHourFormat=a.main("dates/timeZoneNames/hourFormat");break;case"v":case"V":throw Z({feature:"timezone pattern `"+n+"`"})}}),r},N=function(e,a){var r=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(1>a?1:r>a?a:r)},z=function(e,a){var r=e.getDate();e.setDate(1),e.setMonth(a),N(e,r)},O=function(){function e(e,a,r){return a>e||e>r}return function(a,r,t){var n,s,o,i,c,u,m=0,l=1,d=2,f=3,g=4,p=5,b=6,h=new Date,y=[],v=["year","month","day","hour","minute","second","milliseconds"];return r.length&&(u=r.every(function(a){var r,u,k,v;if("literal"===a.type)return!0;switch(u=a.type.charAt(0),v=a.type.length,"j"===u&&(u=t.preferredTimeData),u){case"G":y.push(m),s=+a.value;break;case"y":if(k=+a.lexeme,2===v){if(e(k,0,99))return!1;r=100*Math.floor(h.getFullYear()/100),k+=r,k>h.getFullYear()+20&&(k-=100)}h.setFullYear(k),y.push(m);break;case"Y":throw Z({feature:"year pattern `"+u+"`"});case"Q":case"q":break;case"M":case"L":if(k=2>=v?+a.lexeme:+a.value,e(k,1,12))return!1;z(h,k-1),y.push(l);break;case"w":case"W":break;case"d":if(k=+a.lexeme,e(k,1,31))return!1;N(h,k),y.push(d);break;case"D":if(k=+a.lexeme,e(k,1,366))return!1;h.setMonth(0),h.setDate(k),y.push(d);break;case"F":break;case"e":case"c":case"E":break;case"a":n=a.value;break;case"h":if(k=+a.lexeme,e(k,1,12))return!1;o=i=!0,h.setHours(12===k?0:k),y.push(f);break;case"K":if(k=+a.lexeme,e(k,0,11))return!1;o=i=!0,h.setHours(k),y.push(f);break;case"k":if(k=+a.lexeme,e(k,1,24))return!1;o=!0,h.setHours(24===k?0:k),y.push(f);break;case"H":if(k=+a.lexeme,e(k,0,23))return!1;o=!0,h.setHours(k),y.push(f);break;case"m":if(k=+a.lexeme,e(k,0,59))return!1;h.setMinutes(k),y.push(g);break;case"s":if(k=+a.lexeme,e(k,0,59))return!1;h.setSeconds(k),y.push(p);break;case"A":h.setHours(0),h.setMinutes(0),h.setSeconds(0);case"S":k=Math.round(+a.lexeme*Math.pow(10,3-v)),h.setMilliseconds(k),y.push(b);break;case"Z":case"z":case"O":case"X":case"x":c=a.value-h.getTimezoneOffset()}return!0}))&&(!o||!n^i)?(0===s&&h.setFullYear(-1*h.getFullYear()+1),i&&"pm"===n&&h.setHours(h.getHours()+12),c&&h.setMinutes(h.getMinutes()+c),y=Math.max.apply(null,y),h=k(h,v[y])):null}}(),q=function(e){return{preferredTimeData:e.supplemental.timeData.preferred()}},T=function(e,a){var r,t=[],n=["abbreviated","wide","narrow"];return r=a.pattern.match(H).every(function(r){function s(a){var r=e.match(a);return r?(p.value=r.length<4?60*(r[1]?-r[1]:+r[2]):60*(r[1]?-r[1]:+r[3])+(r[1]?-r[2]:+r[4]),!0):!1}function i(e,a){var r;return a||(a="{0}"),r=e.replace("+","\\+").replace(/HH|mm/g,"(\\d\\d)").replace(/H|m/g,"(\\d\\d?)"),r=r.split(";").map(function(e){return a.replace("{0}",e)}).join("|"),new RegExp(r)}function c(){return 1===f?g=/\d/:void 0}function u(){return 1===f?g=/\d\d?/:void 0}function m(){return 2===f?g=/\d\d/:void 0}function l(r){var t,n,s=a[r.join("/")];for(t in s)if(n=new RegExp("^"+s[t]),n.test(e))return p.value=t,g=new RegExp(s[t]);return null}var d,f,g,p={};switch(p.type=r,d=r.charAt(0),f=r.length,"Z"===d&&(4>f?(d="x",f=4):5>f?(d="O",f=4):(d="X",f=5)),d){case"G":l(["gregorian/eras",3>=f?"eraAbbr":4===f?"eraNames":"eraNarrow"]);break;case"y":case"Y":g=1===f?/\d+/:2===f?/\d\d/:new RegExp("\\d{"+f+",}");break;case"Q":case"q":c()||m()||l(["gregorian/quarters","Q"===d?"format":"stand-alone",n[f-3]]);break;case"M":case"L":u()||m()||l(["gregorian/months","M"===d?"format":"stand-alone",n[f-3]]);break;case"D":3>=f&&(g=new RegExp("\\d{"+f+",3}"));break;case"W":case"F":c();break;case"e":case"c":if(2>=f){c()||m();break}case"E":6===f?l(["gregorian/days",["c"===d?"stand-alone":"format"],"short"])||l(["gregorian/days",["c"===d?"stand-alone":"format"],"abbreviated"]):l(["gregorian/days",["c"===d?"stand-alone":"format"],n[3>f?0:f-3]]);break;case"a":l(["gregorian/dayPeriods/format/wide"]);break;case"w":case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":u()||m();break;case"S":g=new RegExp("\\d{"+f+"}");break;case"A":g=new RegExp("\\d{"+(f+5)+"}");break;case"z":case"O":if(e===a["timeZoneNames/gmtZeroFormat"])p.value=0,g=new RegExp(a["timeZoneNames/gmtZeroFormat"]);else if(g=i(4>f?"+H;-H":a["timeZoneNames/hourFormat"],a["timeZoneNames/gmtFormat"]),!s(g))return null;break;case"X":if("Z"===e){p.value=0,g=/Z/;break}case"x":if(g=i(1===f?"+HH;-HH":f%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"),!s(g))return null;break;case"'":p.type="literal",r=r.replace(/''/,"'"),f>2&&(r=r.slice(1,-1)),g=new RegExp(o(r));break;default:p.type="literal",g=/./}return g?(e=e.replace(new RegExp("^"+g.source),function(e){return p.lexeme=e,""}),p.lexeme?(t.push(p),!0):!1):!1}),r?t:[]},P=function(e,a){function r(e,a){t[e.replace(/^.*\/dates\//,"").replace(/calendars\//,"")]=a}var t={pattern:e},n=["abbreviated","wide","narrow"];return a.on("get",r),e.match(H).forEach(function(e){var r,t;switch(r=e.charAt(0),t=e.length,"Z"===r&&5>t&&(r="O",t=4),r){case"G":a.main(["dates/calendars/gregorian/eras",3>=t?"eraAbbr":4===t?"eraNames":"eraNarrow"]);break;case"u":case"U":throw Z({feature:"year pattern `"+r+"`"});case"Q":case"q":t>2&&a.main(["dates/calendars/gregorian/quarters","Q"===r?"format":"stand-alone",n[t-3]]);break;case"M":case"L":t>2&&a.main(["dates/calendars/gregorian/months","M"===r?"format":"stand-alone",n[t-3]]);break;case"g":throw Z({feature:"Julian day pattern `g`"});case"e":case"c":if(2>=t)break;case"E":6===t?a.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],"short"])||a.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],"abbreviated"]):a.main(["dates/calendars/gregorian/days",["c"===r?"stand-alone":"format"],n[3>t?0:t-3]]);break;case"a":a.main(["dates/calendars/gregorian/dayPeriods/format/wide"]);break;case"z":case"O":a.main("dates/timeZoneNames/gmtFormat"),a.main("dates/timeZoneNames/gmtZeroFormat"),a.main("dates/timeZoneNames/hourFormat");break;case"v":case"V":throw Z({feature:"timezone pattern `"+r+"`"})}}),a.off("get",r),t};return a.dateFormatter=a.prototype.dateFormatter=function(e){var a,t;return u(e,"pattern"),d(e,"pattern"),a=this.cldr,c(a),a.on("get",r),e=p(e,a),t=E(e,a),a.off("get",r),function(e){return u(e,"value"),l(e,"value"),x(e,t)}},a.dateParser=a.prototype.dateParser=function(e){var a,t,n;return u(e,"pattern"),d(e,"pattern"),a=this.cldr,c(a),a.on("get",r),e=p(e,a),n=P(e,a),t=q(a),a.off("get",r),function(e){var a;return u(e,"value"),f(e,"value"),a=T(e,n),O(e,a,t)||null}},a.formatDate=a.prototype.formatDate=function(e,a){return u(e,"value"),l(e,"value"),this.dateFormatter(a)(e)},a.parseDate=a.prototype.parseDate=function(e,a){return u(e,"value"),f(e,"value"),this.dateParser(a)(e)},a});