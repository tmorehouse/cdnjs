var _=require("underscore"),Ax=require("ax"),CookieJarLib=require("cookiejar"),CookieAccessInfo=CookieJarLib.CookieAccessInfo,CookieJar=CookieJarLib.CookieJar,Cookie=CookieJarLib.Cookie,Shred=function(e){e=e||{},this.defaults=e.defaults||{},this.log=e.logger||new Ax({level:"info"}),this._sharedCookieJar=new CookieJar};Shred.Request=require("./shred/request"),Shred.Response=require("./shred/response"),Shred.prototype={request:function(e){return e.logger=this.log,e.cookieJar="cookieJar"in e?e.cookieJar:this._sharedCookieJar,new Shred.Request(_.defaults(e,this.defaults))}},"get put post delete".split(" ").forEach(function(e){Shred.prototype[e]=function(o){return o.method=e,this.request(o)}}),module.exports=Shred;