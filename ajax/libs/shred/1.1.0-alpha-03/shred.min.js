(function(){var r,n,e,u,t,o,i,c,l,a,s,f,p=[].slice;o=require("querystring"),f=require("fairmont"),u=f.include,e=f.clone,s=f.type,n=f.base64,l=f,t=require("typely").overload,i=require("./request").request,c=function(){var r,n;return r=require("url"),n=r.resolve,function(){return decodeURIComponent(n.apply(null,arguments))}}(),r={basic:function(r){var e,u;return u=r.username,e=r.password,"Basic "+n(""+u+":"+e)},bearer:function(r){return"Bearer "+r}},a=t(function(n){return n("string",function(r){return a({url:r})}),n("string","object",function(r,n){return a({url:r,description:n})}),n("object",function(n){var o,l,f,d,v,g,m,b,h;m=n.url,l=n.description,d=function(r,n){return null==n&&(n=l),a({url:c(m,r),description:n})},f=function(){var r;return r=require("url-template").parse(m),function(n,e){return null==e&&(e=l),a({url:r.expand(n),description:e})}}(),v=function(n){var t;return null==n.url&&(n.url=m),null==n.headers&&(n.headers={}),t=function(){return i.apply(null,[n].concat(p.call(arguments)))},u(t,{invoke:function(){return t.apply(null,arguments)},curl:function(){var r,e,u,t;return m=n.url,u=n.method,r=n.headers,"curl -v -X"+u.toUpperCase()+" "+m+function(){var n;n=[];for(e in r)t=r[e],n.push(" -H'"+e+": "+t+"'");return n}()},authorize:function(u){var t,o,i,c;return o=Object.keys(u)[0],i=r[o],t=i(u[o]),c=e(n),c.headers.authorization=t,v(c)}}),t},h=t(function(r){return r("string",function(r){return d(r)}),r("string","object",function(r,n){return d(r,n)}),r("object",function(r){return f(r)}),r("object","object",function(r,n){return f(r,n)})}),b=function(r,n){return h[r]=function(){switch(s(n)){case"object":return v(e(n));case"function":return n(function(){return 1===arguments.length?h.apply(null,p.call(arguments).concat([{}])):h.apply(null,arguments)})}}()};for(g in l)o=l[g],b(g,o);return h})}),module.exports={resource:a}}).call(this);