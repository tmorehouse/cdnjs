var Suite=require("../suite"),Test=require("../test");module.exports=function(e){function r(e){var t;for(var f in e)if("function"==typeof e[f]){var i=e[f];switch(f){case"before":a[0].beforeAll(i);break;case"after":a[0].afterAll(i);break;case"beforeEach":a[0].beforeEach(i);break;case"afterEach":a[0].afterEach(i);break;default:a[0].addTest(new Test(f,i))}}else{var t=Suite.create(a[0],f);a.unshift(t),r(e[f]),a.shift()}}var a=[e];e.on("require",r)};