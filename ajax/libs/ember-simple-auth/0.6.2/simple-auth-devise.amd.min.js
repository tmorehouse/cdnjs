define("simple-auth-devise/authenticators/devise",["simple-auth/authenticators/base","simple-auth/utils/is-secure-url","simple-auth/utils/get-global-config","exports"],function(e,t,i,n){"use strict";var s=e["default"],r=t["default"],u=i["default"],a="undefined"!=typeof window?window:{},o=a.Ember;n["default"]=s.extend({serverTokenEndpoint:"/users/sign_in",resourceName:"user",init:function(){var e=u("simple-auth-devise");this.serverTokenEndpoint=e.serverTokenEndpoint||this.serverTokenEndpoint,this.resourceName=e.resourceName||this.resourceName},restore:function(e){return new o.RSVP.Promise(function(t,i){o.isEmpty(e.user_token)||o.isEmpty(e.user_email)?i():t(e)})},authenticate:function(e){var t=this;return new o.RSVP.Promise(function(i,n){var s={};s[t.resourceName]={email:e.identification,password:e.password},t.makeRequest(s).then(function(e){o.run(function(){i(e)})},function(e){o.run(function(){n(e.responseJSON||e.responseText)})})})},invalidate:function(){return o.RSVP.resolve()},makeRequest:function(e){return r(this.serverTokenEndpoint)||o.Logger.warn("Credentials are transmitted via an insecure connection - use HTTPS to keep them secure."),o.$.ajax({url:this.serverTokenEndpoint,type:"POST",data:e,dataType:"json",beforeSend:function(e,t){e.setRequestHeader("Accept",t.accepts.json)}})}})}),define("simple-auth-devise/authorizers/devise",["simple-auth/authorizers/base","simple-auth/utils/is-secure-url","exports"],function(e,t,i){"use strict";var n=e["default"],s=t["default"],r="undefined"!=typeof window?window:{},u=r.Ember;i["default"]=n.extend({authorize:function(e,t){var i=this.get("session.user_token"),n=this.get("session.user_email");if(this.get("session.isAuthenticated")&&!u.isEmpty(i)&&!u.isEmpty(n)){s(t.url)||u.Logger.warn("Credentials are transmitted via an insecure connection - use HTTPS to keep them secure.");var r='token="'+i+'", user_email="'+n+'"';e.setRequestHeader("Authorization","Token "+r)}}})}),define("simple-auth-devise/ember",["./initializer"],function(e){"use strict";var t="undefined"!=typeof window?window:{},i=t.Ember,n=e["default"];i.onLoad("Ember.Application",function(e){e.initializer(n)})}),define("simple-auth-devise/initializer",["simple-auth-devise/authenticators/devise","simple-auth-devise/authorizers/devise","exports"],function(e,t,i){"use strict";var n="undefined"!=typeof window?window:{},s=(n.Ember,e["default"]),r=t["default"];i["default"]={name:"simple-auth-devise",before:"simple-auth",initialize:function(e){e.register("simple-auth-authorizer:devise",r),e.register("simple-auth-authenticator:devise",s)}}});