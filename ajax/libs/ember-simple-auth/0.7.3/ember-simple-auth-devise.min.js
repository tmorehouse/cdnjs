(function(e){Ember.libraries.register("Ember Simple Auth Devise","0.7.3");var t,i;(function(){var e={},r={};t=function(t,i,r){e[t]={deps:i,callback:r}};i=function(t){if(r.hasOwnProperty(t)){return r[t]}r[t]={};if(!e[t]){throw new Error("Could not find module "+t)}var a=e[t],n=a.deps,s=a.callback,u=[],o;for(var l=0,m=n.length;l<m;l++){if(n[l]==="exports"){u.push(o={})}else{u.push(i(c(n[l])))}}var f=s.apply(this,u);return r[t]=o||f;function c(e){if(e.charAt(0)!=="."){return e}var i=e.split("/");var r=t.split("/").slice(0,-1);for(var a=0,n=i.length;a<n;a++){var s=i[a];if(s===".."){r.pop()}else if(s==="."){continue}else{r.push(s)}}return r.join("/")}};i.registry=e})();t("simple-auth-devise/authenticators/devise",["simple-auth/authenticators/base","./../configuration","exports"],function(e,t,i){"use strict";var r=e["default"];var a=t["default"];i["default"]=r.extend({serverTokenEndpoint:"/users/sign_in",resourceName:"user",tokenAttributeName:"token",identificationAttributeName:"user_email",init:function(){this.serverTokenEndpoint=a.serverTokenEndpoint;this.resourceName=a.resourceName;this.tokenAttributeName=a.tokenAttributeName;this.identificationAttributeName=a.identificationAttributeName},restore:function(e){var t=this;var i=Ember.Object.create(e);return new Ember.RSVP.Promise(function(r,a){if(!Ember.isEmpty(i.get(t.tokenAttributeName))&&!Ember.isEmpty(i.get(t.identificationAttributeName))){r(e)}else{a()}})},authenticate:function(e){var t=this;return new Ember.RSVP.Promise(function(i,r){var a={};a[t.resourceName]={password:e.password};a[t.resourceName][t.identificationAttributeName]=e.identification;t.makeRequest(a).then(function(e){Ember.run(function(){i(e)})},function(e,t,i){Ember.run(function(){r(e.responseJSON||e.responseText)})})})},invalidate:function(){return Ember.RSVP.resolve()},makeRequest:function(e,t,i){return Ember.$.ajax({url:this.serverTokenEndpoint,type:"POST",data:e,dataType:"json",beforeSend:function(e,t){e.setRequestHeader("Accept",t.accepts.json)}})}})});t("simple-auth-devise/authorizers/devise",["simple-auth/authorizers/base","./../configuration","exports"],function(e,t,i){"use strict";var r=e["default"];var a=t["default"];i["default"]=r.extend({tokenAttributeName:"token",identificationAttributeName:"user_email",init:function(){this.tokenAttributeName=a.tokenAttributeName;this.identificationAttributeName=a.identificationAttributeName},authorize:function(e,t){var i=this.get("session").get(this.tokenAttributeName);var r=this.get("session").get(this.identificationAttributeName);if(this.get("session.isAuthenticated")&&!Ember.isEmpty(i)&&!Ember.isEmpty(r)){var a=this.tokenAttributeName+'="'+i+'", '+this.identificationAttributeName+'="'+r+'"';e.setRequestHeader("Authorization","Token "+a)}}})});t("simple-auth-devise/configuration",["simple-auth/utils/load-config","exports"],function(e,t){"use strict";var i=e["default"];var r={serverTokenEndpoint:"/users/sign_in",resourceName:"user",tokenAttributeName:"token",identificationAttributeName:"user_email"};t["default"]={serverTokenEndpoint:r.serverTokenEndpoint,resourceName:r.resourceName,tokenAttributeName:r.tokenAttributeName,identificationAttributeName:r.identificationAttributeName,load:i(r)}});t("simple-auth-devise/ember",["./initializer"],function(e){"use strict";var t=e["default"];Ember.onLoad("Ember.Application",function(e){e.initializer(t)})});t("simple-auth-devise/initializer",["./configuration","simple-auth/utils/get-global-config","simple-auth-devise/authenticators/devise","simple-auth-devise/authorizers/devise","exports"],function(e,t,i,r,a){"use strict";var n=e["default"];var s=t["default"];var u=i["default"];var o=r["default"];a["default"]={name:"simple-auth-devise",before:"simple-auth",initialize:function(e,t){var i=s("simple-auth-devise");n.load(e,i);e.register("simple-auth-authorizer:devise",o);e.register("simple-auth-authenticator:devise",u)}}});t("simple-auth/authenticators/base",["exports"],function(t){t["default"]=e.SimpleAuth.Authenticators.Base});t("simple-auth/authorizers/base",["exports"],function(t){t["default"]=e.SimpleAuth.Authorizers.Base});t("simple-auth/utils/get-global-config",["exports"],function(t){t["default"]=e.SimpleAuth.Utils.getGlobalConfig});t("simple-auth/utils/load-config",["exports"],function(t){t["default"]=e.SimpleAuth.Utils.loadConfig});var r=i("simple-auth-devise/initializer")["default"];var a=i("simple-auth-devise/configuration")["default"];var n=i("simple-auth-devise/authenticators/devise")["default"];var s=i("simple-auth-devise/authorizers/devise")["default"];e.SimpleAuth.Configuration.Devise=a;e.SimpleAuth.Authenticators.Devise=n;e.SimpleAuth.Authorizers.Devise=s;i("simple-auth-devise/ember")})(typeof global!=="undefined"?global:window);