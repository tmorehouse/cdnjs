!function(e){Ember.libraries.register("Ember Simple Auth Devise","0.6.5");var t,i;!function(){var e={},s={};t=function(t,i,s){e[t]={deps:i,callback:s}},i=function(t){function r(e){if("."!==e.charAt(0))return e;for(var i=e.split("/"),s=t.split("/").slice(0,-1),r=0,n=i.length;n>r;r++){var u=i[r];if(".."===u)s.pop();else{if("."===u)continue;s.push(u)}}return s.join("/")}if(s.hasOwnProperty(t))return s[t];if(s[t]={},!e[t])throw new Error("Could not find module "+t);for(var n,u=e[t],a=u.deps,o=u.callback,l=[],c=0,p=a.length;p>c;c++)l.push("exports"===a[c]?n={}:i(r(a[c])));var h=o.apply(this,l);return s[t]=n||h},i.registry=e}(),t("simple-auth-devise/authenticators/devise",["simple-auth/authenticators/base","simple-auth/utils/is-secure-url","simple-auth/utils/get-global-config","exports"],function(e,t,i,s){"use strict";var r=e["default"],n=t["default"],u=i["default"];s["default"]=r.extend({serverTokenEndpoint:"/users/sign_in",resourceName:"user",init:function(){var e=u("simple-auth-devise");this.serverTokenEndpoint=e.serverTokenEndpoint||this.serverTokenEndpoint,this.resourceName=e.resourceName||this.resourceName},restore:function(e){return new Ember.RSVP.Promise(function(t,i){Ember.isEmpty(e.user_token)||Ember.isEmpty(e.user_email)?i():t(e)})},authenticate:function(e){var t=this;return new Ember.RSVP.Promise(function(i,s){var r={};r[t.resourceName]={email:e.identification,password:e.password},t.makeRequest(r).then(function(e){Ember.run(function(){i(e)})},function(e){Ember.run(function(){s(e.responseJSON||e.responseText)})})})},invalidate:function(){return Ember.RSVP.resolve()},makeRequest:function(e){return n(this.serverTokenEndpoint)||Ember.Logger.warn("Credentials are transmitted via an insecure connection - use HTTPS to keep them secure."),Ember.$.ajax({url:this.serverTokenEndpoint,type:"POST",data:e,dataType:"json",beforeSend:function(e,t){e.setRequestHeader("Accept",t.accepts.json)}})}})}),t("simple-auth-devise/authorizers/devise",["simple-auth/authorizers/base","simple-auth/utils/is-secure-url","exports"],function(e,t,i){"use strict";var s=e["default"],r=t["default"];i["default"]=s.extend({authorize:function(e,t){var i=this.get("session.user_token"),s=this.get("session.user_email");if(this.get("session.isAuthenticated")&&!Ember.isEmpty(i)&&!Ember.isEmpty(s)){r(t.url)||Ember.Logger.warn("Credentials are transmitted via an insecure connection - use HTTPS to keep them secure.");var n='token="'+i+'", user_email="'+s+'"';e.setRequestHeader("Authorization","Token "+n)}}})}),t("simple-auth-devise/ember",["./initializer"],function(e){"use strict";var t=e["default"];Ember.onLoad("Ember.Application",function(e){e.initializer(t)})}),t("simple-auth-devise/initializer",["simple-auth-devise/authenticators/devise","simple-auth-devise/authorizers/devise","exports"],function(e,t,i){"use strict";var s=e["default"],r=t["default"];i["default"]={name:"simple-auth-devise",before:"simple-auth",initialize:function(e){e.register("simple-auth-authorizer:devise",r),e.register("simple-auth-authenticator:devise",s)}}}),t("simple-auth/authenticators/base",["exports"],function(t){t["default"]=e.SimpleAuth.Authenticators.Base}),t("simple-auth/authorizers/base",["exports"],function(t){t["default"]=e.SimpleAuth.Authorizers.Base}),t("simple-auth/utils/is-secure-url",["exports"],function(t){t["default"]=e.SimpleAuth.Utils.isSecureUrl}),t("simple-auth/utils/get-global-config",["exports"],function(t){t["default"]=e.SimpleAuth.Utils.getGlobalConfig});var s=(i("simple-auth-devise/initializer")["default"],i("simple-auth-devise/authenticators/devise")["default"]),r=i("simple-auth-devise/authorizers/devise")["default"];e.SimpleAuth.Authenticators.Devise=s,e.SimpleAuth.Authorizers.Devise=r,i("simple-auth-devise/ember")}("undefined"!=typeof global?global:window);