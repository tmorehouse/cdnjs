!function(i){Ember.libraries.register("Ember Simple Auth Torii","0.7.1");var t,e;!function(){var i={},r={};t=function(t,e,r){i[t]={deps:e,callback:r}},e=function(t){function o(i){if("."!==i.charAt(0))return i;for(var e=i.split("/"),r=t.split("/").slice(0,-1),o=0,n=e.length;n>o;o++){var a=e[o];if(".."===a)r.pop();else{if("."===a)continue;r.push(a)}}return r.join("/")}if(r.hasOwnProperty(t))return r[t];if(r[t]={},!i[t])throw new Error("Could not find module "+t);for(var n,a=i[t],u=a.deps,s=a.callback,l=[],p=0,c=u.length;c>p;p++)l.push("exports"===u[p]?n={}:e(o(u[p])));var f=s.apply(this,l);return r[t]=n||f},e.registry=i}(),t("simple-auth-torii/authenticators/torii",["simple-auth/authenticators/base","exports"],function(i,t){"use strict";var e=i["default"];t["default"]=e.extend({torii:null,provider:null,restore:function(i){var t=this;return i=i||{},new Ember.RSVP.Promise(function(e,r){if(Ember.isEmpty(i.provider))delete t.provider,r();else{var o=i.provider;t.torii.fetch(i.provider,i).then(function(i){t.resolveWith(o,i,e)},function(){delete t.provider,r()})}})},authenticate:function(i){var t=this;return new Ember.RSVP.Promise(function(e,r){t.torii.open(i).then(function(r){t.resolveWith(i,r,e)},r)})},invalidate:function(){var i=this;return new Ember.RSVP.Promise(function(t,e){i.torii.close(i.provider).then(function(){delete i.provider,t()},e)})},resolveWith:function(i,t,e){t.provider=i,this.provider=t.provider,e(t)}})}),t("simple-auth-torii/ember",["./initializer"],function(i){"use strict";var t=i["default"];Ember.onLoad("Ember.Application",function(i){i.initializer(t)})}),t("simple-auth-torii/initializer",["simple-auth-torii/authenticators/torii","exports"],function(i,t){"use strict";var e=i["default"];t["default"]={name:"simple-auth-torii",before:"simple-auth",after:"torii",initialize:function(i){var t=i.lookup("torii:main"),r=e.create({torii:t});i.register("simple-auth-authenticator:torii",r,{instantiate:!1})}}}),t("simple-auth/authenticators/base",["exports"],function(t){t["default"]=i.SimpleAuth.Authenticators.Base});var r=e("simple-auth-torii/authenticators/torii")["default"];i.SimpleAuth.Authenticators.Torii=r,e("simple-auth-torii/ember")}("undefined"!=typeof global?global:window);