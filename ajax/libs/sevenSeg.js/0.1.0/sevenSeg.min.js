!function(e){var t=[63,6,91,79,102,109,125,7,127,111];e("<style type='text/css'>.sevenSeg-svg {fill: #320000; overflow: hidden; stroke-width: 0; height: 100%; width: 100%; background-color: Black}.sevenSeg-segOn {fill: Red}</style>").prependTo("head"),e.widget("bw.sevenSeg",{options:{value:null,colorOn:null,colorOff:null,colorBackground:null,slant:0,decimalPoint:!0},_create:function(){this.jqSvgElement=e("<svg/>",{"class":this.widgetName+"-svg",viewBox:"0 0 57 80",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}).css({fill:this.options.colorOff,"background-color":this.options.colorBackground}),e("<defs/>").append(e("<polyline/>",{id:"h-seg",points:"11 0, 37 0, 42 5, 37 10, 11 10, 6 5"})).append(e("<polyline/>",{id:"v-seg",points:"0 11, 5 6, 10 11, 10 34, 5 39, 0 39"})).appendTo(this.jqSvgElement),this.jqSegments=e("<g/>",{"class":this.widgetName+"-segGroup"}).append(e("<use/>",{"xlink:href":"#h-seg",x:"0",y:"0"})).append(e("<use/>",{"xlink:href":"#v-seg",x:"-48",y:"0",transform:"scale(-1,1)"})).append(e("<use/>",{"xlink:href":"#v-seg",x:"-48",y:"-80",transform:"scale(-1,-1)"})).append(e("<use/>",{"xlink:href":"#h-seg",x:"0",y:"70"})).append(e("<use/>",{"xlink:href":"#v-seg",x:"0",y:"-80",transform:"scale(1,-1)"})).append(e("<use/>",{"xlink:href":"#v-seg",x:"0",y:"0"})).append(e("<use/>",{"xlink:href":"#h-seg",x:"0",y:"35"})).appendTo(this.jqSvgElement),this.options.slant&&this.jqSegments.attr("transform","skewX("+-this.options.slant+")"),this.options.decimalPoint&&e("<circle/>",{cx:"52",cy:"75",r:"5"}).appendTo(this.jqSvgElement),this.jqSvgElement.appendTo(this.element),this.element.append(this.jqSvgElement),this.element.html(this.element.html()),this.jqSvgElement=this.element.find("svg"),this.jqSegments=this.jqSvgElement.find("."+this.widgetName+"-segGroup"),this.options.value&&this.displayValue(this.options.value)},_destroy:function(){this.jqSvgElement.remove()},_setOption:function(e,t){switch(this.options[e]=t,e){case"value":this.displayValue(t)}},displayValue:function(n,s){var i=this;if(!(n>=t.length)){i.options.value=n;var o=i._getSegments(n);i.jqSegments.children().each(function(t,n){i._setSvgElementFill(e(n),o&1<<t)}),i._setSvgElementFill(i.jqSvgElement.find("circle"),s)}},_getSegments:function(e){return"-"===e?64:t[e]},_setSvgElementFill:function(e,t){e.attr("class",t&&this.widgetName+"-segOn"),e.css("fill",t&&this.options.colorOn||"")}}),ko&&ko.bindingHandlers&&(ko.bindingHandlers.sevenSeg={init:function(t,n){e(t).sevenSeg(ko.toJS(n()))},update:function(t,n){e(t).sevenSeg("option",ko.toJS(n()))}}),e.widget("bw.sevenSegArray",{options:{value:null,digits:2,segmentOptions:null},_create:function(){this.aJqDigits=[];for(var t=100/this.options.digits+"%",n=0;n<this.options.digits;++n)this.aJqDigits[n]=e("<div/>",{style:"display: inline-block; height: 100%;"}).css("width",t).sevenSeg(this.options.segmentOptions).appendTo(this.element);this.aJqDigits.reverse(),this.options.value&&this.displayValue(this.options.value)},_destroy:function(){e.each(this.aJqDigits,function(e,t){t.sevenSeg("destroy"),t.remove()})},_setOption:function(e,t){switch(this.options[e]=t,e){case"value":this.displayValue(t)}},displayValue:function(t){var n=this,s=t.toString(),i=s.indexOf("."),o=s.length-1;e.each(n.aJqDigits,function(e,t){var n=i>=0&&o===i;n&&--o;var l=s[o];t.sevenSeg("displayValue",l,n),--o})}}),ko&&ko.bindingHandlers&&(ko.bindingHandlers.sevenSegArray={init:function(t,n){e(t).sevenSegArray(ko.toJS(n()))},update:function(t,n){e(t).sevenSegArray("option",ko.toJS(n()))}})}(jQuery);