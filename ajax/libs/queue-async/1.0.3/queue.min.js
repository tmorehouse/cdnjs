(function(){function n(n){function t(){for(;o=p<a.length&&n>s;){var u=p++,t=a[u],r=l.call(t,1);r.push(e(u)),++s,t[0].apply(null,r)}}function e(n){return function(u,l){--s,null==f&&(null!=u?(f=u,p=d=0/0,r()):(a[n]=l,--d?o||t():r()))}}function r(){null!=f?v(f):i?v(null,a):v.apply(null,[null].concat(a))}var o,f,i,c={},a=[],p=0,s=0,d=0,v=u;return n||(n=1/0),c.defer=function(){return f||(a.push(arguments),++d,t()),c},c.await=function(n){return v=n,i=!1,d||r(),c},c.awaitAll=function(n){return v=n,i=!0,d||r(),c},c}function u(){}"undefined"==typeof module?self.queue=n:module.exports=n,n.version="1.0.3";var l=[].slice})();