(function(c){var b,a;c(function(){c("body").on("pnotify.history-all",function(){c.each(PNotify.notices,function(){if(this.modules.history.inHistory){if(this.elem.is(":visible")){if(this.options.hide){this.queueRemove()}}else{if(this.open){this.open()}}}})}).on("pnotify.history-last",function(){var d=(PNotify.prototype.options.stack.push==="top");var e=(d?0:-1);var f;do{if(e===-1){f=PNotify.notices.slice(e)}else{f=PNotify.notices.slice(e,e+1)}if(!f[0]){return false}e=(d?e+1:e-1)}while(!f[0].modules.history.inHistory||f[0].elem.is(":visible"));if(f[0].open){f[0].open()}})});PNotify.prototype.options.history={history:true,menu:false,fixed:true,maxonscreen:Infinity,labels:{redisplay:"Redisplay",all:"All",last:"Last"}};PNotify.prototype.modules.history={inHistory:false,init:function(f,d){f.options.destroy=false;this.inHistory=d.history;if(d.menu){if(typeof b==="undefined"){b=c("<div />",{"class":"ui-pnotify-history-container "+f.styles.hi_menu,mouseleave:function(){b.animate({top:"-"+a+"px"},{duration:100,queue:false})}}).append(c("<div />",{"class":"ui-pnotify-history-header",text:d.labels.redisplay})).append(c("<button />",{"class":"ui-pnotify-history-all "+f.styles.hi_btn,text:d.labels.all,mouseenter:function(){c(this).addClass(f.styles.hi_btnhov)},mouseleave:function(){c(this).removeClass(f.styles.hi_btnhov)},click:function(){c(this).trigger("pnotify.history-all");return false}})).append(c("<button />",{"class":"ui-pnotify-history-last "+f.styles.hi_btn,text:d.labels.last,mouseenter:function(){c(this).addClass(f.styles.hi_btnhov)},mouseleave:function(){c(this).removeClass(f.styles.hi_btnhov)},click:function(){c(this).trigger("pnotify.history-last");return false}})).appendTo("body");var e=c("<span />",{"class":"ui-pnotify-history-pulldown "+f.styles.hi_hnd,mouseenter:function(){b.animate({top:"0"},{duration:100,queue:false})}}).appendTo(b);console.log(e.offset());a=e.offset().top+2;b.css({top:"-"+a+"px"});if(d.fixed){b.addClass("ui-pnotify-history-fixed")}}}},update:function(e,d){this.inHistory=d.history;if(d.fixed&&b){b.addClass("ui-pnotify-history-fixed")}else{if(b){b.removeClass("ui-pnotify-history-fixed")}}},beforeOpen:function(f,d){if(PNotify.notices&&(PNotify.notices.length>d.maxonscreen)){var e;if(f.options.stack.push!=="top"){e=PNotify.notices.slice(0,PNotify.notices.length-d.maxonscreen)}else{e=PNotify.notices.slice(d.maxonscreen,PNotify.notices.length)}c.each(e,function(){if(this.remove){this.remove()}})}}};c.extend(PNotify.styling.jqueryui,{hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"});c.extend(PNotify.styling.bootstrap2,{hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"});c.extend(PNotify.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"});c.extend(PNotify.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"})})(jQuery);